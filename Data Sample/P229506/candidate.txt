we propose a context sensitive query auto completion algorithm, nearestcompletion, which outputs the completions of the user input that are most similar to the context queries. hybridcompletion is shown to dominate both nearestcompletion and mostpopularcompletion, achieving a total improvement of in mrr relative to mostpopularcompletion on average. query auto completion is known to provide poor predictions of the user query when her input prefix is very short. in this paper we show that context, such as the user recent queries, can be used to improve the prediction quality considerably even for such short prefixes. to measure similarity, we represent queries and contexts as high dimensional term weighted vectors and resort to cosine similarity. the mapping from queries to vectors is done through a new query expansion technique that we introduce, which expands a query by traversing the query recommendation tree rooted at the query. in order to evaluate our approach, we performed extensive experimentation over the public aol query log. we demonstrate that when the recent user queries are relevant to the current query she is typing, then after typing a single character, nearestcompletion mrr is higher relative to the mrr of the standard mostpopularcompletion algorithm on average. when the context is irrelevant, however, nearestcompletion mrr is essentially zero. to mitigate this problem, we propose hybridcompletion, which is a hybrid of nearestcompletion with mostpopularcompletion. its main purpose is to predict the userintended query and thereby save her keystrokes. one possible approach to use recent queries to improve query auto completion is to generalize mostpopularcompletion to rely on the popularity of query sequences rather than just the popularity of individual queries. this is in fact the main principle underlying most of the work on context sensitive query recommendations. its average mrr is higher relative to the average mrr of mostpopular completion. query auto completion is one of the most visible features in web search today. ered by all major search engines and in almost all their search boxes. query auto completion helps the user formulate her query, while she is typing it. with the advent of instant as you type search results, the importance of correct query prediction is even more acute, because it determines the speed at which the user sees the suitable results for her intended search and the amount of irrelevant results that are displayed to her along the way. the basic principle that underlies most query auto completion systems is the wisdom of the crowds. the search engine suggests to the user the completions that have been most popular among users in the past. am, bing suggests amazon and american express as the top completions, because these have been the most popular queries starting with am. as the user is typing more characters, the space of possible completions narrows down, and thus the prediction probability increases. for example, if the user is looking for american presidents in bing, after typing the characters american presi the desired query becomes the top completion. clearly, during the rst few keystrokes the user is typing, the search engine has little information about her real intent, and thus the suggested completions are likely to mispredict her query. in our experiments, conducted over the public aol query log, we found that after the rst character, mostpopularcompletionaverage mrr is only. the objective of this study is to tackle the most challenging query auto completion scenario: after the user has entered only one character, try to predict the userquery reliably. being able to predict the userquery on her rst character rather than, say, on her th character would not only save the user a few keystrokes, but would also make the whole search experience more interactive, as the feedback cycle of would be shortened signi cantly. in addition, cutting down the search time for all users implies lower load on the search engine, which translates to savings in machine resources and power. but how can we overcome the inherent lack of information when the user has entered only a few characters of her http: www google com instant intended query our main observation is that the user typically has some context, which can reveal more information about her intent. for example, if just before entering the characters am the user searched for richard nickson, it is more likely that the user is looking for american presidents than for amazon or american airlines. similarly, if the user was browsing a page about president lincoln or reading an article about american history. on the other hand, if the user has just tweeted about a planned trip, american airlines might be the more probable query. recent queries, recently visited web pages, and recent tweets are examples of online activities that may indicate the userintent and, if available, could be used by the search engine to better predict the query even after a few keystrokes. this is called context sensitive query auto completion. while the idea is very intuitive and context has been used in other scenarios to disambiguate user intent, there is almost no published work on its application to query completion. of the many di erent possible user contexts, our focus in this study is on the userrecent queries, as they are readily available to search engines. based on our empirical analysis of the aol log, of the searches are preceded by a di erent search in the same session, and are thus amenable to context sensitive query completion. suppose the userprevious query in the same session isand that the current user input is. then, the search engine will suggest the completions ofthat were most frequently searched for after. for example, if after the query richard nixon the most popular successive query starting with am is american presidents, the search engine will suggest american presidents as its top completion. the main caveat of this approach is that it heavily relies on the existence of reoccurring query sequences in search logs. nevertheless, due to the long tail distribution of query frequencies, many of the query sequences generated by users have never occurred before. some studies tried to mitigate the sparsity of query sequences by clustering similar query sequences together, based on features extracted from queries, like their topical categories or their terms. machine learning techniques, like hmms, are then used to predict the intended query, if the sequence of previous queries can be associated with a cluster in the model. this approach is still challenged by long tail contexts, ie, when the most recent query have rarely occurred in the log. in this case, the sequence of previous queries may not be easily associated with a cluster in the model. moreover, none of these previous studies took the user input into account in the prediction, so their applicability to query auto completion is still unknown. we take a di erent approach to tackle this problem. our algorithm relies on the following similarity assumption: when the context is relevant to the intended user query, the intended query is likely to be similar to the context queries. the similarity may be syntactic or only semantic. by our estimates, of the re nements are non syntactic. based on the similarity assumption, we propose the nearestcompletion algorithm, which works as follows: given a user inputand a context, the algorithm suggests to the user the completions ofthat are most similar to. choosing the suitable similarity measure is non trivial, though, because we would like it to be both correlated with reformulation likelihood and universally applicable. the former requirement guarantees that the completions that are similar to the context are indeed more likely to be the userintended query. the latter requirement makes sure that the algorithm can deal with any user input. the above two requirements make many of the stateof the art query similarity measures less appealing for this problem. for example, syntactic measures, like edit distance, do not take all reformulation types into account. similarity measures that are based on co occurrence in search sessions, on co clicks, or on user search behavioral models, are not universally applicable to all query pairs due to their low coverage of queries, as long tail queries are rare in the query log. similarity measures that are based on search result similarity are not necessarily correlated with reformulation likelihood. given a context, query recommendation algorithms output a list of recommendations that are likely reformulations of the previous query. so a possible similarity measure would be one that associates each query with its recommendations. the main caveat with this approach is that query recommendation algorithms are frequently designed to output only a few high quality recommendations and thus it is plausible that none of them are compatible with the userinput. we propose a new method of measuring query similarity, which expands on the latter recommendations based approach, but is universally applicable and is thus more suitable to query completion. similarly to the result based similarity of broder et al, we expand each query to a richer representation as a high dimensional feature vector and then measure cosine similarity between the expanded representations. the main novelty in our approach is that the rich representation of a query is constructed not from its search results, but rather from its recommendation tree that is, we expand the query by iteratively applying a black box query recommendation algorithm on the query, on its recommendations, on their recommendations, and so on. the nodes of the traversed tree of recommendations are tokenized, stemmed, and split intograms. thesegrams are the features of the expanded representation vector and the weight of eachgram is computed based on its frequency and depth in the tree. first, as the basic building block in the construction is a black box query recommendation algorithm, we can leverage any state of the art algorithm and inherit its power in predicting query reformulations. second, the above scheme provides a continuous spectrum of exceedingly rich representations, depending on the depth of the tree traversed. for example, a depth traversal results in thegrams of the root query itself, while a depth traversal results in thegrams of the query, its recommendations, and their recommendations. the main point is that the feature space remains the same, regardless of the traversal depth. so even if we cannot traverse the recommendation tree of a certain query, the similarity between its representation and the richer representation of other queries is meaningful. this property ensures that our query auto completion algorithm is applicable even for long tail contexts that have never been observed in the log before. our empirical analysis shows that the average mrr of nearestcompletion over queries whose context is relevant is higher relative to the average mrr of mostpopularcompletion over the same queries. however, when the context is irrelevant to the intended query, nearestcompletion becomes destructive, so its average mrr is lower relative to the average mrr of mostpopular completion over all queries. to mitigate this problem, our nal algorithm, hybridcompletion, is a hybrid of mostpopularcompletion and nearestcompletion. each of the two algorithms provides a list of topmatches. we aggregate the two lists by standardizing the contextual score and the popularity score of each candidate completion and then computing. nal score which is a convex combination of the two scores. the completions are ranked by these nal scores. we show that hybridcompletion dominates both nearestcompletion and mostpopularcompletion. as our new algorithm relies on the standard cosine similarity measure between vectors, it can be implemented. this is a crucial property of the algorithm, because query auto completions need to be provided to the user in a splitsecond as she is typing her query. note that the rich representation of the recent queries can be cached and retrieved quickly as the user is typing her current query. the rest of the paper is organized as follows. after reviewing some related work in section #, we provide a brief background about query auto completion algorithms in section #. we describe the nearestcompletion algorithm in section # and the hybridcompletion algorithm in section #. in section # we provide a detailed empirical study of the two algorithms and compare them to mostpopularcompletion. we end with some concluding remarks in section #. user behavior provides many cues to improve the relevance of search results through personalization. one aspect of user behavior that provides especially strong signals for delivering better relevance is an individual history of queries and clicked documents. our findings have implications for the design of search systems that leverage user behavior to personalize the search experience. we also characterize how the relative contribution of each model changes throughout the duration of a session. previous studies have explored how short term behavior or long term behavior can be predictive of relevance. ours is the first study to assess how short term behavior and long term behavior interact, and how each may be used in isolation or in combination to optimally contribute to gains in relevance through search personalization. our key findings include: historic behavior provides substantial benefits at the start of a search session; short term session behavior contributes the majority of gains in an extended search session; and the combination of session and historic behavior out performs using either alone. search personalization improves retrieval effectiveness by tailor ing the ranking of results for individual users based on models of their interests. to construct the profiles necessary for search personalization, evidence of a userinterests can be mined from observed past behaviors. an important determinant of the success of personalization is the behavioral information that is used to construct user profiles. alt hough there has been some work examining the effect of different contextual sources for modeling user interests, another critical aspect of personalization is the timespan of the behavioral information used for profile construction. short term profiles capture recent interactions but lack users long term interests. a principled investigation of the im pact of short and long term behavior on search personalization is lacking and we address that shortcoming with the research pre sented here. in this paper, we investigate how users long term search activity history interacts with their short term search session behavior. we characterize these interactions using a framework for modeling behavior from different timespans and predicting search rele vance. we explore the effectiveness of user profiles developed based on different temporal views. we make the following unique contributions with this research: propose a novel unified modeling framework that provides an integrative view of different parameters of personalization and controls key aspects such as the features generated from behavior and decay factors employed. section # describes our unified framework for combining a user historical behavior with their session activity and outlines the features and model training. section # describes the experiment, including the data and methodology. long term profiles represent long term interests but may not ade quately represent searcher needs for the current task. study dynamics in the relative contribution to personaliza tion of short and long term models over the course of a ses sion. we present findings in section #, discuss them and their implications in section #, and conclude in section #. this behavior can be sourced from the short term or the long term. these studies have shown that personalization is important but often care must be taken in how it is applied, eg, we may only want to personal ize queries which have high click entropy. earlier at tempts to address this challenge leveraged different representa tions for each source or made ad hoc decisions around how to weight distant actions. although each model makes use of sets of search activity gathered over different durations, the same feature set is used for each time span to remove that source of variation, and decay factors are studied in a principled manner. we evaluate the success of these models via a large search log containing queries, results, and clicks, enabling us to compare the performance of each personalized ranker rela tive to that of a high quality commercial search engine in a man ner similar to previous personalization research. as part of our analysis, we confirm intuitions that long term behavior is useful at the start of a session and that short term models yield benefit as the session proceeds. provide new findings on search personalization, such as the special properties of the first query in the session, and the strong performance of models that learn to combine short and long term features for each query, rather than simply ag gregating all features; suggesting that individual queries dif ferentially benefit from short and long term personalization. the remainder of this paper is structured as follows. section # presents related work on model based user behavior analysis for search personalization. in this paper, we propose a novel context aware query suggestion approach which is in two steps. in the offine model learning step, to address data sparseness, queries are summarized into concepts by clustering a click through bipartite. then, from session data a concept sequence suffix tree is constructed as the query suggestion model. query suggestion plays an important role in improving the usability of search engines. although some recently proposed methods can make meaningful query suggestions by mining query patterns from search logs, none of them are context aware they do not take into account the immediately preceding queries as context in query suggestion. in the online query suggestion step, a user search context is captured by mapping the query sequence submitted by the user to a sequence of concepts. by looking up the context in the concept sequence sufix tree, our approach suggests queries to the user in a context aware manner. we test our approach on a large scale search log of a commercial search engine containing billion search queries, billion clicks, and million query sessions. the experimental results clearly show that our approach outperforms two baseline methods in both coverage and quality of suggestions. ectiveness of information retrieval from the web largely depends on whether users can issue queries to search engines, which properly describe their information needs. writing queries is never easy, because usually queries are short and words are ambiguous. therefore, there is no standard or optimal way to issue queries to search engines, and it is well recognized that query formulation is a bottleneck issue in the usability of search engines. that is, by guessing a usersearch intent, a search engine suggests queries which may better re ect the userinformation need. it is hard to determine the usersearch intent, ie, whether the user is interested in the history of gladiator, famous gladiators, or the lm gladiator. moreover, the user is probably searching the lms played by russell crowe. in this paper, we propose a novel context aware query suggestion approach by mining click through data and session data. first, instead of mining patterns of individual queries which may be sparse, we summarize queries into concepts. to tackle these challenges, we develop a novel, highly scalable yet. we develop a novel structure of concept sequence su. third, we empirically study a large scale search log containing billion search queries, billion clicks, and million query sessions. we explore several interesting properties of the click through bipartite and illustrate several important statistics of the session data. the clustering algorithm and the query suggestion method are described in sections and, respectively. to make the problem even more complicated, di erent search engines may respond di erently to the same query. recently, most commercial search engines such as google, yahoo, live search, ask, and baidu provide query suggestions to improve usability. a commonly used query suggestion method is to nd similar queries in search logs and use those queries as suggestions for each other. another approach mines pairs of queries which are adjacent or co occur in the same query sessions. although the existing methods may suggest good queries in some cases, none of them are context aware they do not take into account the immediately preceding queries as context in query suggestion. without looking at the context of search, the existing methods often suggest many queries for various possible intents, and thus may have a low accuracy in query suggestion. if we nd that the user submits a query beautiful mind before gladiator, it is very likely that the user is interested in the lm gladiator. the query context which consists of the recent queries issued by the user can help to better understand the usersearch intent and enable us to make more meaningful suggestions. a concept is a group of similar queries. although mining concepts of queries can be reduced to a clustering problem on a bipartite graph, the very large data size and the curse of dimensionality pose great challenges. we may have millions of unique queries involving millions of unique urls, which may result in hundreds of thousands of concepts. second, there are often a huge number of patterns that can be used for query suggestion. how to mine those patterns and organize them properly for fast query suggestion is far from trivial. the data set in this study is several magnitudes larger than those reported in previous work. last, we test our query suggestion approach on the search log. the experimental results clearly show that our approach outperforms two baseline methods in both coverage and quality of suggestions. the rest of the paper is organized as follows. we rst present the framework of our approach in section # and review the related work in section #. we report an empirical study in section #. capturing the context of a user query from the previous queries and clicks in the same session may help understand the user information need. a context aware approach to document re ranking, query suggestion, and url recommendation may improve users search experience substantially. in this paper, we propose a general approach to context aware search. to capture contexts of queries, we learn a variable length hidden markov model from search sessions extracted from log data. although the mathematical model is intuitive, how to learn a large vlhmm with millions of states from hundreds of millions of search sessions poses a grand challenge. we also devise a method for distributed vlhmm learning under the map reduce model. we test our approach on a real data set consisting of billion queries, billion clicks, and million search sessions, and evaluate the effectiveness of the vlhmm learned from the real data on three search applications: document re ranking, query suggestion, and url recommendation. the experimental results show that our approach is both effective and efficient. we develop a strategy for parameter initialization in vlhmm learning which can greatly reduce the number of parameters to be estimated in practice. capturing the context of a userquery from the previous queries and clicks in the same session may help understand the userinformation need. a context aware approach to the work was done when huanhuan cao was an intern at microsoft research asia. copyright is held by the international world wide web conference committee. document re ranking, query suggestion, and url recommendation may improve users search experience substantially. if ada does not know how to formulate an. ective query to describe her information need, she may issue a series of queries to search for individual brands and models and browse many results one by one. this web site is returned as a search result when a user raises a query such as ford new cars or toyota new cars. www gmc com table #: four search sessions. to understand why context aware search may help, let us consider the search log data shown in table # which contains four sessions. a pattern in the sessions is that in of the sessions, a user clicks on www. com after asking a series of queries about di erent brands of cars. using this pattern, a search engine should promote url www autohome com in the ranked list of search results for ada. another pattern that can be found in the sessions is that in of the sessions, after a series of queries about di erent brands of cars, users will search for car insurance. using this context information, a search engine can provide the corresponding query and url suggestions to improve users search experience. modeling query contexts by mining search sessions is a fundamental and challenging problem. although some progress has been made by the previous studies, most of them only consider correlations within query pairs. such a method cannot capture well the contexts exempli ed in example which are carried by a series of queries and clicks. moreover, each of the previous methods builds a model only for a speci. in this paper, we propose modeling query contexts by a variable length hidden markov model for context aware search. as well recognized by many previous studies such as, a user often raises multiple queries and conducts multiple rounds of interaction with a search engine for an information need. for instance, in example, ada may decompose her general search task, comparing various cars, into several speci. sub tasks, such as searching the cars of ford. in each sub task, ada may bear a particular search intent in mind and formulate a query to describe the intent. moreover, ada may selectively click on some related urls to browse. a hidden markov model naturally describes the search process. we can model each search intent as a state of the hmm, and consider the query and clicked urls as observations generated by the state. the whole search process can be modeled as a sequence of transitions between states as illustrated in figure #. it is possible that a state transits to itself. the vlhmm can re rank the search results by the posterior probability distribution, where st is the current search intent hidden in the user mind and is the context of qt, which is captured by the past queries qt as well as the clicks of those queries. moreover, the vlhmm can even predict the usernext search intent st by and generate query suggestions and url recommendations accordingly. the probability distributions of st and st are inferred from not only the current query, but also the whole context observed so far. for instance, in example, given the current query gmc alone, the probability of ada searching for the homepage of gmc is likely to be higher than that of searching for car review web sites. therefore, the company homepage is ranked higher than www autohome com and suggestions such as gmc dealers are more likely to be served. however, given the context that ada has input a series of car companies and clicked corresponding homepages, the probability of searching for car review sites may significantly increase, while the probability of searching for the gmc homepage may decrease. consequently, the vlhmm will boost the car review web sites, and provide suggestions about car insurance instead of the speci. learning hidden markov models and variants has been well adopted in many applications. however, applying the hidden markov models in context aware search is far from trivial. due to the extremely large search session data, it is impractical to apply the existing algorithms. in a commercial search engine, search logs may contain hundreds of millions of training examples. for instance, in the data set used in our experiments, there are million search sessions. moreover, search logs may contain millions of unique queries and urls, eg, million unique queries and million unique urls in our experimental data, which makes the number of model parameters extremely large. to tackle the problem, in this paper, we develop a strategy for parameter initialization in vlhmm learning which can greatly reduce the number of parameters to be estimated in practice. we also devise a method for distributed vlhmm learning under the map reduce model. ine, it can be used online to support contextaware search in various applications such as document reranking, query suggestion, and url recommendation. first, we propose a novel model to support context aware search. to the best of our knowledge, this is the rst approach towards comprehensive context modeling for context aware search. cient algorithms and strategies for learning a very large vlhmm from huge log data. finally, we test our approach on a real log data set containing billion queries, billion clicks, and million search sessions. the rest of the paper is organized as follows. in section #, we introduce the vlhmm model for search logs. the training methods of very large vlhmm and the applications in context aware search are presented in sections and, respectively. in section #, we report the experimental results. distribution of these papers is limited to classroom use, and personal use by others. thus, she wants to compare the models, price, availability, and deals of various brands. actually, what ada needs is some review web sites such as www autohome com. however, since most search engines treat a user query individually and rank the documents based on the relevance to only the current query, the review web site is usually ranked lower than the sites pages dedicated to the brand in the query. consequently, it is not easy for ada to notice the review web site. to achieve general context aware search, we need a comprehensive model which can be used simultaneously for multiple applications such as document re ranking, query suggestion, and url recommendation. we make the following contributions in this paper. ectiveness of the trained vlhmm on three search applications: document re ranking, query suggestion, and url recommendation, as well as the. the experimental results clearly show our approach is. we describe results from web search log studies aimed at elucidating user behaviors associated with queries and destination urls that appear with different frequencies. we note the diversity of information goals that searchers have and the differing ways that goals are specified. we examine rare and common information goals that are specified using rare or common queries. we identify several significant differences in user behavior depending on the rarity of the query and the destination url. we find that searchers are more likely to be successful when the frequencies of the query and destination url are similar. we also establish that the behavioral differences observed for queries and goals of varying rarity persist even after accounting for potential confounding variables, including query length, search engine ranking, session duration, and task difficulty. finally, using an information theoretic measure of search difficulty, we show that the benefits obtained by search and navigation actions depend on the frequency of the information goal. when searching the web, users typically issue a query to a search engine, are presented with a list of results, and then may click on one or more results in an attempt to satisfy an information goal. along the way, the searcher may modify their initial query in various ways. people have mixed experiences with this permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior specific permission and or a fee. process: search engines do a great job of returning relevant results for some queries and a poor job for others. although there has been a good deal of work characterizing the heavytailed zipf distribution of both queries and target urls, there has been much less work on understanding searchers experiences and behaviors associated with these characteristics. do search engines and searchers behave differently on rare queries than on common ones do rare queries represent rare informational goals, or simply atypical means of specifying common goals how can answers to such questions guide research toward enhancing web search experiences search queries are the articulation of a personinformation goals. people employ a mixture of search and navigation strategies to satisfy these goals. in laboratory studies, participants can be given known search goals or probed about their own information goals. in largescale log studies, information goals must be inferred from patterns of user interactions. one approach to inferring searchers information goals is to consider the patterns of pages viewed in sessions as well as the dwell times on pages as implicit indicators of interest. for example, a researcher may start a session by searching for a another researcher by name, select a link to that colleaguehome page from the results, navigate from the home page to a list of publications, and finally click a link to the paper which satisfies the intent of the search. in this paper, we shall take the last url visited in a search session as a candidate proxy for a searcherunderlying information goal. using such a proxy, for users goals, we can identify relationships between queries and goals that are consistent across many users and diverse search tasks. we seek to understand the relationship between the articulation of a goal and the actual information goal. we investigate how search behavior varies across rare and common queries, in the face of rare and common information goals. we present results from a largescale log study of search sessions from users of major web search engines. after a discussion of previous work, we describe the data collection and session extraction methodology in detail. we then present experimental results describing user behaviors for sessions consisting of queries and target urls of different frequencies. in some cases, we provide empirical confirmation of relationships one might expect to hold between goals and queries; in other cases, the findings are more surprising. our key results include: user behavior following a query varies significantly with the rarity of the userquery or destination url. web search engines are less effective as queries or target urls become rarer; searchers are less likely to click results, and are more likely to reformulate queries. a userquery is often much more specific or general than their underlying information goal. this has important implications for search engine effectiveness: search success is more likely when the relative frequency of the query matches that of the need. the decreased efficacy of search engines on rare needs can be characterized by increases in session length. the average number of queries the user must execute to satisfy rare goals is higher than for common goals. after establishing the results above, we proceed to examine potential confounding variables in the analysis. a number of different variables are known to correlate with user behavior as well as with the rarity of queries and information goals. we find that goal rarity appears to be the paramount influence in our findings, based on an investigation of a variety of variables including query length, search engine ranking, session length, and task difficulty. lastly, we discuss results showing that users often compensate successfully for decreased search engine effectiveness on rare queries by issuing more general queries, and then following hyperlinks to satisfy their need. we conclude with a discussion of the implications of our results for efforts toward enhancing web search. assuming that a query is parallel to the titles of the documents clicked on for that query, large amounts of query title pairs are constructed from clickthrough data; two latent semantic models are learned from this data. it ranks documents for a query by the likelihood of the query being a semantics based translation of the documents. these models are evaluated on the web search task using a real world data set. results show that they significantly outperform their corresponding baseline models, which are state of the art. this paper presents two new document ranking models for web search based upon the methods of semantic representation and the statistical translation based approach to information retrieval. one is a bilingual topic model within the language modeling framework. the semantic representation is language independent and learned from query title pairs, with the assumption that a query and its paired titles share the same distribution over semantic topics. the other is a discriminative projection model within the vector space modeling framework. unlike latent semantic analysis and its variants, the projection matrix in our model, which is used to map from term vectors into sematic space, is learned discriminatively such that the distance between a query and its paired title, both represented as vectors in the projected semantic space, is smaller than that between the query and the titles of other documents which have no clicks for that query. different terms that occur in a similar context are grouped into the same semantic cluster. the research goal of this paper is to develop new ranking models for web search by combining, in a principled way, the methods of semantic representation and statistical translation. our assumption is that the translation between a query and a document can be modeled more effectively by mapping them into some semantic representations that are language independent than by mapping them at the word level. the first is a set of clickthrough based translation models for web search presented and evaluated in, which is a significant extension of the original approach, motivated by the increasingly large amount of clickthrough data. in our experiments, we only used the title field of a web document for ranking. in this paper we present two new document ranking models for web search, a bilingual topic model and a discriminative projection model. the relevance of a query and a document is computed as the similarity between their vectors in the semantic space. we evaluated the two new ranking models on the web search task using a real world data set. results show that they significantly outperform their corresponding baseline models, which are considered state of the art. in the rest of the paper, section # reviews related work. to bridge the lexical gap between queries and documents, the translation based approach allows a document to translate any one of its words. to a different but semantically related query term with a nonzero probability. the ideal training data would be a large amount of query document pairs, in each of which the document is judged as relevant to the query. due to the lack of such training data, resorts to some synthetic query document pairs, and simply uses the title document pairs as substitutes for training data. since recently, with the growing availability of search logs, it is possible to mine implicit relevance judgments from clickthrough data, and to generate a large amount of real query document pairs for translation model training. second, a latent topicis picked for each query term is gener. finally, a queryterm, with probability is the topic specific, where. bag of words, the probability ofgenerating the query is. most modern search engines retrieve web documents by literally matching terms in documents with those in a search query. however, lexical matching methods can be inaccurate due to the language discrepancy between web documents and search queries ie, a concept is often expressed using different vocabularies and language styles in documents and queries. in the last two decades, different latent semantic models have been proposed to address the issue. thus, a query and a document, represented as vectors in the lower dimensional semantic space, can still have a high similarity even if they do not share any term. an alternative strategy to cope with the problem is the approach based on statistical translation: a query term can be a translation of any word in a document which may be different from, but semantically related to the query term; and the relevance of a document given a query is assumed proportional to the translation probability from the document to the query. our work is based on two lines of previous research. following, in this study we consider documents and queries as two different languages, and construct parallel training data from clickthrough data by pairing a query with the titles of the documents that have clicks for that query. different from, our models are trained to capture the map permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior specific permission and or a fee. in modern search engines, a web document is described by multiple fields, including title, body, anchor text etc. in addition to providing simplicity for fast experimentation, our decision is motivated by two factors, as described and empirically justified in. first, titles are more similar to queries both in length and in vocabulary, making the translation model learning more effective. second, the title field gives a good single field retrieval result, although it is much shorter than other fields such as anchor and body; thus it can serve as a reasonable baseline in our experiments. nevertheless, our methods are not limited to the title field, and can be easily applied to the multi field description. ping relationships between terms in a document and terms in a query at the sematic level rather than at the word level. the second line of previous work that lays the foundation of it is easy to verify that if we only allow a word to be translated this study is the research on cross lingual and multi lingual latent semantic models. in these earlier works, various extensions of latent semantic analysis or topic models are developed for applications such as cross lingual ir and retrieval of parallel web pages. in this study we investigate a variety of bilingual latent semantic models, which are the extensions and variants of these previous models. in particular, we focus the research on three aspects: the methods of learning semantic representations from clickthrough data, the approaches to incorporating the latent semantic models into proper ir frameworks, and the evaluation of their effectiveness for web search on a real world data set. the topic model represents a document as a distribution of semantic topics, and is incorporated into the language modeling framework for ir by assuming that a query term is generated from a mixture of these topics. the bilingual topic model learns a semantic representation in such a way that each query and its paired titles, extracted from clickthrough data, share as much as possible the same topic fractions. unlike the topic model, the projection model, similar to lsa, represents a document as a point in the semantic space. it fits naturally the ir framework based on vector space model. different from lsa and its variants, our model learns a projection matrix, which maps the term vector of a document onto a lower dimensional semantic space, using a supervised learning method. inspired by the learning to rank framework, the projection matrix is learned discriminatively in such a way that the distance between a query and its paired title, both represented as vectors in a projected semantic space, is smaller than that between the query and the titles of other documents which have no clicks for that query. sections and describe in detail the bilingual topic model and the discriminative projection model, respectively. is reduced to the simple exact term matching that is used by traditional unigram language modeling approaches. unlike latent semantic models, which will be reviewed shortly, the translation based approach does not map different terms into latent semantic clusters but learns translation relationships directly between a term in a document and a term in a query. a major challenge of this approach is how to estimate the translation probabilities. given enough training data, more sophisticated translation models such as phrase models and factored models have also been investigated. generative topic models one of the first topic models widely used for ir is probabilistic latent semantic analysis. although hofmann applied plsa to ir in the vsm framework in the original paper, plsa is in nature a generative model, and can be more straightforwardly incorporated into the language modeling framework, under which documents are ranked by their probabilities of generating a query. in plsa, a query, viewed as a short document, is generated from a document using the following process. oftopics for each document is selected as the most likely topic distribution for the document. assuming that both a document and a query are from the. during a session, a user constantly modifies queries in order to find relevant documents that fulfill the information need. this paper proposes a novel query change retrieval model, which utilizes syntactic editing changes between adjacent queries as well as the relationship between query change and previously retrieved documents to enhance session search. we propose to model session search as a markov decision process. we consider two agents in this mdp: the user agent and the search engine agent. the user agent actions are query changes that we observe and the search agent actions are proposed in this paper. session search is the information retrieval task that performs document retrieval for a search session. experiments show that our approach is highly effective and outperforms top session search systems in trec year# and year#. query similarity calculation is an important problem and has a wide range of applications in ir, including query recommendation, query expansion, and even advertisement matching. existing work on query similarity aims to provide a single similarity measure without considering the fact that queries are ambiguous and usually have multiple search intents. in this paper, we argue that query similarity should be defined upon search intents, so called intent aware query similarity. by introducing search intents into the calculation of query similarity, we can obtain more accurate and also informative similarity measures on queries and thus help a variety of applications, especially those related to diversification. specifically, we first identify the potential search intents of queries, and then measure query similarity under different intents using intent aware representations. a regularized topic model is employed to automatically learn the potential intents of queries by using both the words from search result snippets and the regularization from query co clicks. experimental results confirm the effectiveness of intent aware query similarity on ambiguous queries which can provide significantly better similarity scores over the traditional approaches. we also experimentally verified the utility of intent aware similarity in the application of query recommendation, which can suggest diverse queries in a structured way to search users. calculating similarities between queries is a key element of various ir applications. for example, query recommendation manages to provide similar queries to users and help them to reformulate their queries regarding their information needs. in query expansion, similar terms are added to improve the recall of search, and the expanded query can also be considered as a similar query to the original query. besides, query similarity can also be helpful to advertisement matching. however, due to the high ambiguity of queries, how to properly de ne the similarity between queries is not a trivial problem. for example, given query apple, it is similar to apple tree if the searcher is looking for apple fruits, while it is also similar to apple store if the search intent is to nd products of the apple company. the similarity is actually not comparable across di erent search intents, which means that we cannot say apple tree is more similar to apple than apple store and vice versa. in this paper, we argue that the similarity between queries should be de ned upon search intents, so called intent aware query similarity note that search intent here refers to the goal or need of a user during a search. in this manner, we can provide more precise and also informative similarity information without being biased by popular intents or wrongly making queries from di erent intents similar. evidently intent aware query similarity will be especially helpful for various diversity problems. to the best of our knowledge, none of existing work formally addressed the problem of similarity calculation with the awareness of search intents and thus it is the unique position of this paper. also it is important to notice that traditional similarity measures may encounter some problems when dealing with ambiguous queries, namely the queries with multiple search intents. various data sources, including search results, user clicks and search sessions, have been employed to enrich the representation of search queries. while similarity measures de ned on these representations can be divided into two major categories: pair wise measures. the similarity is independently measured on each query pair, using similarity functions like cosine similarity, jaccard coe cient, kernel functions, etc. for ambiguous queries, the information from multiple search intents are actually mixed together and thus pair wise measures without the awareness of search intents will be easily biased by dominant search intents and ignore unpopular ones, for example query apple is only similar to apple store but not related to apple tree. the similarity between queries is de ned on a query graph, or query relation graph. it means that the similarity is not pair wise independent and the similarity of adjacent queries is considered. in some sense, graph based measures can be considered as propagating the similarity on top of the query graph. however, if the queries are ambiguous, the propagation should not cross the boundary of di erent search intents. without the awareness of search intents, the queries with di erent search intents will be wrongly connected, for example apple store becomes similar to apple tree. in this paper, as the rst attempt, we cast some light on the problem of intent aware query similarity. speci cally, we propose rst identifying the potential search intents of queries, and then measuring query similarity under di erent search intents using intent aware representations. note that the identi cation of potential search intents of queries are largely di erent from classifying the queries into a set of prede ned categories, since the search intents of queries are usually ne grained and substantial. in our work, a regularized topic model is employed to automatically learn the potential intents of queries by using both the words from search result snippets and the regularization from query coclicks. based on the learned intents of queries, we then extract the query representation under each intent, and thus di erent measures can be applied to measure query similarity with respect to di erent search intents. both pair wise measures and graph based measures can be easily applied. while there are many applications requiring a similarity measure between queries, one direct application in the context of search is query recommendation. in this paper, we adopt query recommendation as an example to demonstrate the usefulness of introducing search intent into the calculation of query similarity. with our approach, we can identify similar queries to the userinitial query with respect to di erent search intents, and then a structured query recommendation can be easily built by grouping diverse recommendations based on the search intents. we conducted experiments based on a large collection of query logs and search results from a commercial search engine, and demonstrated the. ectiveness of our intent aware query similarity by comparing with other baseline methods. experimental results show that by identifying search intents of queries, we can measure query similarity signi cantly better than traditional approaches. we also demonstrate that by grouping query recommendations based on search intents and presenting them in structured way, we can largely enhance users click behaviors on recommendations. the rest of the paper is organized as follows. section # describes our solution to intent aware query similarity. section # discusses applying our application to query recommendations. web searchers often exhibit directed search behaviors such as navigating to a particular website. however, in many circumstances they exhibit different behaviors that involve issuing many queries and visiting many results. in such cases, it is not clear whether the user rationale is to intentionally explore the results or whether they are struggling to find the information they seek. being able to disambiguate between these types of long search sessions is important for search engines both in performing retrospective analysis to understand search success, and in developing real time support to assist searchers. the difficulty of this challenge is amplified since many of the characteristics of exploration are also observed in sessions where people are struggling. in this paper, we analyze struggling and exploring behavior in web search using log data from a commercial search engine. we first compare and contrast search behaviors along a number dimensions, including query dynamics during the session. we then build classifiers that can accurately distinguish between exploring and struggling sessions using behavioral and topical features. finally, we show that by considering the struggling exploring prediction we can more accurately predict search satisfaction. permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. copyrights for components of this work owned by others than acm must be honored. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior specific permission and or a fee. http: dx doi org year# web search engines are a primary mechanism by which people seek information and solve problems. when searchers experience diffi culty in finding information, their struggle may be evident in their search behavior via indicators such as issuing numerous search queries or visiting many results within a search session. how ever, these same search behaviors may also be indicative of explor atory search activity, whereby people actively try to learn a topic and discover new information. accurately distinguishing between struggling and exploring is an important issue for search engines. for example, during post hoc analysis of search logs, the ability to distinguish between these two situations can help to more accurately identify underperforming scenarios, signaling user frus tration or unhappiness. in addition, predictive models could be ap plied to provide appropriate system support if the search situation can be discerned, eg, providing a revised experience for explora tory searches such as a guided tour through related topics. since searchers may be reluctant to describe their situation explic itly to the search engine it is be desirable to predict this automati cally from observed search activity. there is a need to develop methods to automatically identify strug gle and exploration from search behavior. research on leveraging implicit feedback has shown that we can learn when users are dissatisfied based on features of their search activity such as short landing page dwell times and post click query reformulation. previous work on behavioral analysis has shown that multiple query refinements and multiple search result clicks are associated with users experiencing difficulty, frustration, and to events such as search engine switching. however, more querying is not necessarily a negative indicator if the user is learning and con suming content on their journey, and searchers can benefit from the information that they are exposed to as they search. to illustrate the challenge of distinguishing between struggling and exploring automatically, let us present an example of user behavior with a single search session. figure # shows an example of a search session where the user is seeking information on tax soft ware. we can see that in this session the searcher issued many re lated queries and clicked on many results, providing some evidence that they are exploring. however, the queries are closely related, and the inter query time is relatively short for some queries. this provides stronger evidence that the user is in fact struggling to find relevant information pertaining to the annual purchase of specific tax software. in figure #, we see an example of a user exploring different aspects of a topic career development and issuing mul tiple queries and having multiple clicks. while the difference be tween the two types of sessions may be discernible to human judges, existing automatic methods may be unable to perform this distinction using limited information such as the number of queries in the session or session duration. to date, researchers have not de veloped methods to automatically distinguish between struggling and exploring. such mechanisms would have utility for a range of applications, including, as we demonstrate later in the paper, en hancing search satisfaction models, eg, we address this shortcoming with the research presented in this paper. we use behavioral data gathered from a large commercial web search engine and consensus judgments about the type of session from external human assessors. through our analysis, we show clear behavioral differences between struggling and exploring, and use these insights to develop machine learned models capable of accurately distinguishing between the two situations. specifically, we make the following three research contributions with this work presented in this paper: characterize differences in the search behavior associated with struggling and exploring. build predictive models to distinguish between struggling and exploring given behavioral data. integrate the prediction into model of search satisfaction and demonstrate gains in prediction accuracy by considering whether the searcher is struggling or exploring. the remainder of this paper is structured as follows. in section #, we describe related work in areas such as search satisfaction and searcher frustration. section # defines struggling versus exploring and describes the labeled data that we use in our analysis. in section # we compare and contrast search behavior for each of search situ ations. section # describes the predictive model and we provide the findings of our experiments in section #. we discuss the implica tions and limitations in section #, and conclude in section #. perhaps surprisingly, despite qac being widely used, users interactions with it are poorly understood. query auto completion suggests possible queries to web search users from the moment they start entering a query. this popular feature of web search engines is thought to reduce physical and cognitive effort when formulating a query. this allows us to provide a first look at how users interact with qac. due to this strong position bias, ranking quality affects qac usage. we present the results of an in depth user study of user interactions with qac in web search. while study participants completed web search tasks, we recorded their interactions using eye tracking and client side logging. we specifically focus on the effects of qac ranking, by controlling the quality of the ranking in a within subject design. we identify a strong position bias that is consistent across ranking conditions. we also find an effect on task completion, in particular on the number of result pages visited. we show how these effects can be explained by a combination of searchers behavior patterns, namely monitoring or ignoring qac, and searching for spelling support or complete queries to express a search intent. we conclude the paper with a discussion of the important implications of our findings for qac evaluation. query auto completion is a popular feature of todayweb search engines, and domain speci. by suggesting a selection of possible completions based on the query also referred to as query completion, query sug gestion, and real time query expansion. despite the popularity of qac, users interactions with it are poorly understood. ranking quality is found to affect suggestion use. a descriptive analysis of user interactions with qac. permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior speci. information retrieval metrics, such as mean reciprocal rank, have been proposed as evaluation metrics for qac, but without further insights in user interactions with qac, it is not clear to what degree their underlying assumptions are warranted. or commercial advantage and that copies bear this notice and the full citation on the rst page. figure #: example snapshots of query formulation with qac for search tasks and, overlaid with heat maps of eye xations for all participants on each task. as an example, the visualizations in figure # show where searchers looked while formulating queries for two of the search tasks in our study. alternatively, this behavior could be explained by examination bias, ie, by users expectations to nd the best suggestions towards the top of the list. while position bias in interactions with qac was identi ed in previous log studies, our study can distinguish between these alternative explanations. the main contributions of this paper are: an eye tracking study of user interactions with qac; this includes the extension of the methodology for eye tracking studies of user interactions with search engines, analysis and a discussion of potential limitations of the developed approach. we hypothesize that a combination of these patterns can explain the observed ranking effects. copyrights for components of this work owned by others than the author must be honored. our results show that the focus on top suggestions is due to examination bias, not ranking quality. a user has typed so far, qac can help users formulate more effective queries in less time and with less effort. the resulting query formulation support is thought to reduce the effort of interacting with the search engine, leading to a more enjoyable and effective user experience. for instance, qac may help users avoid spelling mistakes, discover relevant search terms, and avoid issuing overly ambiguous queries. how many suggestions do users consider while formulating a query does position bias affect query selection, possibly resulting in suboptimal queries how does the quality of qac affect user interactions and, inversely, can observed behavior be used to infer qac quality in this paper we present the results of an eye tracking study designed to shed light on these questions. we focus on the role that qac ranking quality plays in this process. we see that in both tasks searchers examine primarily the topranked suggestions, in particular at ranks to. this behavior could be due to the high quality of qac rankings. query they had in mind, and this query is shown towards the top of the suggestion list, then examining lower ranked suggestions would be unnecessary. an experimental comparison of the effects of qac ranking quality on users search behavior. we nd a strong position bias that is consistent across ranking conditions. finally, we observe an effect on number of results visited to solve a search task, suggesting a link with query effectiveness. we identify common behavior patterns that generalize across participants, namely monitoring, ignoring, and searching. a detailed discussion of the implications of our ndings for the evaluation of qac systems, especially for the choice of evaluation metric. next, our experiment methodology is presented in section # and our analysis method is described in section #. after presenting our results in section #, we discuss their implications, and potential limitations of our study, in section #. users frequently modify a previous search query in hope of retrieving better results. these modifications are called query reformulations or query refinements. existing research has studied how web search engines can propose reformulations, but has given less attention to how people perform query reformulations. in this paper, we aim to better understand how web searchers refine queries and form a theoretical foundation for query reformulation. we study users reformulation strategies in the context of the aol query logs. we create a taxonomy of query refinement strategies and build a high precision rule based classifier to detect each type of reformulation. effectiveness of reformulations is measured using user click behavior. most reformulation strategies result in some benefit to the user. certain strategies like add remove words, word substitution, acronym expansion, and spelling correction are more likely to cause clicks, especially on higher ranked results. in contrast, users often click the same result as their previous query or select no results when forming acronyms and reordering words. perhaps the most surprising finding is that some reformulations are better suited to helping users when the current results are already fruitful, while other reformulations are more effective when the results are lacking. our findings inform the design of applications that can assist searchers; examples are described in this paper. of the roughly billion daily web searches made by internet users, approximately are modifications to the previous query, also known as query reformulations or query permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior specific permission and or a fee. for example, a user may search for pizza seattle, but alter their query to sausage pizza seattle if they are unsatisfied with the results from the initial query. reformulations make up a large portion of web search activity. in a study of dogpile com logs, jansen et al reported that of search queries were reformulations when ignoring same queries. a study of altavista logs identified that of users reformulated their queries. search engines and humans both try hard to come up with appropriate query reformulations. many web search engines today offer query reformulation suggestions by, for example, mining query logs. users are manually reformulating their queries based on the search results from the initial query, and their knowledge and experience of how search engines work. the reformulation process is an iterative endeavor between users and search engines in getting a satisfactory set of results. while the search engine side of query reformulation has been studied extensively by the search companies and in prior information retrieval research, how users perform query reformulations has received less attention. among the benefits to understanding how people search is being able to automatically propose query reformulations. if many users searching for hummus reformulate their query to hummus recipe, the search engine can be proactive and suggest hummus recipe when the user searches for hummus. users can also benefit from an improved search experience when performing reformulations. currently, search engines present the same interface regardless of whether the user gives it a new query, same query, or query reformulation. being able to accurately detect when a user is making a query reformulation gives the search engine an opportunity to present an improved interface. the goal of this work is to look at the types of query reformulation users perform and evaluate them using effectiveness metrics such as click data. in order to study these metrics, we first construct a taxonomy of query reformulation strategies adopted by users. next, we build a classifier for these different types of reformulations. while there are some existing classifiers that determine whether a query is a reformulation, ours is the first to separate them into reformulation types. our work makes three specific contributions: a comprehensive taxonomy of query reformulation strategies defined by formal language, developed by combining the different types of reformulations reported in existing work and iterative experimentation over query logs. an unsupervised rule based classifier with high precision in detecting the different query reformulation strategies. analysis of correlations between query reformulation strategies and effectiveness metrics, giving us a better overall understanding of query reformulation strategy effectiveness. in this study we strive to develop a series of new latent semantic models with a deep structure that project queries and documents into a common low dimensional space where the relevance of a document given a query is readily computed as the distance between them. to make our models applicable to large scale web search applications, we also use a technique called word hashing, which is shown to effectively scale up our semantic models to handle large vocabularies which are common in such tasks. the new models are evaluated on a web document ranking task using a real world data set. results show that our best model significantly outperforms other latent semantic models, which were considered state of the art in the performance prior to the work presented in this paper. latent semantic models, such as lsa, intend to map a query to its relevant documents at the semantic level where keyword based matching often fails. the proposed deep structured semantic models are discriminatively trained by maximizing the conditional likelihood of the clicked documents given a query using the clickthrough data. modern search engines retrieve web documents mainly by matching keywords in documents with those in search queries. these latent semantic models address the permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. xiaodong he, jianfeng gao, li deng, alex acero, larry heck microsoft research, redmond, wa usa microsoft com language discrepancy between web documents and search queries by grouping different terms that occur in a similar context into the same semantic cluster. extending from lsa, probabilistic topic models such as probabilistic lsa and latent dirichlet allocation have also been proposed for semantic matching. however, these models are often trained in an unsupervised manner using an objective function that is only loosely coupled with the evaluation metric for the retrieval task. these models are trained on clickthrough data using objectives that tailor to the document ranking task. however, the training of bltm, though using clickthrough data, is to maximize a log likelihood criterion which is sub optimal for the evaluation metric for document ranking. on the other hand, the training of dpm involves large scale matrix multiplications. they demonstrated that hierarchical semantic structure embedded in the query and the document can be extracted via deep learning. however, the deep learning approach they used still adopts an unsupervised learning method where the model parameters are optimized for the reconstruction of the documents rather than for differentiating the relevant documents from the irrelevant ones for a given query. as a result, the deep learning models do not, and similarity score of the corresponding concept vectors. more specifically, our best model uses a deep neural network to rank a set of documents for a given query as follows. different from the previous latent semantic models that are learned in an unsupervised fashion, our models are optimized directly for web document ranking, and thus give superior performance, as we will show shortly. the results show that our best model outperforms all the competing methods with a significant margin of in ndcg. in the rest of the paper, section # reviews related work. section # presents the experiments, and section # concludes the paper. significantly outperform the baseline retrieval models based on keyword matching. the neural network models are discriminatively trained using the clickthrough data such that the conditional likelihood of the clicked document given the query is maximized. in our experiments, we show that, by adding this extra layer of representation in semantic models, word hashing enables us to learn discriminatively the semantic models with large vocabularies, which are essential for web search. we evaluated the proposed dssms on a web document ranking task using a real world data set. however, lexical matching can be inaccurate due to the fact that a concept is often expressed using different vocabularies and language styles in documents and queries. latent semantic models such as latent semantic analysis are able to map a query to its relevant documents at the semantic level where lexical matching often fails. copyrights for components of this work owned by others than the author must be honored. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior specific permission and or a fee. thus, a query and a document, represented as two vectors in the lower dimensional semantic space, can still have a high similarity score even if they do not share any term. thus the performance of these models on web search tasks is not as good as originally expected. recently, two lines of research have been conducted to extend the aforementioned latent semantic models, which will be briefly reviewed below. first, clickthrough data, which consists of a list of queries and their clicked documents, is exploited for semantic modeling so as to bridge the language discrepancy between search queries and web documents. for example, gao et al propose the use of bi lingual topic models and linear discriminative projection models for query document matching at the semantic level. more specifically, bltm is a generative model which requires that a query and its clicked documents not only share the same distribution over topics, but also contain similar factions of words assigned to each topic. in contrast, the dpm is learned using thenet algorithm that follows the pairwise learning to rank paradigm outlined in. after projecting term vectors of queries and documents into concept vectors in a low dimensional semantic space, the concept vectors of the query and its clicked documents have a smaller distance than that of the query and its unclicked documents. gao et al report that both bltm and dpm outperform significantly the unsupervised latent semantic models, including lsa and plsa, in the document ranking task. the sizes of these matrices often grow quickly with the vocabulary size, which could be of an order of millions in web search tasks. in order to make the training time tolerable, the vocabulary was pruned aggressively. although a small vocabulary makes the models trainable, it leads to suboptimal performance. in the second line of research, salakhutdinov and hinton extended the semantic modeling using deep auto encoders. superior performance to the conventional lsa is reported. moreover, the semantic hashing model also faces the scalability challenge regarding large scale matrix multiplication. we will show in this paper that the capability of learning semantic models with large vocabularies is crucial to obtain good results in real world web search tasks. in this study, extending from both research lines discussed above, we propose a series of deep structured semantic models for web search. first, a non linear projection is performed to map the query and the documents to a common semantic space. then, the relevance of each document given the query is calculated as the cosine similarity between their vectors in that semantic space. furthermore, to deal with large vocabularies, we propose the so called word hashing method, through which the high dimensional term vectors of queries or documents are projected to low dimensional letter basedgram vectors with little information loss. section # describes our dssm for web search. it is crucial for query auto completion to accurately predict what a user is typing. given a query prefix and its context, conventional context aware approaches often produce relevant queries to the context. the purpose of this paper is to investigate the feasibility of exploiting the context to learn user reformulation behavior for boosting prediction performance. we first conduct an in depth analysis of how the users reformulate their queries. based on the analysis, we propose a supervised approach to query auto completion, where three kinds of reformulation related features are considered, including term level, query level and session level features. these features carefully capture how the users change preceding queries along the query sessions. extensive experiments have been conducted on the large scale query log of a commercial search engine. the experimental results demonstrate a significant improvement over competitive baselines. most of the modern search engines provide the query autocompletion service to help users formulate their queries while they are typing in search boxes. such service is especially helpful for mobile phone users because entering keywords on small touch screens is time consuming. prevalent methods permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. or commercial advantage and that copies bear this notice and the full citation on the rst page. copyrights for components of this work owned by others than acm must be honored. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior speci. on query auto completion utilize search logs to generate suggested completions. for an input pre, the methods extract those queries with matched leading characters from the logs as candidates. could be short and ambiguous, the number of the candidates might be extremely large. existing methods mostly rank the candidates by their popularity in the logs. consequently, less popular queries are harder to predict. a possible solution to the ranking problem is to exploit query context such as previous queries and click through data in the same session. the idea is reasonable since disambiguating the usersearch intent by context has been studied extensively in query suggestion. query suggestion is closely related to query completion. the major di erence is that it has got no partial input, ie, the pre x. in general, if the outputs coming from query suggestion match the pre, they can also be regarded as the suggested completions. and its context, conventional context aware methods focus mainly on ranking the candidates according to the similarity or the dependency between the candidate and the given context. for example, some works rank the candidates based on their similarity to the recent queries or their occurrence with previous queries. some works model query dependencies along the sessions, by which the candidates whose contexts are more similar to the given context will be ranked higher. the work further clusters relevant queries with common click through data into concepts. query dependency is then transformed to concept dependency. ectiveness in producing relevant queries to the given context, query completion is required to accurately predict what the user is typing. take a query session obtained from a commercial search engine log as an example: stomach sounds. suppose the last query is the intended query. its preceding two queries serve as the context. many relevant queries are generated from conventional context aware metho ds such as colon cancer symptoms, celiac disease, and colon cancer in our experiments. although the suggested queries are conceptually relevant to the context, the problem becomes more challenging when the goal is to predict the actual query cramps stomach. some works take into account other factors for pursuing better approximation in query auto completion is hereinafter referred to as query completion for simplicity. a query session is a sequence of queries with the same information need. di erent from ours, they do not utilize the context information. one possible way to boost the prediction performance by context is carefully investigating how the users re ne their queries to get more satisfactory results. if the system gets to know the how, it would be capable of predicting the potential query the user might submit. in addition to query dependency, context information also demonstrates how the users reformulate their queries repeatedly throughout the search process. the way people reformulate their queries, or user reformulation behavior, has been studied as query reformulation strategy in previous work. there are two types of query reformulation strategies: semantic and syntactic relations. semantic relations such as generalization and speci cation originate from linguistics. syntactic relations refer to the statistical information about consecutive queries along the sessions such as term adding, term reuse and the change of query lengths. as the way to do reformulation expresses how one query is changed to another, to some extent it might be helpful in prediction for query completion. in the previous example, the user reuses stomach to form the last query. understanding user search behavior bene ts various applications, including query suggestion, query classi cation and web search result ranking. the work mines user reformulation activities for query suggestion but it does not consider the context information, which has been shown. though lots of work has studied query reformulation strategies, none of them model user reformulation behavior for query completion. as query reformulation strategies re ect how the users re ne their queries and query completion requires accurate prediction of what a user is typing, these motivate us to investigate the feasibility of exploiting the context to learn user reformulation behavior for boosting prediction performance of query completion. in this paper, we focus primarily on learning user reformulation behavior for query completion. we rst conduct an in depth analysis of how the users reformulate their queries. it is expected that if we know how one query is changed to another, we are able to predict the usernext intended query more accurately. and its context together with a set of candidate queries that start with the pre, the goal of this paper is learning to rank the candidate queries so that the top ranked queries are more likely to be the query the user is typing. in other words, we want to predict the intended query that has been partially entered by the user. the context includes previous queries and their chick through data in the same session. as syntactic relations can be easily identi ed by observing the queries themselves, our ranking model comprehensively considers various factors that are essential in query prediction, including termlevel, query level and session level syntactic features. extensive experiments have been conducted on the large scale query log collected from a commercial search engine. the experimental results reveal that the prediction performance can be signi cantly improved based on our model, compared to com in this paper, we focus on the ranking problem only. such improvement is consistent across di erent datasets with di erent session lengths. in the rest of this paper, we make a brief review on related work in section #. based on a statistical analysis on user reformulation behavior in section #, we describe our problem and approach to query completion in section #. the experimental results are presented in section #. finally, in section #, we give our discussions and conclusions. a basic approach that ranks suggestions according to their frequency in query logs is suboptimal. the query suggestion or auto completion mechanisms help users to type less while interacting with a search engine. firstly, many candidate queries with the same prefix can be removed as redundant. secondly, the suggestions can also be personalised based on the user context. these two directions to improve the mechanisms quality can be in opposition: while the latter aims to promote suggestions that address search intents that a user is likely to have, the former aims to diversify the suggestions to cover as many intents as possible. we introduce a contextualisation framework that utilises a short term context using the user behaviour within the current search session, such as the previous query, the documents examined, and the candidate query suggestions that the user has discarded. this short term context is used to contextualise and diversify the ranking of query suggestions, by modelling the user information need as a mixture of intent specific user models. the evaluation is performed offline on a set of approximately test user sessions. our results suggest that the proposed approach significantly improves query suggestions compared to the baseline approach. query suggestion is a mechanism that helps a search engineusers to type less while submitting a query. usually, such suggestions are represented as a list of queries, which are ltered by the pre. this list appears as a user starts to enter a new query and changes as the user types new characters. since up to of queries in the query stream are preceded by other queries within an extended version of this paper can be found at http: terrierteam dcs gla ac uk publications kharitonov cikm. pdf permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. or commercial advantage and that copies bear this notice and the full citation on the rst page. copyrights for components of this work owned by others than acm must be honored. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior speci. the same session, the userearlier behaviour in the session can be a valuable source of contextual information, which can be used to provide the user with a better list of suggestions. to illustrate the utility of such kind of context, let us consider a user has just entered the query, clicked on several pages devoted to native americans and skipped http: www apache org. it is natural to assume that the usernext input refers to and not to. queries that have several possible interpretations, such as, are referred to as ambiguous. another possible direction to improve the query suggestion ranking is to diversify a list of proposed suggestions, ie, to avoid unnecessarily redundant candidates. despite the fact that may be more frequent than, its utility in the presence of the two other candidates can be lower than that of and hence the latter set can be more useful to the users. often, the diversi cation and contextualisation approaches are studied independently. however, if considered independently, they are to some extent contrasting: while diversi cation implies a broad coverage of intents in order to satisfy as many users as possible, contextualisation aims to cover only the needs of a particular user. in some sense, both approaches constitute possible ways to deal with the lack or presence of the userintent preference information and a problem arises in how to combine them in a mathematically motivated manner. in this paper, we describe a framework that is capable of providing a user whose intentions are clear with highly contextualised queries and a user without context with diversi ed suggestions. we investigate how both the short term search context and the query candidates diversi cation can be combined to provide a user with suggestions that are more useful with fewer typed characters. our contributions in this paper can be summarised as follows: a framework to perform contextualised and diversi ed query suggestions ranking; a generative model of user behaviour that is capable of inferring the userreal intent from their short term context, namely the previously entered query, the documents skipped and clicked, and the discarded query suggestions; a thorough experimental evaluation of the framework. the rest of this paper is organised as follows. ing some related work in section #, we discuss our framework to perform a contextualised and diversi ed ranking of query suggestions in section #. next, we describe our proposed approach to model user behaviour and how it can be used to represent the user context. the experimental setup of our evaluation is described in section #. finally, we report the results obtained in section # and close the paper with some conclusions in section #. query auto completion facilitates faster user query input by predicting users intended queries. most qac algorithms take a learning based approach to incorporate various signals for query relevance prediction. however, such models are trained on simulat ed user inputs from query log data. the lack of real user interaction data in the qac process prevents them from further improving the qac performance. in this work, for the first time we collect a high resolution qac query log that records every keystroke in a qac session. based on this data, we discover two user behaviors, namely the horizontal skipping bias and vertical position bias which are crucial for rele vance prediction in qac. in order to better explain them, we pro pose a novel two dimensional click model for modeling the qac process with emphasis on these behaviors. extensive experiments on our qac data set from both pc and mobile devices demonstrate that our proposed model can accurate ly explain the users behaviors in interacting with a qac system, and the resulting relevance model significant improves the qac performance over existing click models. furthermore, the learned knowledge about the skipping behavior can be effectively incorpo rated into existing learning based models to further improve their performance. query auto completion is one of the most important components of a modern web search engine which facilitates faster user query input by predicting the users intended queries. it is offered by most of the search engines, commerce portals and major browsers. with the prevalence of mobile devices, it becomes more critical because typing takes more effort in mobile devices than in pcs. previous studies addressed the qac problem in different perspectives, ranging from designing more ef cient indexes and algorithms, leveraging context in long term and short term query history, learning to combine more personalized signals such as gender, age and location, suggesting queries from a mis spelled pre. the query auto completion process starts when a user enters the rst character into the search box. after that, she goes through a series of interactions with the qac engine until she clicks on an intended query. such interactions include examining the suggested results, continuing to type, and clicking on a query in the list. although previous approaches model the relevance ranking with many features, these models are usually only trained on the nal submitted queries, ignoring the entire user interactions from the rst character she types to the nal query she has clicked. one dif culty for improving the qac quality is the lack of data about ne grain user interactions in qac. recent work has attempted to leverage all pre xes of a submitted query. however the only available data is the submitted query; while the pre xes are simulated from all possible pre xes of the query. lack of associated information, such as the suggested list, user typing speed and other real user interactions, prevents such methods from further improving their performance. for this purpose, we have collected a high resolution qac dataset from both pc and mobile phones, in which each keystroke of a user and the system response are recorded. as far as we know, this is the rst dataset with this level of resolution speci cally for qac. extensive studies have already demonstrated the importance of query log for web document retrieval. therefore, it is reasonable to believe this new kind of qac log could potentially enable a full spectrum of researches for qac, such as user behavior analysis, relevance ranking, interactive system design for qac, just to name a few. given many possibilities for mining this new data, in this paper we focus on leveraging it for understanding users behavior in qac. speci cally based on our qac log, we have observed a phenomenon that in qac users frequently skip several suggestion lists, even though such lists contain the nal submitted query. the exact reason why this happens and how frequent it happens is largely unknown. besides, we also observed that most of the clicked queries are concentrated at top positions. better understanding of these behaviors has a strong implication to the relevance modeling. for instance, we assume that a user does not click a suggested query due to the lack of relevance; however the skipping behavior complicates this hypothesis. so, if we know the positions where such skipping behavior happens, we could improve the candidate ranking in qac by taking into account the examples in the positions where they are more likely to be examined. despite its importance, little research has been done in explaining such behaviors. the qac process shares similarities with the web document retrieval: in qac people look for intended queries with a pre, while in document retrieval people look for relevant documents with a query. and in document retrieval, click models are widely used to model the users examination and clicking behavior. thus we could potentially adopt an existing click model to shed light on the qac user behavior. however, there are major differences between the qac process and document retrieval. for example, in document retrieval a user usually examines one result page before she lands on a click, while in qac she usually types in a series of pre xes and examines multiple lists of suggestions before landing on a click. due to these differences, most current click models are not applicable to the qac problem without signi cant modi cation. therefore in this paper we propose a novel two dimensional click model for understanding the user behaviors in qac. this click model is consisted of a horizontal component that captures the skipping behavior, a vertical component that depicts the vertical examination bias, and a relevance model that re ects the intrinsic relevance between a pre. we have performed a set of experiments on our qac datasets from pc and mobile phones. results show that our proposed model can effectively model the user behavior in qac. the resulting relevance model signi cant improves the qac performance over existing click models. we also show that the learned knowledge about users behavior, especially the probability of skipping a column of suggestion candidates, could serve as labeling information to improve the performance of existing learning based approaches. furthermore, with the learned model we demonstrated some interesting insights of the user behaviors in qac on both platforms. we summarize our contributions as follows: we have collected the rst set of high resolution query log speci. for the qac process, which could enable many studies on deeper understanding of qac. based on the new qac log, we analyze two important types of user behavior in qac, namely the horizontal skipping bias and vertical position bias. the horizontal skipping bias is unique to qac and is formally introduced here for the rst time. we propose a novel two dimensional click model to model these types of user behavior. our model outperforms the state of the art click models on relevance ranking. we also utilize our model to derive interesting insights about the qac user behavior on pc and mobile devices. to tackle the challenges, our approach consists of two stages. in the first, offline model learning stage, to address data sparseness, queries are summarized into concepts by clustering a click through bipartite. in the second, online query suggestion stage, a usersearch context is captured by mapping the query sequence submitted by the user to a sequence of concepts. the experimental results clearly show that our approach outperforms three baseline methods in both coverage and quality of suggestions. query suggestion plays an important role in improving usability of search engines. although some recently proposed methods provide query suggestions by mining query patterns from search logs, none of them models the immediately preceding queries as context systematically, and uses context information effectively in query suggestions. context aware query suggestion is challenging in both modeling context and scaling up query suggestion using context. in this article, we propose a novel context aware query suggestion approach. a concept sequence suffix tree is then constructed from session data as a context aware query suggestion model. by looking up the context in the concept sequence suffix tree, we suggest to the user context aware queries. we test our approach on large scale search logs of a commercial search engine containing billion web queries, billion clicks, and billion search sessions. therefore, there is no standard or optimal way to raise queries to all search engines, and it is well recognized that query formulation is a bottleneck issue in the usability of search engines. that is, by guessing a usersearch intent, a search engine can suggest queries which may better re ect the userinformation need. if we nd that the user submits a query beautiful mind before gladiator, it is very likely that the user is interested in the lm gladiator. there are two critical issues in the context aware approach. first, how should we model and capture contexts well users may raise various queries to describe the same information need. to tackle this problem, we propose summarizing individual queries into concepts, where a concept consists of a small set of queries that are similar to each other. using concepts to describe contexts, we can address the sparseness of queries and interpret users search intent more accurately. moreover, to cover new queries not in the click through figure #. we will describe how to mine concepts of queries and build feature vectors for concepts in section #. it is infeasible to search a huge search log online for a given context. we then look up the context in the concept sequence suf. figure # shows the framework of our context aware approach, which consists of two stages. the major contributions of this work are summarized as follows. although mining concepts of queries can be reduced to a clustering problem on a bipartite graph, the very large data size and the curse of dimensionality pose great challenges. to tackle these challenges, we develop a novel and effective clustering algorithm in linear time complexity. to tackle this challenge, we represent each concept derived from the log data by a url feature vector and a term feature vector. new queries can thus be recognized as belonging to some concepts through the two types of feature vectors. fourth, we conduct extensive studies on a large scale search log dataset which contains billion web queries, billion clicks, and billion query sessions. we explore several interesting properties of the click through bipartite and illustrate several important statistics of the session data. the data set in this study is several magnitudes larger than those reported in previous work. last, we test our approach on the search log data. the experimental results clearly show that our approach outperforms three baseline methods in both coverage and quality of suggestions. the rest of the article is organized as follows. we rst review the related work in section #. the effectiveness of a userinformation retrieval from the web largely depends on whether the user can raise queries properly describing the information need to search engines. writing queries is never easy, partially because queries are typically expressed in a very small number of words and many words are ambiguous. to make the problem even more complicated, different search engines may respond differently to the same query. recently, most commercial search engines such as google, yahoo, and bing provide query suggestions to improve usability. a commonly used query suggestion method is to nd similar queries in search logs and use those queries as suggestions for each other. another approach mines pairs of queries which are adjacent or co occur in the same query sessions. although the existing methods may suggest good queries in some scenarios, none of them models the immediately preceding queries as context systematically, and uses context information effectively in query suggestions. context aware query suggestion is challenging in both modeling context and scaling up query suggestion using context. it is hard to determine the usersearch intent, that is, whether the user is interested in the history of gladiator, famous gladiators, or the lm gladiator without looking at the context of search, the existing methods often suggest many queries for various possible intents, and thus result in a low accuracy in query suggestion. moreover, the user is probably searching the lms played by russell crowe. the query context which consists of the search intent expressed by the userrecent queries can help to better understand the usersearch intent and make more meaningful suggestions. in this article, we propose a novel context aware approach for query suggestion by mining concept sequences from click through data and session data. when a user submits a query, our context aware approach rst captures the context of, which is re ected by a short sequence of queries issued by the same user immediately before. the historical data are then checked to nd out what queries many users often ask afterin the same context. for example, to search for microsoft research asia, queries microsoft research asia, msra or ms research beijing may be formulated. directly using individual queries to describe context cannot capture contexts concisely and accurately. to mine concepts from queries, we use the urls clicked by users as the features of the corresponding queries. in other words, we mine concepts by clustering queries in a click through bipartite. bipartite, we represent each concept by a url feature vector and a term feature vector. with the help of concepts, a context can be represented by a short sequence of concepts corresponding to the queries asked by a user in the current session. the next issue is that, given a particular context, what queries many users often ask in the following. we propose a context mining method which mines frequent contexts from historical sessions in search logs. the frequent contexts mined are organized into a concept sequence suf. the previous mining process is conducted of ine. in the online stage, when a userinput is received, we map the sequence of queries into a sequence of concepts as the usersearch context. tree to nd out the concepts to which the usernext query most likely belongs, and suggest the most popular queries in those concepts to the user. the details about mining sessions, building a concept sequence suf. tree, and making query suggestions are discussed in section #. the of ine model learning stage mines concepts from a click through bipartite constructed from search logs, creates feature vectors for the concepts, and builds a concept sequence suf. the online query suggestion stage maps user query sequences into a concept sequence, looks up the concept sequence against the concept sequence suf. tree, nds the concepts that the usernext query may belong to, and suggests the most popular queries in the concepts. first, instead of mining patterns of individual queries which may be sparse, we summarize queries into concepts. a concept is a group of similar queries. we further increase the scalability of the clustering algorithm through two approaches. second, there are often a huge number of patterns that can be used for query suggestion. mining those patterns and organizing them properly for online query suggestion. third, users raise new queries to search engines everyday. most log based query suggestion methods cannot handle novel queries that do not appear in the historical data. the clustering algorithm and the query suggestion method are described in sections and, respectively. we report an empirical study in section #. our results confirm that lower ranked auto completion suggestions receive substantially lower engagement than those ranked higher. query auto completion is a popular feature of web search engines that aims to assist users to formulate queries faster and avoid spelling mistakes by presenting them with possible completions as soon as they start typing. however, despite the wide adoption of auto completion in search systems, there is little published on how users interact with such services. in this paper, we present the first large scale study of user interactions with auto completion based on query logs of bing, a commercial search engine. we also observe that users are most likely to engage with auto completion after typing about half of the query, and in particular at word boundaries. interestingly, we also noticed that the likelihood of using auto completion varies with the distance of query characters on the keyboard. overall, we believe that the results reported in our study provide valuable insights for understanding user engagement with auto completion, and are likely to inform the design of more effective qac systems. however, the details of userinteractions with qac systems are poorly understood. this sort of system is assumed to make it easier for users to enter effective search queries, in particular by avoiding common mistakes such as misspellings and using particularly ambiguous queries. sigir, july year#, gold coast, qld, australia copyright year# acm year#. query logs capture the interactions of users with search systems and provide valuable insights about how users search. therefore, perhaps it is not surprising that query logs have been studied extensively to model user interactions with different components of search engines, such as search results, vertical results, ads and related searches. in the second part, we focus on differences in qac usage with respect to various attributes of the partial query already typed typically referred to as query pre. most modern search engines implement some form of query auto completion, where users are shown possible completions for their query from the moment they type the rst character. in this paper we study some of the latent factors besides query suggestion quality that in uence user engagement with qac systems. speci cally, we analyze the logs from bing, a permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. or commercial advantage and that copies bear this notice and the full citation on the rst page. copyrights for components of this work owned by others than acm must be honored. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior speci. http: dx doi org year# large commercial search engine, to identify conditions under which users are more likely to engage with a qac system. in this paper, we present the rst large scale query log analysis on qac. in the rst part of our analysis, we investigate how qac usage varies with suggestion position and the topical class of a userintent. a major limitation of most existing retrieval models and systems is that the retrieval decision is made based solely on the query and document collection; information about the actual user and search context is largely ignored. in this paper, we study how to exploit implicit feedback information, including previous queries and clickthrough information, to improve retrieval accuracy in an interactive information retrieval setting. we propose several context sensitive retrieval algorithms based on statistical language models to combine the preceding queries and clicked document summaries with the current query for better ranking of documents. we use the trec ap data to create a test collection with search context information, and quantitatively evaluate our models using this test set. experiment results show that using implicit feedback, especially the clicked document summaries, can improve retrieval performance substantially. we de ne implicit feedback broadly as exploiting all such naturally available interaction history to improve retrieval results. in most existing information retrieval models, the retrieval problem is treated as involving one single query and a set of documents. from a single query, however, the retrieval system can only have very limited clue about the userinformation need. an optimal retrieval system thus should try to exploit as much additional context information as possible to improve retrieval accuracy, whenever it is available. indeed, context sensitive retrieval has been identi ed as a major challenge in information retrieval research. permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. or commercial advantage and that copies bear this notice and the full citation on the rst page. to copy otherwise, to republish, to post on servers or to redistribute to lists, requires prior speci. there are many kinds of context that we can exploit. relevance feedback can be considered as a way for a user to provide more context of search and is known to be effective for improving retrieval accuracy. however, relevance feedback requires that a user explicitly provides feedback information, such as specifying the category of the information need or marking a subset of retrieved documents as relevant documents. since it forces the user to engage additional activities while the bene ts are not always obvious to the user, a user is often reluctant to provide such feedback information. thus the effectiveness of relevance feedback may be limited in real applications. for this reason, implicit feedback has attracted much attention recently. in general, the retrieval results using the userinitial query may not be satisfactory; often, the user would need to revise the query to improve the retrieval ranking accuracy. for a complex or dif cult information need, the user may need to modify his her query and view ranked documents with many iterations before the information need is completely satis ed. in such an interactive retrieval scenario, the information naturally available to the retrieval system is more than just the current user query and the document collection in general, all the interaction history can be available to the retrieval system, including past queries, information about which documents the user has chosen to view, and even how a user has read a document. a major advantage of implicit feedback is that we can improve the retrieval accuracy without requiring any user effort. for example, if the current query is java, without knowing any extra information, it would be impossible to know whether it is intended to mean the java programming language or the java island in indonesia. as a result, the retrieved documents will likely have both kinds of documents some may be about the programming language and some may be about the island. however, any particular user is unlikely searching for both types of documents. such an ambiguity can be resolved by exploiting history information. for example, if we know that the previous query from the user is cgi programming, it would strongly suggest that it is the programming language that the user is searching for. implicit feedback was studied in several previous works. in, joachims explored how to capture and exploit the clickthrough information and demonstrated that such implicit feedback information can indeed improve the search accuracy for a group of people. in, a simulation study of the effectiveness of different implicit feedback algorithms was conducted, and several retrieval models designed for exploiting clickthrough information were proposed and evaluated. in, some existing retrieval algorithms are adapted to improve search results based on the browsing history of a user. other related work on using context includes personalized search, query log analysis, context factors, and implicit queries. while the previous work has mostly focused on using clickthrough information, in this paper, we use both clickthrough information and preceding queries, and focus on developing new context sensitive language models for retrieval. speci cally, we develop models for using implicit feedback information such as query and clickthrough history of the current search session to improve retrieval accuracy. we use the kl divergence retrieval model as the basis and propose to treat context sensitive retrieval as estimating a query language model based on the current query and any search context information. we propose several statistical language models to incorporate query and clickthrough history into the kl divergence model. one challenge in studying implicit feedback models is that there does not exist any suitable test collection for evaluation. we thus use the trec ap data to create a test collection with implicit feedback information, which can be used to quantitatively evaluate implicit feedback models. to the best of our knowledge, this is the rst test set for implicit feedback. we evaluate the proposed models using this data set. the experimental results show that using implicit feedback information, especially the clickthrough data, can substantially improve retrieval performance without requiring additional effort from the user. in section #, we attempt to de ne the problem of implicit feedback and introduce some terms that we will use later. in section #, we propose several implicit feedback models based on statistical language models. in section #, we describe how we create the data set for implicit feedback experiments. in section #, we evaluate different implicit feedback models on the created data set. section # is our conclusions and future work. query auto completion is one of the most prominent features of modern search engines. the list of query candidates is generated according to the prefix entered by the user in the search box and is updated on each new key stroke. query prefixes tend to be short and ambiguous, and existing models mostly rely on the past popularity of matching candidates for ranking. however, the popularity of certain queries may vary drastically across different demographics and users. for instance, while instagram and imdb have comparable popularities overall and are both legitimate candidates to show for prefix, the former is noticeably more popular among young female users, and the latter is more likely to be issued by men. in this paper, we present a supervised framework for personalizing auto completion ranking. we introduce a novel labelling strategy for generating offline training labels that can be used for learning personalized rankers. we compare the effectiveness of several user specific and demographic based features and show that among them, the user long term search history and location are the most effective for personalizing auto completion rankers. we perform our experiments on the publicly available aol query logs, and also on the larger scale logs of bing. the results suggest that supervised rankers enhanced by personalization features can significantly outperform the existing popularity based base lines, in terms of mean reciprocal rank by up to. the two exceptions are the work by bar yossef and kraus, and weber and castillo. the query frequencies of instagram and imdb according to google trends. all four suggestions are popular queries with comparable historical frequencies. auto completion is among the rst services that the users interact with as they search and form their queries. following each new character entered in the query box, search engines lter suggestions that match the updated pre, and suggest the top ranked candidates to the user. the rst step is often facilitated by using data structures such as pre. in the second step, those suggestions that match the pre. the likelihood values are often approximated with respect to aggregated past frequencies although other approaches that rank suggestions according to their predicted future popularities have been also explored. in majority of previous work, the likelihood of qac suggestions are computed globally and are considered to be the same for all users. hence for a given pre, all users are presented with the same set of suggestions. bar yossef and kraus added a session bias parameter in auto completion ranking by comparing candidates with the queries recently submitted by the user. however, the notion of likelihood for a query does not vary across users, or demographic groups, plus their work is not applicable on single query sessions that account for no less than of the search tra. weber and castillo discussed the di erences in query distributions across various demographics and brie. covered query completion by focusing on predicting the second query term. in essence, they build a conditional probabilistic model for common phrases based on a set of demographic features. their model is based on simple aggregation over di erent demographics and does not address the sparsity issues as more features are added. weber and castillo do not consider any user speci. feature, and do not report the results for more general scenarios where only the rst few characters of queries are entered. in this paper, we propose a novel supervised framework for learning to personalize auto completion rankings. we are motivated by the previous studies that demonstrated that the query likelihoods vary drastically between di erent demographic groups and individual users. inspired by these observations we develop several features based on users age, gender, location, short and long history for personalizing auto completion figure #: the default auto completion candidates for pre. according to the us market version of google com. was typed in private browsing mode and the snapshot was taken on wed, jan, year#. for instance, consider the auto completion candidates returned by google for pre. in particular, the frequency distributions for instagram, and imdb are demonstrated in figure # according to google trends the depicted trends suggest similar likelihoods for both imdb and instagram, although the popularity of the latter is rising. in general, in the absence of any information about the user, the ranking of qac candidates in figure # look reasonable although models based on temporal query frequency trends may boost the position of instagram. the question we are addressing in this work, is how this ranking can be further improved if there are some additional information available about the user. figure # compares the likelihood of instagram and imdb among di erent demographics of users according to yahoo clues at the bottom of figure # the same analysis is repeated using the query logs of bing search engine which we use as one of the testbeds in our experiments. the overall trends are remarkably similar; instagram is mostly popular among young female users below the age of. in contrast, the query imdb is issued more often by male users particularly those between the age of to. hence, going back to figure #, if we knew that the person issuing the query was an under female user, perhaps the original order of qac candidates could be improved by boosting instagram. then again, if the previous query submitted by the user in the session was about ipad covers boosting ipad could be possibly better. we investigate how such additional information can be used in a supervised framework for personalizing autocompletion. to train personalized auto completion rankers, we introduce a new strategy for generating training labels from previous queries in the logs. our experiments on two large scale query logs suggest that integrating demographic and personalized features can signi cantly improve the effectiveness of auto completion. the remainder of this paper is organized as follows; we continue by covering the related work in section #. was submitted to the us market version of google com on january, year#, in private browsing mode. http: www google com trends http: clues yahoo com, discontinued in march year# figure #: the likelihood of instagram and imdb in queries submitted by di erent demographics according to yahoo clues. the likelihood of instagram and imdb in queries submitted by the logged in users of bing. framework for personalized auto completion is described in section #. section # discusses our testbed data, and the features used for personalization. the evaluation results are presented in section #. finally, we conclude in section # and suggest a few directions for future work. query auto completion is a common feature in modern search engines. high quality qac candidates enhance search experience by saving users time that otherwise would be spent on typing each character or word sequentially. current qac methods rank suggestions according to their past popularity. however, query popularity changes over time, and the ranking of candidates must be adjusted accordingly. for instance, while halloween might be the right suggestion after typing ha in october, harry potter might be better any other time. surprisingly, despite the importance of qac as a key feature in most online search engines, its temporal dynamics have been under studied. in this paper, we propose a time sensitive approach for query auto completion. instead of ranking candidates according to their past popularity, we apply time series and rank candidates according their forecasted frequencies. our experiments on queries and their daily frequencies sampled over a period of years show that predicting the popularity of queries solely based on their past frequency can be misleading, and the forecasts obtained by time series modeling are substantially more reliable. our results also suggest that modeling the temporal trends of queries can significantly improve the ranking of qac candidates. query auto completion is a feature incorporated in essentially every search engine, where the goal is to save permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior specific permission and or a fee. kira radinsky technion, israel institute of technology haifa, israel kirar cs technion ac il user time by predicting userintent and suggesting possible other queries matching the rst few keystrokes typed. the ltering of related candidates is typically based on string matching, and the ranking is ideally based on the likelihood of the ltered candidate being the query which the user has in mind. the latter challenge is the focus of this paper, for which the goal is to sort queries according to their expected popularity. the common practice is to use past frequencies as proxy for future popularity. however, those approaches assume that user intent is static and does not change over time. simple aggregation can overshadow the temporal trends that could potentially provide valuable signals for better ordering of qac candidates. consider the example in figure # where a user has typed di in google query box on sunday, february th, year#. at the rst glance, knowing that dictionary is generally a more frequent query than disney, it might be di cult to notice how the ranking might be improved. however, looking at the daily trends for these queries in figure # reveals that disney is more popular on weekends. hence, given that the rst snapshot was taken on a sunday, swapping disney and dictionary couldleadtoabetterrankingatthetimeofthis query. similar observations can be made for di erent granularity of time spans. for instance, previous work has shown that users are more likely to search for entertainmentrelated queries at night, while queries related to personal nance are more common in the morning. therefore, the ranking of qac candidates can vary dynamically even according to the time of the day. in this paper, we add time sensitivity to ranking autocompletion candidates. we consider the temporal variations of query popularity in ranking qac suggestions, that are normally shadowed by aggregation. rather than summarizing the entire query history in one aggregated number as expected popularity, we rely on shorter but more frequent aggregation of data, and model the overall query trends by time series. we show that the expected popularity values produced by our time sensitive approaches are closer approximations to what will be observed later in the logs, and are more. the contributions of this work are three fold: first, we study the shadowing problem that is caused by ignoring the temporal variations of query frequency in data aggregation. we investigate several aggregation options and show that query popularity predictions based on shorter but more recent data are more accurate than those produced based on aggregation over longer periods. this simple and counter figure #: google auto completion candidates after typing di on sunday, february th, year#. figure #: daily frequencies for queries dictionary and disney during january year# according to google trends. among the two queries, disney is more popular on weekends, while dictionary is issued more commonly by users on weekdays. intuitive nding, can be useful in scenarios where applying more sophisticated time series models is feasible. second, we introduce a time sensitive query auto completion model in which the expected popularity of each query suggestion is forecasted by time series, and dynamically varies depending on the time of query. finally, we perform a large scale analysis over years of sampled log data, and evaluate our predictions on daily and monthly intervals. our experimental results indicate that accurate query popularity forecasts are essential in generating high quality qac rankings. search trails mined from browser or toolbar logs comprise queries and the post query pages that users visit. implicit endorsements from many trails can be useful for search result ranking, where the presence of a page on a trail increases its query relevance. follow ing a search trail requires user effort, yet little is known about the benefit that users obtain from this activity versus, say, sticking with the clicked search result or jumping directly to the destination page at the end of the trail. in this paper, we present a log based study estimating the user value of trail following. we compare the relevance, topic coverage, topic diversity, novelty, and utility of full trails over that provided by sub trails, trail origins, and trail destinations. our findings demonstrate significant value to users in following trails, especially for certain query types. the findings have implications for the design of search systems, including trail recommendation systems that display trails on search result pages. web search engines afford keyword access to web content. in response to search queries, these engines return lists of web pages ranked based on their predicted relevance. for decades, the information retrieval research community has worked extensively on algorithmic techniques to effectively rank documents. however, research in areas such as information foraging, berrypicking, and orienteering, suggests that individual items may be insufficient for vague or complex information needs. in such circumstances, search results may only serve as the starting points for exploration. search trails are a series of web pages starting with a search query and terminating with an event such as session inactivity. although the traversal of trails following a query is common, little is known about how much value users derive from following the trail versus sticking with the origin or jumping to the destination page at the end of the trail. in this permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior specific permission and or a fee. jeff huang university of washington seattle, wa usa sigir jeffhuang com paper we present a log based study estimating the value to users of traversing multi page search trails. our primary aim is to estimate the benefit that trail following brings to users under different metrics versus viewing only the origin and or destination pages. significant differences in the performance of trails over origins and destinations would suggest that users benefit from the journey as well as the origin and the destination. knowing if and when this is the case could help us build more effective search systems centered around trails, eg, full trails could be shown to users directly on the results page. we estimate the value of trails, subtrails, origins, and destinations based on the relevance, completeness, diversity, novelty, and utility of the information they contain. we conduct this study using a log based methodology since logs contain evidence of real user behaviors at scale and provide coverage of many types of information needs. information need coverage is important since differences in source performance may not hold for all search tasks. the remainder of this paper is structured as follows. section # describes the primary data source used in our study, as well as the extraction and labeling of search trails, and trail statistics. section # describes the experiment performed to estimate the value of trails or sub trails, including a comparison with trail origins and trail destinations. section # describes the findings of our study for all queries and different query types. findings are discussed along with their implications in section #. query auto completion is a common interactive feature that assists users in formulating queries by providing completion suggestions as they type. in order for qac to minimise the user cognitive and physical effort, it must: suggest the user intended query after minimal input keystrokes, and rank the user intended query highly in completion suggestions. typically, qac approaches rank completion suggestions by their past popularity. accordingly, qac is usually very effective for previously seen and consistently popular queries. users are increasingly turning to search engines to find out about unpredictable emerging and ongoing events and phenomena, often using previously unseen or unpopular queries. consequently, qac must be both robust and time sensitive that is, able to sufficiently rank both consistently and recently popular queries in completion suggestions. to address this trade off, we propose several practical completion suggestion ranking approaches, including: a sliding window of query popularity evidence from the past days, the query popularity distribution in the lastqueries observed with a given prefix, and short range query popularity prediction based on recently observed trends. using real time simulation experiments, we extensively investigated the parameters necessary to maximise qac effectiveness for three openly available query log datasets with prefixes of characters: msn and aol, and sogou year#. optimal parameters vary for each query log, capturing the differing temporal dynamics and querying distributions. results demonstrate consistent and language independent improvements of up to over a non temporal qac baseline for all query logs with prefix lengths of characters. this work is an important step towards more effective qac approaches. web searching is a ubiquitous activity performed by millions of users daily. however, cognitively formulating and physically typing search queries is a time consuming and error prone process. spelling mistakes, forgetfulness and information need uncertainty often make textual query input laborious. in response, search engines have widely adopted query auto completion as a means of reducing the effort required to submit a query. as the user types their query into the search box, qac suggests possible queries the user may have in mind, beginning with the currently input character sequence. the primary objective for effective qac is to present the userintended query after the fewest possible keystrokes, and at the highest rank in the list of completion suggestions. the most common approach to qac is to extract past queries with each pre. from a query log, and rank them by their past popularity; this assumes current query popularity is the same as past query popularity. although this approach provides satisfactory qac on average, it is far from optimal since it fails to take into account clues such as time or user context which often in uence the queries most likely to be typed. as a result, this paper is most concerned with qac approaches which are sensitive to changing query popularity where the popularity is not predictable from long term past query popularity observations. as the web increasingly becomes a platform for real time news and media, time plays a central role in information interaction. a substantial proportion of the daily query volume is the result of users turning to search engines for recent information about new or ongoing events. indeed, of daily google queries have not been seen in the past days. while the long tail will inevitably account for a large proportion of these queries, many will be the result of short term temporal events. figure # shows the four completion suggestions offered by google for the single character query pre. the list of completion suggestions indicates the historically most likely queries to be submitted with the pre, possibly in the context of some undisclosed ranking features such as geo location. despite the recency and prominence of the kenya westgate mall terrorist attacks, the query kenya ranks very low in the completion suggestions. in figure # we show the dramatic change in query popularity caused by the events kenya becomes by far the most popular query. yet, despite the fact that kenya is trending because of the ongoing events, googleqac fails to support users searching for information about the event as it ranks completion suggestions based on the past query distribution which is www, april, year#, seoul, korea. http: googleblog blogspot co uk year# http: dx doi org year#. this week in search year# html figure #: google auto completion suggestions for the query pre. screenshot taken september rd year#, during the ongoing westgate shopping mall terrorist attack in kenya. further compounding this issue, qac for short pre xes is often unsuccessful as there are such a large number of possible completion suggestions. it is typically consistently popular head queries that are provided as completion suggestions for such short pre xes. therefore, there is a need to take the temporal aspect into account for effective qac. this work is an attempt towards this objective. furthermore, queries that need to be included in completion suggestions fall into two main categories. the rst category corresponds to predictably popular queries which are: consistently popular, temporally recurring or known foreseeable events and phenomena. the second category corresponds to unpredictably popular queries related to entirely unforeseeable current events and phenomena. indeed, queries are likely to switch between these categories over time, making longer term predictions problematic. therefore, achieving optimal qac effectiveness for all users, on average, is a trade off between opposing objectives: time sensitivity, or recency, and robustness. recency requires that completion suggestions include emerging and increasingly popular queries. conversely, robustness requires that completion suggestions also reliably include long term and consistently popular queries. these two goals are at odds completion suggestions comprised only of short term popular queries might lead to lower ranking of many consistently popular queries. alternatively, completion suggestions comprised of long term popular queries will likely exclude the most recently popular queries. we propose an approach to address this trade off by developing models which take recent evidence into account when possible. lengths, insight into the qac approach parameters necessary to obtain optimal qac effectiveness in different settings, and reproducible experimental ndings due to the open datasets we study. the source code used to produce the datasets and results in this paper is openly available at http: www stewh com recent robust qac figure #: google search trends indicating temporal popularity of the completion suggestions in figure # during september year#. motivation large scale news, events and world phenomena undoubtedly play a central role in collective searching behaviour, and in turn dramatically affect query popularity over time. while relying on a long period of past query log evidence to rank completion suggestions will ensure qac is robust for consistently popular queries, it will also have the effect of smoothing over sensitivity to recently popular queries. for example, imagine a scenario in which query is consistently popular, occurring, times every day in the query log. aggregating query popularity over the past day period would mean that query, which became popular today, would need to occur, times before it outweighed the long term popular query despite the fact it is far more popular today than. at the same time, reducing the aggregation period risks not fully representing the long term query popularity, allowing arbitrary temporal uctuations to reduce its ranking. in past work we studied the effectiveness of using a shorter query log aggregation period for qac. in this paper, we propose novel qac approaches which address the recency robustness trade off to combine both recent and robust queries in completion suggestions. rather than relying passively on previously observed query popularity distributions for qac, there is an opportunity to improve qac over time by anticipating the current query popularity distribution based on previously observed trends and better rank completion suggestions at each moment in time. as a result of this, in the past, long term time series modelling for query trends has been used to improve qac for predictably recurring temporal query trends, such as seasonal or weekday weekend related queries. however, long term time series modelling can break down for many temporal events that are not always constant. for example, holidays and natural phenomena such as the weather seasons occur on an indeterminate schedule, where rigid temporal modelling of such queries might result in increased popularity prediction at incorrect times. furthermore, for previously unseen and therefore unpredictable recent queries, time series modelling often proved problematic due to lag and over tting. this is due to the fact that time series models often struggled to model increasing trends quickly, and likewise, continued to predict increased popularity for some time after brief periods of popularity. aside from the prediction issues of long term time series modelling, we are motivated to explore alternative approaches since many qac systems will not have long term and in depth past query logs available for robust modelling. therefore, many organisations may only have more recent smaller query logs available, yet still need to bootstrap effective qac systems with far less data and resources. as such, in this work we take a conceptually different approach to anticipating current query popularity for effective completion suggestion ranking: relying only on recent query popularity evidence, and short range query popularity prediction based on recently observed trends. in section # we present work related to qac effectiveness. section # outlines existing approaches to qac, and proposes novel approaches for qac. in section # we describe our experimental setup and procedure, including query log datasets and real time simulation methodology. in section # we present experimental qac approach results, which we discuss with regard to the research questions in section #. finally, in section # we make conclusions and recommend further work. the context of a search query often provides a search engine meaningful hints for answering the current query better. previous studies on context aware search were either focused on the development of context models or limited to a relatively small scale investigation under a controlled laboratory setting. particularly, about context aware ranking for web search, the following two critical problems are largely remained unsolved. first, how can we take advantage of different types of contexts in ranking second, how can we integrate context information into a ranking model in this paper, we tackle the above two essential problems analytically and empirically. we develop different ranking principles for different types of contexts. moreover, we adopt a learning to rank approach and integrate the ranking principles into a state of the art ranking model by encoding the context information as features of the model. we empirically test our approach using a large search log data set obtained from a major commercial search engine. our evaluation uses both human judgments and implicit user click data. the experimental results clearly show that our context aware ranking approach improves the ranking of a commercial search engine which ignores context information. furthermore, our method outperforms a baseline method which considers context information in ranking. in web search, given a query, a search engine returns the matched documents in a ranked list to meet the userinformation need. ranking models play a central role in search engines. currently, almost all the existing ranking models consider only the current query and the documents, but do not take into account any context information such as the previous queries in the same session and the answers clicked on or skipped by the user to the previous queries. in other words, almost all the current ranking models are insensitive to context. information retrieval research has well recognized that context information is very helpful in achieving good search results. context information may provide hints about users search intent and help to make better matching with documents. for example, if a user raises a query jaguar after she searches bmw, it is very likely that the user is seeking for information about a jaguar car rather than a jaguar as an animal. the absence of context information in document ranking models is probably partially due to the di culty of obtaining context information. only recently have large amounts of search session data become available, which enable large scale empirical studies on context aware methods for web search. several recent studies explore context aware search methods from di erent angles. shen et al presented a contextaware ranking method by assuming that context information can better represent search intent. they incorporated the context information to build context aware language models, which were assumed to give rise to documents not only similar to the current query but also similar to the previous queries and the summaries of the documents clicked on. ectiveness of the ranking model on trec data. however, the evaluation was based on a small data set consisting of only thirty sessions from three subjects under a controlled laboratory setting. it is unclear whether the assumption in the study holds for web search engines in the real world. more recently, cao et al extracted context information in web search sessions by modeling search sessions as sequences of user queries and clicks. they learned sequential prediction models such hidden markov model and conditional random fields from search log data. di erent from our study here, their models were designed for predicting search intents based on context information, but not for ranking. therefore, the models are more suitable for query suggestion, query categorization, and url recommendation than search results ranking, as will be further analyzed in section #. in spite of the several existing studies on context aware search methods, the following two critical problems about context aware ranking for web search are largely remained unsolved. first, how can we take advantage of di erent types of contexts in ranking second, how can we integrate context information into a ranking model in this paper, we tackle the above two essential problems analytically and empirically and make the following contributions. we develop four di erent ranking principles for di erent types of contexts. those principles promote or demote documents according to the context of the current query. we evaluate the four principles using real web search sessions, and con rm the. ectiveness of three principles through the signi cance test on the data. ective principles is consistent with the ndings obtained by shen et al on trec data, indicating that web search is quite di erent from search on trec data. moreover, we adopt a learning to rank approach and integrate the ranking principles into a state of the art ranking model, ranksvm, by encoding the context information as features. we empirically test our approach using a large search log data set obtained from a major commercial search engine. our evaluation uses both human judgments and implicit user click data. the experimental results clearly show that our context aware ranking approach improves the ranking of a commercial search engine which ignores context information. furthermore, our method outperforms a baseline method which considers context information in ranking. the rest of the paper is organized as follows. we discuss the types of contexts, propose ranking principles, and evaluate the. we incorporate context information into a learning to rank model in section #. the experimental results are reported in section #. query recommendation has been widely used in modern search engines. recently, several context aware methods have been proposed to improve the accuracy of recommendation by mining query sequence patterns from query sessions. however, the existing methods usually do not address the ambiguity of queries explicitly and often suffer from the sparsity of the training data. in this paper, we propose a novel context aware query recommendation approach by modeling the high order relation between queries and clicks in query log, which captures users latent search intents. empirical experiment results demonstrate that our approach outperforms the baseline methods in providing high quality recommendations for ambiguous queries. tradition query recommendation approaches often nd similar queries to suggest for each other. however, since queries are usually very short and ambiguous, a same query may convey totally di erent search intents in di erent cases. for example, the query saturn may either refer to a planet name or a car manufacturer. to only suggest similar queries based on the current query may not work well in such cases. recently, some context aware approaches have been proposed to address the problem of recommendation for ambiguous queries. the basic idea of these methods is to permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. or commercial advantage and that copies bear this notice and the full citation on the rst page to copyotherwise, to republish, to post on servers or to redistribute to lists, requires prior speci. figure #: query frequency with di erent number of previous queries in the same session, di erent number of clicks in query logs leverage the query sequence patterns from query sessions. that is, if a user queried solar system recently, it would be naturally recommend planet saturn or uranus to him when he is searching saturn. however, these context aware methods based on query sequence patterns matching have two major weaknesses. firstly, they do not address the ambiguity of queries explicitly. queries are usually viewed as the basic units in previous approaches without modeling their underlying search intents. secondly, they mainly rely on the query sequence patterns existing in query logs, hence may su er from the sparsity of data. we examined one month query logs from a commercial search engine. as figure # shows, the number of query sequence patterns drops dramatically as their length increasing. even worse, about queries come from single query sessions which means no previous queries existed. on the contrary, we nd that the click through from a query often provides rich information that can clarify usersearch intent for ambiguous queries. for example, when a user submits a query saturn, the search engine may return pages about both the saturn planet and saturn cars. once the user clicking a url in result pages about planet, itclear that he cares about saturn planet. compared to the previous queries, the click through from the current query always plays more direct. ect on usernext search behavior besides, we also nd the click through information is often more abundant than query sequence patterns in query logs, as figure # shows, more than half of queries has one or more clicks, which may alleviate the sparsity problem. motivated by the above observations, we propose a probabilistic context aware query recommendation approach by modeling the high order relations between the current query, its click and the next query for recommendation. in our model, the ambiguity of queries can be resolved by intro a query session is regard as a sequence of queries and clicks, performed by a user within a short period of time in a search process figure #: graphical structure for a rut triple qr, qt. ducing the latent factors over queries and their clicks. once we have learned the ne grained search intents underlying a query and its click through, we can generate more accurate context aware recommendation. recent advances in search users click modeling consider both users search queries and click skip behavior on documents to infer the user perceived relevance. tcm characterizes user behavior related to a task as a collective whole. using these biases, tcm is more accurately able to capture user search behavior. most of these models, including dynamic bayesian networks and user browsing models, use probabilistic models to understand user click behavior based on individual queries. the user behavior is more complex when her actions to satisfy her information needs form a search session, which may include multiple queries and subsequent click behaviors on various items on search result pages. previous research is limited to treating each query within a search session in isolation, without paying attention to their dynamic interactions with other queries in a search session. investigating this problem, we consider the sequence of queries and their clicks in a search session as a task and propose a task centric click model. specifically, we identify and consider two new biases in tcm as the basis for user modeling. the first indicates that users tend to express their information needs incrementally in a task, and thus perform more clicks as their needs become clearer. the other illustrates that users tend to click fresh documents that are not included in the results of previous queries. extensive experimental results demonstrate that by considering all the task information collectively, tcm can better interpret user click behavior and achieve significant improvements in terms of ranking metrics of ndcg and perplexity. we conduct experiments with a large scale realworld dataset which shows that the tcm can be scaled up. while previous research seeks to model a userclick behavior based on browsing and click actions after she enters a single query, often several queries are entered sequentially and multiple search results obtained from di erent queries are clicked to accomplish a single search task. clearly, a typical search can include complex user behavior, including multiple queries and multiple clicks for each query, etc. in this paper, we consider the latter, and refer to a search session as a task. as mentioned above, the previous research considers query sessions only, but ignores other sources of information and their relations to the same task. the dbn model, for example, assumes that users are always satis ed with the last click of each query, without considering subsequent queries and clicks. the rst bias indicates that users tend to express their information needs incrementally and then perform more clicks as their needs become clearer. our experiments used more than million search tasks as the research dataset. search engine click through logs are an invaluable resource that can provide a rich source of data on user preferences in their search results. the analysis of click through logs can be used in many search related applications, such as web search ranking, predicting click through rate, or predicting user satisfaction. in analyzing click through logs, a central question is how to construct a click model to infer a userperceived relevance for each query document pair based on a massive amount of search click data. using a click model, a commercial search engine can develop a better understanding of search users behavior and provide improved user services. previous investigations of click models include dynamic bayesian networks, the user browsing model, the click chain model and the pure relevance model. a user may rst issue a query, examine the returned results and then click on some of them. if the existing results do not satisfy her information needs, she may narrow her search and reformulate her query to construct a new query. this process can be repeated until she nds the desired results or gives up. collectively, all the useractions provide an overall picture of the userintention as she interacts with the search engine. the multiple queries, clicked results, and underlying documents are all sources of information that can help reveal the usersearch intent. traditionally, user sessions are obtained from a consecutive sequence of user search and browsing actions within. these sessions can be partitioned into two categories: a session and a search session, where the former refers to the browsing actions for an individual query while the latter encompasses all queries and browsing actions that a user performs to satisfy her information need. thus, most previous research su ers from a lack of accuracy in many cases. the above line of thinking has led us to consider the advantage of a task centric click model in this paper for understanding and predicting click behavior. in this paper, we rst point out the necessity of modeling task level user behavior by letting the real data speak for itself. we then de ne and describe two new user biases that in uence a search task but have been ignored in previous investigations. the second bias illustrates that users tend to click on fresh documents that they have not seen before under the same task. we design our tcm using a probabilistic bayesian method to address these two biases. tcm is general enough to integrate most other existing click models. ectiveness of the tcm by comparing its performance to the dbn and ubm models. the experimental results show that, by considering all of the task information, the tcm can better model and interpret user click behavior and achieve signi cant improvements in terms of ndcg and perplexity.