recently developed techniques have been very successful in accurately estimating intra autonomous system traffic matrices. these techniques rely on link measurements, flow measurements, or routing related data to infer traffic demand between every pair of ingress egress points of an as. they also illustrate an inherent mismatch between data needed and data most readily available. this mismatch is exacerbated when we try to estimate inter as traffic matrices, ie, snapshots of internet wide traffic behavior over coarse time scale between ass. we present a method for modeling inter as traffic demand that relies exclusively on publicly available obtainable measurements. we first perform extensive internet wide measurement experiments to infer the business rationale of individual ass. we then use these business profiles to characterize individual ass, classifying them by their utility into ass providing web hosting, residential access, and business access. we rank ass by their utilities which drive our gravity model based approach for generating inter as traffic demand. in a first attempt to validate our methodology, we test our inter as traffic generation method on an inferred internet as graph and present some preliminary findings about the resulting inter as traffic matrices. two ass are connected in the internet as graph only if they have a business peering relationship. by focusing on the as subgraph as pc whose links represent provider customer relationships, we develop a new optimization driven model for internet growth at the as pc level. the model defining feature is an explicit construction of a novel class of intuitive, multi objective, local optimizations by which the different customer ass determine in a fully distributed and decentralized fashion their best upstream provider as. key criteria that are explicitly accounted for in the formulation of these multi objective optimization problems are as geography, ie, locality and number of pops within individual ass; as specific business models, abstract toy models that describe how individual ass choose their best provider; and as evolution, a historic account of the lives of individual ass in a dynamic isp market. we show that the resulting model is broadly robust, perforce yields graphs that match inferred as connectivity with respect to a number of different metrics, and is ideal for exploring the impact of new peering incentives or policies on as level connectivity. to arrive at this formulation, we proceed in three steps and show successively that as geography, as business model, and as evolution de ne three key criteria that must be accounted for. orts to modeling internet topologies, hitherto none of the three key criteria we propose has played any signi cant role in modeling the as graphs. internet connectivity at the level of autonomous systems re ects existing business relationships among ass. two ass are connected in an as graph by a link only if they this project is funded in part by nsf grant number ani and by onr grant number. sugih jamin is further supported by the nsf career award ani, the presidential early career award for scientists and engineers year#, and the alfred. additional funding is provided by atresearch, and by equipment grants from sun microsystems inc, compaq corp, and apple inc. part of this research was done when sugih jamin was at the university of cambridge and the university of tokyo. permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. or commercial advantage and that copies bear this notice and the full citation on the rst page. to copy otherwise, to republish, to post on servers or to redistribute to lists, requires prior speci. acm sigcomm year# workshop, august, year#, karlsruhe, germany. have a peering relationship between them, eg, providercustomer or peer to peer relationship. in principle, snapshots of the internetas graph can be inferred from bgpderived measurements, but in practice, the resulting graph structures require careful interpretation. for example, since the measurements consist of a collection of snapshots of bgp routing tables taken at a few vantage points on the internet, private peering links and backup connections between ass generally cannot be identi ed from data sets such as oregon route views. thus, the resulting inferred as graphs tend to be less densely connected than the actual internet at the as level, and the inferred peering relationships are not always accurate. these di culties not withstanding, a striking characteristic of various inferred as graphs has been the observed high variability of the as vertex degrees, parsimoniously captured by vertex degree distributions of the power law type. this power law nding has led to renewed interest in network modeling and has motivated the development of new topology generators. orts to date has been either abstract or based on some exogenously imposed mechanisms. while the resulting models and generators are generally successful in reproducing and matching the power law type node degree distributions of measured as graphs, their relevance to networking is seriously hampered by their generic nature they are mostly designed to model all types of networks that show power law type node degree distributions. as a result, these models completely ignore any as speci. factors and criteria inherent in establishing the very business relationships expressed by as graphs. the models theoretical appeal is also limited, mainly because of the models exclusive focus on a single metric and a general inability to also match in a parsimonious manner inferred as graphs with respect to alternative metrics. the main objective of this paper is to explore a radically di erent approach to modeling and generating internet topologies at the as level instead of relying on abstract or arti cially imposed mechanisms that manage to yield internet like as graphs, we focus here on identifying a similar approach has recently been advocated and outlined in for modeling internet connectivity at the routerlevel, but no results have been reported to date. some key forces at work in the fully distributed and decentralized design of inter as connectivity. more speci cally, we are mainly concerned with the subgraph aspc of the overall as graph whose links represent only providercustomer peering relationships, ie, non provider customer relationships are not part of this subgraph. we show that by explicitly incorporating provider customer business relationships into an appropriate network growth model, the resulting as subgraphs automatically match inferred aspc speci. connectivity with respect to a wide range of metrics. furthermore, these subgraphs share a number of characteristics with the overall as graphs. this nding demonstrates the importance of the aspc subgraphs in gaining a better understanding of the internetoverall as connectivity and it argues for a detailed study of the properties and dynamic nature of these aspc subgraphs. our overall approach is motivated by the recently proposed hot concept introduced by carlson and doyle. hot provides a general framework in which highly variable event sizes, in systems highly optimized by engineering design, are the result of tradeo. between yield, cost of resources, and the systems tolerance to risk. in turn, the hot framework emphasizes the importance of design, structure, and optimization in the study of highly engineered and complex systems, such as the internet. problem addressed in this paper, our work draws heavily on the rst explicit attempt by fabrikant et al to cast network design as a hot problem in fabrikant et algeneric toy model of network growth, each newly arriving node decides on the particular node of the existing graph it connects to by solving a generic multi objective optimization problem. this model serves as starting point of our investigation into some of the key forces that shape internet connectivity at the aspc level. that is, following fabrikant et almodel, we attempt to determine a particular class of multi objective optimization problems that re ect the various factors and criteria by which provider and customer ass determine their peering relationships with one another. our proposed approach to internet modeling at the aspc level has three major novel components. first, in contrast to the generic internet growth model of fabrikant et al that deals with generic nodes and links, we provide the rst explicit attempt to cast the design of as level connectivity as a hot problem. in particular, we develop a new hot model for aspc graphs that fully exploits the networking semantics of the relevant objects the graphnodes represent businesses and its links express explicit business relationships among these nodes. second, we formulate a novel class of multi objective optimization problems to capture the decision process ass use to determine their peering or business relationships with other ass. we propose concrete abstractions of each of these criteria and incorporate them one by one into our multi objective optimization problems. we illustrate how these optimization problems shape the formation of lo fabrikant et al also suggested heuristically optimized tradeo. cal provider customer relationships and cause the emerging global characteristics exhibited by the resulting aspc graphs. in addition, we show that a number of features associated with the overall as graphs are already present in the corresponding aspc subgraphs and can therefore be explained and understood in terms of key forces at work in the design of the aspc portion of the overall as graph. finally, we illustrate along the way that the proposed hot model for internet growth at the aspc level has a number of attractive robustness properties with respect to the details of how the three identi ed key criteria are abstracted and expressed as objectives that have to be optimized simultaneously. they also make the resulting model especially appealing for exploring a range of what if scenarios. for example, if modi cations to existing criteria for establishing provider customer relationships, or the introduction of new ones, may more accurately re ect incentives in future provider customer relationships, our model can be used to explore the impact such modi cations or embellishments may have on the overall as connectivity. consider for example as geography, by which we mean the number and geographic locations of an aspoints of presence. clearly, knowing the geography of intra as pop structures is important to, say, distinguish between nearby and far away providers with obvious implications in determining connection costs. similarly, depending on an asbusiness model, customer ass can be expected to behave in a more or less rational manner when establishing upstream connectivity; for example, they might choose among competing providers by implicitly or explicitly satisfying some local pareto optimality criterion with respect to some underlying utility measure. as for as evolution, the dynamics of the isp market cause or force ass to periodically re examine their peering relationships and, if necessary, establish new, get rid of old, or modify existing relationships with obvious implications on the overall connectivity at the as level. we hasten to point out that while the generation of realistic as topologies is also a natural by product of our approach, it is not the focus of this paper. in particular, to extend our approach and develop a hot model for internet growth at the overall as level will require incorporating peer to peer relationships and accounting for ass that change from peer to provider customer or vice versa. in this sense, the key criteria identi ed in this paper and accounted for in the proposed hot model are necessary but not su cient for shaping the existing internet topology at the overall as level. for example, while our model succeeds in explaining the power law type node degree distributions of inferred as graphs in terms of as geography related characteristics, table #: as relationship inference result number of links as graph all provider customer peer to peer others oregon, oregon, it also suggests the presence of additional criteria or forces that relate directly to the peer to peer portion of as graphs. these forces will require careful consideration when extending our approach and developing a more complete model for internet connectivity at the overall as level. however, we leave the pursuit of such a modeling. the rest of the paper is structured as follows. in section #, we describe the two inferred as graphs that form the basis of our empirical study and reduce them to simpler tree topologies that are used in the subsequent sections. we discuss in section # the hot model for generic internet growth proposed in and demonstrate its shortcomings when applied to the as graph. the construction of our hot model for internet growth at the aspc level is described in sections, where we include, in succession, as geography, as business model, and as evolution as key forces at work into the design of internet as connectivity. we conclude the paper with a discussion of some practical implication of our proposed approach and the ensuing models and comment on the workimpact on network modeling as a scienti. in applying this general hot concept to the speci. these insensitivity results enhance the overall credibility of the proposed hot model. for the non generic, networking centric approach we propose, the importance of these three criteria should come as no surprise. recent empirical studies have shown that internet topologies exhibit power laws of the formx for the following relationships: outdegree of node versus rank; number of nodes versus outdegree; number of node pairs within a neighborhood versus neighborhood size; and eigenvalues of the adjacency matrix versus rank. however, causes for the appearance of such power laws have not been convincingly given. in this paper, we examine four factors in the formation of internet topologies. these factors are preferential connectivity of a new node to existing nodes; incremental growth of the network; distribution of nodes in space; and locality of edge connections. in synthetically generated network topologies, we study the relevance of each factor in causing the aforementioned power laws as well as other properties, namely diameter, average path length and clustering coefficient. different kinds of network topologies are generated: topologies generated using our parametrized generator, we call brite; random topologies generated using the well known waxman model; transit stub topologies generated using gt itm tool; and regular grid topologies. we observe that some generated topologies may not obey power laws and. thus, the existence of these power laws can be used to validate the accuracy of a given tool in generating representative internet topologies. power laws and were observed in nearly all considered topologies, but different topologies showed different values of the power exponent. thus, while the presence of power laws and do not give strong evidence for the representativeness of a generated topology, the value of in and can be used as a litmus test for the representativeness of a generated topology. we also find that factors and are the key contributors in our study which provide the resemblance of our generated topologies to that of the internet. the accurate characterization of internet topologies is key to the successful modeling and analysis of the interact and its protocols. intemet studies usually assume certain topologies or use syn thetically generated topologies. these topologies must reflect prop erties empirically found in the actual existing struc ture of the internet; otherwise, correct conclusions cannot be drawn. recently, it was observed that actual interact topologies exhibit power laws of the formx for the following relationships: outdegree of nvde versus rank; num ber of nodes versus outdegree; number of node pairs within a neighborhood versus neighborhood size; and eigen values of the adjacency matrix versus rank. however, causes for the appearance of such power laws have not been convincingly given. in this paper, we consider four factors in the formation of inter net topologies. these factors are preferential connectivity; incremental growth; geographical distribution of nodes; and locality of edge connections. fi dictates the tendency of a new node to connect to those existing nodes that have higher outde grees. dictates that new nodes join the intemet in an incremental way. determines how nodes are distributed in space in this paper, we consider random and heavy tailed distribution of nodes. finally, dictates the tendency of a new node to connect to nearby nodes instead of far away nodes. in synthetically generated network topologies, we study the rele vance of each factor in causing the aforementioned power laws as well as other properties, namely diameter, average path length and clustering coefficient. different kinds of network topologies are generated: topologies generated using our parametrized gen erator brite; random topologies generated using the well known waxman model; transit stub topologies gener ated using gt itm tool; and regular grid topologies. we observe that some generated topologies do not obey power laws and. thus, the existence of these power laws can be used to validate the accuracy of a given tool in generating representative interact topologies. power laws and were observed in nearly all considered topologies, but different topologies showed different values of the power exponent. thus, while the presence of power laws and do not give strong evidence for the representative ness of a generated topology, the value of a in and can be used as a litmus test for the representativeness of a generated topol ogy. we also find that factors and are the key contributors in our study which provide the resemblance of our generated topolo gies to that of the lnternet. although some recent studies have examined such factors for some power laws, in this paper, we examine their relevance with respect to these as well as other power laws and metrics on a large number of topologies synthetically gen erated using commonly used tools. the rest of the paper is organized as follows. in section #, we summarize three topology generation methods commonly used in internet studies. in section #, we briefly describe the power laws found in. section # illustrates the absence or weak presence of power laws in topologies synthetically generated using existing tools. in section #, we briefly discuss preferential connectivity and incremental growth and their role in gen erating topologies that exhibit power laws. section # argues for the geographical distribution of nodes and locality of edge connections and their role in making synthetically generated topologies more realistic. section # describes brite, a parametrizable topology generator we built. using brite, we present in sections and our experiments and comparative anal ysis of generated topologies in order to assess the relevance of each factor. section # concludes the paper with future work. research on performance, robustness, and evolution of the global internet is fundamentally handicapped without accurate and thorough knowledge of the nature and structure of the contractual relationships between autonomous systems. in this work we introduce novel heuristics for inferring as relationships. our heuristics improve upon previous works in several technical aspects, which we outline in detail and demonstrate with several examples. seeking to increase the value and reliability of our inference results, we then focus on validation of inferred as relationships. we perform a survey with ass network administrators to collect information on the actual connectivity and policies of the surveyed ass. based on the survey results, we find that our new as relationship inference techniques achieve high levels of accuracy: we correctly infer customer to provider, peer to peer, and sibling to sibling relationships. we then cross compare the reported as connectivity with the as connectivity data contained in bgp tables. we find that bgp tables miss up to of the true adjacencies of the surveyed ass. the majority of the missing links are of thep type, which highlights the limitations of present measuring techniques to capture links of this type. finally, to make our results easily accessible and practically useful for the community, we open an as relationship repository where we archive, on a weekly basis, and make publicly available the complete internet as level topology annotated with as relationship information for every pair of as neighbors. the global internet routing system is composed of thousands of autonomous systems that operate individual parts of the internet infrastructure. ass engage in a variety of relationships to collectively and ubiquitously route tra. these relationships are usually realized in the form of business agreements that, in turn, translate into engineering constraints on traows within and across individual networks. understanding the underlying business as relationships plays a critical role in many research and operational tasks ranging from realistic simulations of packets routed in the internet to selection of peers or upstream providers based on connectivity and as relationships of candidate isps. further, statistical data on these relationships are useful for development of more advanced interdomain routing protocols and architectures that take into account the presence of as relationships to improve their performance. moreover, business behavior patterns of internet players in uence directions of isps collaboration and ultimately the evolution of the macroscopic infrastructure of the internet. in this study we follow previous works in considering the following three major categories of as relationships: customer to provider, peer to peer, and sibling to sibling. in thep category, a customer as pays a provider as for any tra. sent between the two in thep category, two ass freely exchange tra. between themselves and their customers, but do not exchange tra. from or to their providers or other peers. in thes category, two ass administratively belong to the same organization and freely exchange tra. between their providers, customers, peers, or other siblings. our work makes the following contributions: we introduce novel heuristics for inferringp, p, ands relationships. our heuristics improve the stateof the art in several technical aspects, one of them being a more realistic problem formulation that accepts that as paths do not always exhibit a hierarchical pattern. we demonstrate using several examples our enhancements that lead to more accurate inference results. despite the apparent randomness of the internet, we discover some surprisingly simple power laws of the internet topology. these power laws hold for three snapshots of the internet, between november year# and december year#, despite a growth of its size during that period. we show that our power laws fit the real data very well resulting in correlation coefficients of or higher our observations provide a novel perspective of the structure of the internet. the power laws describe concisely skewed distributions of graph properties such as the node outdegree. in addition, these power laws can be used to estimate important parameters such as the average neighborhood size, and facilitate the design and the performance analysis of protocols. furthermore, we can use them to generate and select realistic topologies for simulation purposes. the internet consists of rapidly increasing number of hosts interconnected by constantly evolving networks of links and routers. interdomain routing in the internet is coordinated by the border gateway protocol. bgp allows each autonomous system to choose its own administrative policy in selecting routes and propagating reachability information to others. these routing policies are constrained by the contractual commercial agreements between administrative domains. for example, an as sets its policy so that it does not provide transit services between its providers. such policies imply that as relationships are an important aspect of internet structure. we propose an augmented as graph representation that classifies as relationships into customer provider, peering, and sibling relationships. we classify the types of routes that can appear in bgp routing tables based on the relationships between the ass in the path and present heuristic algorithms that infer as relationships from bgp routing tables. the algorithms are tested on publicly available bgp routing tables. we verify our inference results with atinternal information on its relationship with neighboring ass. as much as of our inference results are confirmed by the atinternal information. we also verify our inferred sibling relationships with the information acquired from the whois lookup service. more than half of our inferred sibling to sibling relationships are confirmed by the whois lookup service. to the best of our knowledge, there has been no publicly available information about as relationships and this is the first attempt in understanding and inferring as relationships in the internet. we show evidence that some routing table entries stem from router misconfigurations. despite the large number of papers on network topology modeling and inference, there still exists ambiguity about the real nature of the internet as and router level topology. while recent findings have illustrated the inaccuracies in maps inferred from bgp peering and traceroute measurements, existing topology models still produce static topologies, using simplistic assumptions about power law observations and preferential attachment. given that the actual properties of the internet topology are not known, topology generators should strive to reproduce the variability that characterizes the evolution of the internet topology over time. topology generators should capture those dimensions, by allowing a certain level of randomness in the outcome, rather than enforcing structural assumptions as the truths about internet evolving structure, which may never be discovered. today, topology generators are tightly bound to the observed data used to validate them. future topology generators should be able to express the variations in local connectivity that makes today internet: peering relationships, internal as topology and routing policies each changing over time due to failures, maintenance, upgrades and business strategies of the network. how do real graphs evolve over time what are normal growth patterns in social, technological, and information networks many studies have discovered patterns in static graphs, identifying properties in a single snapshot of a large network or in a very small number of snapshots; these include heavy tails for in and out degree distributions, communities, small world phenomena, and others. however, given the lack of information about network evolution over long periods, it has been hard to convert these findings into statements about trends over time. here we study a wide range of real graphs, and we observe some surprising phenomena. first, most of these graphs densify over time with the number of edges growing superlinearly in the number of nodes. second, the average distance between nodes often shrinks over time in contrast to the conventional wisdom that such distance parameters should increase slowly as a function of the number of nodes or. existing graph generation models do not exhibit these types of behavior even at a qualitative level. we provide a new graph generator, based on a forest fire spreading process that has a simple, intuitive justification, requires very few parameters, and produces graphs exhibiting the full range of properties observed both in prior work and in the present study. we also notice that the forest fire model exhibits a sharp transition between sparse graphs and graphs that are densifying. graphs with decreasing distance between the nodes are generated around this transition point. last, we analyze the connection between the temporal evolution of the degree distribution and densification of a graph. we find that the two are fundamentally related. we also observe that real networks exhibit this type of relation between densification and the degree distribution. in recent years, there has been considerable interest in graph structures in technological, sociological, and scienti. settings: computer networks; networks of users exchanging email or instant messages; citation networks and hyperlink networks; social networks; and countless more. the study of such networks has proceeded along two related tracks: the measurement of large network datasets, and the development of random graph models that approximate the observed properties. many of the properties of interest in these studies are based on two fundamental parameters, namely, the nodes degrees, and the distances between pairs of nodes. the node to node distances are often studied in terms of the diameter the maximum distance and a set of closely related but more robust quantities including the average distance among pairs and the effective diameter. almost all large real world networks evolve over time by the addition and deletion of nodes and edges. most of the recent models of network evolution capture the growth process in a way that incorporates two pieces of conventional wisdom: constant average degree assumption. the average node degree in the network remains constant over time. the diameter is a slowly growing function of the network size, as in small world graphs. for example, the intensively studied preferential attachment model posits a network in which each new node, acm transactions on knowledge discovery from data, vol. graph evolution: densi cation and shrinking diameters when it arrives, attaches to the existing network by a constant number of outlinks, according to a rich get richer rule. recent work has given tight asymptotic bounds on the diameter of preferential attachment networks; depending on the precise model, these bounds grow logarithmically or even slower than logarithmically in the number of nodes. how are assumptions and re ected in data on network growth empirical studies of large networks to date have mainly focused on static graphs, identifying properties of a single snapshot or a very small number of snapshots of a large network. for example, despite the intense interest in the weblink structure, the recent work of ntoulas et al noted the lack of prior empirical research on the evolution of the web. thus, while one can assert based on these studies that real networks qualitatively have relatively small average node degrees and diameters, it has not been clear how to convert these into statements about trends over time. the present work: densi cation laws and shrinking diameters here we study a range of different networks from several domains, and we focus speci cally on the way in which fundamental network properties vary with time. we nd, based on the growth patterns of these networks, that principles and need to be reassessed. speci cally, we show the following for a broad range of networks across diverse domains. the networks are becoming denser over time with the average degree increasing. moreover, the densi cation follows a power law pattern. the effective diameter is, in many cases, actually decreasing as the network grows. we view the second of these ndings as particularly surprising: rather than shedding light on the long running debate over exactly how slowly the graph diameter grows as a function of the number of nodes, it suggests a need to revisit standard models so as to produce graphs in which the effective diameter is capable of actually shrinking over time. we also note that, while densi cation and decreasing diameters are properties that are intuitively consistent with one another, they are qualitatively distinct in the sense that it is possible to construct examples of graphs evolving over time that exhibit one of these properties but not the other. we can further sharpen the quantitative aspects of these ndings. in particular, the densi cation of these graphs, as suggested by, is not arbitrary; we nd that as the graphs evolve over time, they follow a version of the relation. where and denote the number of edges and nodes of the graph at time, and a is an exponent that generally lies strictly between and. we refer to such a relation as a densi cation power law, or growth power law. what underlying process causes a graph to systematically densify with. xed exponent as in equation and to experience a decrease in effective diameter even as its size increases this question motivates the second main contribution of this work. we present two families of probabilistic generative models for graphs that capture aspects of these properties. the rst model, which we refer to as community guided attachment, argues that graph densi cation can have a simple underlying basis; it is based on a decomposition of the nodes into a nested set of communities such that the dif culty of forming links between communities increases with the community size. for this model, we obtain rigorous results showing that a natural tunable parameter in the model can lead to a densi cation power law with any desired exponent. the second model, which is more sophisticated, exhibits both densi cation and a decreasing effective diameter as it grows. this model, which we refer to as the forest fire model, is based on having new nodes attach to the network by burning through existing edges in epidemic fashion. the mathematical analysis of this model appears to lead to novel questions about random graphs that are quite complex, but, through simulation, we nd that, for a range of parameter values, the model exhibits realistic behavior in densi cation, distances, and degree distributions. it is thus the rst model to our knowledge that exhibits this full set of desired properties. accurate properties of network growth, together with models supporting them, have implications in several contexts. our ndings form means for assessing the quality of graph generators. synthetic graphs are important for what if scenarios, for extrap olations, and for simulations when real graphs are impossible to collect. datasets consisting of huge real world graphs are increas ingly available with sizes ranging from the millions to billions of nodes. there are many known algorithms to compute interesting measures, but most of these algorithms be come impractical for large graphs. thus sampling is essential, but sampling from a graph is a nontrivial problem since the goal is to maintain structural properties of the network. densi cation laws can help discard bad sampling methods, by providing means to reject sampled subgraphs. a recent work of leskovec and faloutsos proposed two views on sampling from large graphs. for back in time sampling, the goal is to nd a sequence of sampled subgraphs that matches the evolution of the original graph and thus obey the temporal growth patterns. on the other hand, scale down sampling aims for a sample that matches the properties of the original large graph. the authors considered various sampling strategies, propose evaluation techniques, and use the temporal graph patterns presented in this article to evaluate the quality of the sampled subgraphs. graph evolution: densi cation and shrinking diameters extrapolations. for several real graphs, we have a lot of snapshots of their past. what can we say about their future our results help form a basis for validating scenarios for graph evolution. in many network settings, normal behavior will produce subgraphs that obey densi cation laws and other properties of network growth. if we detect activity producing structures that deviate signi cantly from this, we can ag it as an abnormality. this can potentially help with the detection of, for instance, fraud, spam, or distributed denial of service attacks. the rest of the article is organized as follows: section # surveys the related work. section # gives our empirical ndings on real world networks across diverse domains. section # describes our proposed models and gives results obtained both through analysis and simulation. section # gives the formal and experimental analysis of the relationship between the degree distribution and the graph densi cation over time. we conclude and discuss the implications of our ndings in section #. mapping the internet is a major challenge for network researchers. it is the key to building a successful modeling tool able to generate realistic graphs for use in networking simulations. in this paper we provide a detailed analysis of the inter domain topology of the internet. the collected data and the resulting analysis began in november year# and cover a period of two and a half years. we give results concerning major topology properties and main distributions. we also present many results about the trees of this network. the evolution of these properties is reviewed and major trends are highlighted. we propose some empirical laws that match this current evolution. four new power laws concerning the number of shortest paths between node pairs and the tree size distribution are provided with their detailed validation. for network researchers and engineers, the study of the internet it self is fascinating. internet, unlike the networks it is composed of, has no authority defining its topology evolution. that is why no body can give us today a fully detailed map of the internet. this is a main challenge because many network protocol developers would appreciate such information. hopefully one aspect of the internet topology is easier to capture than the others. it is the topology made by the autonomous systems of the internet. these network enti ties are used at the inter domain routing level of the intemet. an important repository of inter domain routing data is available at the national laboratory for applied network research. several studies are based on these data and we provide a follow on analysis to existing work. based on six intances of bgp data we have calculated many average properties of the as net work from distributions concerning degree, distance, number of shortest paths, trees, etc. we have also examined the evolution of these average properties and we have derived some empirical laws. our work will provide useful information for inter domain routing protocol developers and particularly for those involved in multicast inter domain routing research. indeed we study the degree distribu tion, the distance distribution, the routing policy, the number of distinct shortest path distri bution, the bi connectivity and many properties concerning the trees. the rest of this paper is organized as follows. section # of this paper defines a few notions and terms that will be used in the rest of the paper. section # is devoted to the problems of the analysis while section # is dedicated to the analysis of the last sample of our data set. in section # we analyze the evolution of the autonomous system network since the inter domain observer began collecting information in november year#. finally, in section #, we present four new power laws that we found while analyzing the various distributions shown in section #. we have found that some of them can be concisely described by power laws. we calculate an extensive set of characteristics for internet as topologies extracted from the three data sources most frequently used by the research community: traceroutes, bgp, and whois. we discover that traceroute and bgp topologies are similar to one another but differ substantially from the whois topology. among the widely considered metrics, we find that the joint degree distribution appears to fundamentally characterize internet as topologies as well as narrowly define values for other important metrics. we discuss the interplay between the specifics of the three data collection mechanisms and the resulting topology views. in particular, we how how the data collection peculiarities explain differences in the resulting joint degree distributions of the respective topologies. finally, we release to the community the input topology datasets, along with the scripts and output of our calculations. this supplement hould enable researchers to validate their models against real data and to make more informed election of topology data sources for their specific needs. for an introduction and references protocols, robustness of the network under attack, etc, all depend on network topology. internet topology analysis and modeling has attracted substantial attention recently because the internettopological properties and their evolution are cornerstones of many practical and theoretical network research agendas. routing, performance of applications and we intentionally avoid citing the statistical physics literature, where the number of publications dedicated to the subject has exploded. since obtaining realistic topology data is crucial for the above agendas, researchers have focused on a variety of measurement techniques to capture the internettopology. various sources of internet topology data obtained using di erent methodologies yield substantially di erent topological views of the internet. unfortunately, many researchers either rely only on one data source, sometimes outdated or incomplete, or mix disparate data sources into one topology. to date, there has been little attempt to provide a detailed analytical comparison of the most important properties of topologies extracted from the di erent data sources. our study lls this gap by analyzing and explaining topological properties of internet as level graphs extracted from the three commonly used data sources: traceroute measurements; bgp; and the whois database. this work makes three key contributions to the eld of topology research: we calculate a range of topology metrics considered in the networking literature for the three sources of data. we reveal the peculiarities of each data source and the resulting interplay between artifacts of data collection and the key properties of the joint degree distributions of the derived graphs. this information is critical in assessing for what kinds of real world networking problems the use of currently inferred as maps or proposed as topology models are, or are not, appropriate. despite significant efforts to obtain an accurate picture of the internet actual connectivity structure at the level of individual autonomous systems, much has remained unknown in terms of the quality of the inferred as maps that have been widely used by the research community. in this paper we assess the quality of the inferred internet maps through case studies of a set of ases. these case studies allow us to establish the ground truth of as level internet connectivity between the set of ases and their directly connected neighbors. they also enable a direct comparison between the ground truth and inferred topology maps and yield new insights into questions such as which parts of the actual topology are adequately captured by the inferred maps, and which parts are missing and why. more importantly, our newly gained insights also point to new directions towards building realistic and economically viable internet topology maps. many research projects have used a graphic representation of the internet, where nodes represent entire autonomous systems permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. and two nodes are connected if and only if the two ases are engaged in a business relationship to exchange data traf c. at the same time, big stakeholders of the as level internet, such as internet service providers and large content providers, tend to view their as connectivity as proprietary information and are in general unwilling to disclose it. as a result, the quality of the currently used as maps has remained by and large unknown. the case studies enable us to understand and verify what kinds of as links are adequately captured by the public view and what kinds of as links are missing from the public view. more speci cally, this paper makes the following original contributions. what makes the desired ground truth so elusive is that for most ases, the data sources necessary to unambiguously establish their as level connectivity are not publicly available. the main ndings of our search for the elusive ground truth of as level internet connectivity can be summarized as follows. or commercial advantage and that copies bear this notice and the full citation on the rst page. to copy otherwise, to republish, to post on servers or to redistribute to lists, requires prior speci. due to the internetdecentralized architecture, however, this as level construct is not readily available and obtaining accurate as maps has remained an active area of research. a common feature of all the as maps that have been used by the research community is that they have been inferred from either bgp based or traceroute based data. unfortunately, both types of measurements are more a re ection of what we can measure than what we really would like to measure, resulting in fundamental limitations as far as their ability to reveal the internettrue as level connectivity structure is concerned. while these limitations inherent in the available data have long been recognized, there has been little effort in assessing the degree of completeness, accuracy, and ambiguity of the resulting as maps. although it is relatively easy to collect a more or less complete set of ases, it has proven dif cult, if not impossible, to collect the complete set of inter as links. the sheer scale of the as level internet makes it infeasible to install monitors everywhere or crawl the topology exhaustively. yet numerous projects have been conducted using these maps of unknown quality, causing serious scienti. and practical concerns in terms of the validity of the claims made and accuracy of the results reported. rst step towards a rigorous assessment of the quality of the internetas level connectivity maps inferred from public bgp data. realizing the futility of attempting to obtain the complete global as level topology, we take an indirect approach to address the problem. using a small number of different types of ases whose complete as connectivity information can be obtained, we conduct case studies to compare their actual connectivity with that of what we call the public view the connectivity structure inferred from all the publicly available and commonlyused bgp data source. they also provide valuable new insights into where the missing links are located within the overall as topology. first, in section # we de ne what we mean by ground truth of as level internet connectivity as far as a single as and its neighbors are concerned. second, we report in section # on a series of case studies which highlight the dif culties in establishing the desired ground truth. nevertheless, by roughly classifying ases into the a few major types, we can explore what fractions of what types of connections are missing from currently used as maps, and we can typically even identify the reasons why they are missing. lastly, motivated by this detailed understanding of the inherent shortcomings of inferred as maps, we argue in section # for a new approach to generating realistic as level topologies. to this end, we sketch a construction that, while being informed by the available measurements, results in as maps annotated with as relationships that are instantiations of fully functional and economically viable as level connectivity structures and could plausibly represent the internetactual as level ecosystem or a close approximation thereof. first, inferred as maps based on single period snapshots of publicly available bgp based data are typically of low quality. the percentage of missing links ranges from for tier and tier ases to and more for large content networks. second, the quality of the inferred as maps can be signi cantly improved by including historic data of bgp updates from all existing sources. for example, links on backup paths can be revealed by routing dynamics over time, but the time period required to collect the necessary information can be several years. third, through the use of data collected over long enough time periods, the public view captures all the links of tier ases and most customer provider links at all tiers in the internet. fourth, due to the no valley routing policy and the lack of monitors in stub networks, the public view misses a great number of peer links at all tiers except tier. it can miss as much as of peer links in the case of large content provider networks, which have aggressively added peer links in recent years. the paper concludes with a discussion in section # of some of the main lessons learned from our case studies, a brief review of related work in section #, and a summary detailing our future research plans in section #. characterizing the evolution of internet topology is important to our understanding of the internet architecture and its interplay with technical, economic and social forces. a major challenge in obtaining empirical data on topology evolution is to identify real topology changes from the observed topology changes, since the latter can be due to either topology changes or transient routing dynamics. in this paper, we formulate the topology liveness problem and propose a solution based on the analysis of bgp data. we find that the impact of transient routing dynamics on topology observation decreases exponentially over time, and that the real topology dynamics consist of a constant rate birth process and a constant rate death process. our model enables us to infer real topology changes from observation data with a given confidence level. we demonstrate the usefulness of the model by applying it to three applications: providing more accurate views of the topology, evaluating theoretical evolution models, and empirically characterizing the trends of topology evolution. we find that customer networks and provider networks have distinct evolution trends, which can provide an important input to the design of future internet routing architecture. the internet has been evolving rapidly over time like a living organism, so has its topology. characterizing the dynamics and evolution trends of the internet topology is an important research topic for several reasons. it provides an essential input to the understanding of limitations of existing routing protocols, the evaluations of new designs, as well as the projection of future needs; and it will help advance our understanding of the interplay between networking technology, the resulting topology, and the economic forces behind them. in recent years there have been a plethora of efforts in understanding the internet as topology and its evolution. on the empirical side, most work has focused on examining graph properties of topology snapshots. on the theoretical side, a numberof topologyevolution models have been proposed for the addition and removal processes of nodes and links in the internet as topology. however there is a missing link between these two categories of work: an empirical description of the topology evolution, that is when and where as nodes and inter as links are added or removed over time in reality. without this knowledge, it is dif cult to judge the accuracyof topology snapshots taken at different times in the graph property computation, or to validate theoretical evolution models. for example, up to now, theoretical evolution models have been evaluated by comparing certain graph properties of the topology derived from the evolution model with that of the as topology snapshots taken over time. as shown in, however, signi cantly different topologies can share the same graph properties, such as power lawdistribution of nodedegrees a more accurateevaluation approachwouldbeto compare the modeling results against empirical topology evolution data directly. besides the wellknown issue that the observed as topology snapshots only capture a subset of the real internet topology, anew problem ariseswhenwetryto measure topology changes over time: the changes in the observed topology do not necessarily re ect the changes in the real topology and vice versa. because the observed topology is normally inferred from routing or data paths, its changes can be due to either real topology changes or transient routing dynamics. therefore the challenge is, given all the changes in the observed topology over time, how to differentiate those caused by real topology changes from those caused by transient routing dynamics, which we call the liveness problem. only after solving this problem can we provide empirical topology evolution data such as when and where an as or an inter as link is added or removed from the internet. in this paper we developed a solution to the liveness problem based on the analysis of available data. our analysis shows that the effect of transient routing dynamics on the observed topology decreasesexponentiallyovertime, and the real topology changes can be modeled as the combination of a constant rate birth process and a constant rate death process. fitting the model to data, we obtain thevaluesofseveralkeyparameters that enableusto identify real topology changes from observed changes with a given con dence level, and to estimate the birth and death rates of links and nodes in the internet as topology for the rst time. first, it allows us to obtain a more accurate topology by combining snapshots taken at different times and discounting dead links and nodes. second, it can be used to evaluate theoretical topology evolution models. third, it reveals evolution trends of the internet. more speci cally, we nd that the edge of the internet and the core have distinct growth patterns. the internetgrowth in size is mainly attributed to customer networks at the edge of the as topology, where the majority of node births and deaths occur. provider networks, which occupythe core in the topology, growslowlyin numberbut adjust their inter connectivity frequently, and most adjustments involve peer to peer as links. the as topology we collected and studied is inevitably incomplete, and the numerical results based on this partial topology could be potentially offfrom that of the real internet topology. however this inherent limitation is shared by all empirical studies on the internet topology and it should not stop us from solving the liveness problem. we also make our best efforts to mitigate the problem. we use the data collected from hundreds of publicly available bgp monitors, and we observed diminishing returns by additional monitors once the number reaches a certain level. we develop our model using different numbers and combinations of the monitors to assure that the model has no bias towards anyparticular set of monitors. furthermore, we compare the results based on bgp data with that based on data from traceroute and internet registries. section # provides further discussions on the modellimitations. the rest of the paper is organized asfollows. section de nes theliveness problemin studying internet topology. section develops and veri es our topology evolution model using three different data sources: bgp logs, traceroute, and internet registries. it also providesanevaluationoftheastopologydata collectedfromthese sources regarding their suitability for solving the liveness problem. section discusses the relatedwork, and section concludes the paper. at the inter domain level, the internet topology can be represented by a graph with autonomous systems as nodes and as peerings as links. this as level topology graph has been widely used in a variety of research efforts. conventionally this topology graph is derived from routing tables collected by route views or ripe ris. in this work, we assemble the most complete as level topology by extending the conventional method along two dimensions. first, in addition to using data from routeviews and ripe ris, we also collect data from many other sources, including route servers, looking glasses, and routing registries. second, in addition to using routing tables, we also accumulate topological information from routing updates over time. the resulting topology graph on a recent day contains more links and more nodes than that from using routeviews routing tables alone. our data collection and topology generation process have been automated, and we publish the latest topology on the web on a daily basis. several route monitoring systems have been set up to help understand the internet routing system. they operate by gathering real time bgp updates from different networks. many studies have relied on such data sources by assuming reasonably good coverage and thus representative visibility into the internet routing system. however, different deployment strategies of route monitors directly impact the accuracy and generality of conclusions. our work is the first to critically examine the visibility constraints imposed by the deployment of route monitors on various applications. we study the difference due to diverse deployment schemes on three important classes of applications: discovery of relatively stable internet properties such as the as topology and prefix to origin as mappings, discovery of dynamic routing behavior such as ip prefix hijack attacks and routing instability, and inference of important network properties such as as relationships and as level paths. we study several simple schemes of route monitor selection and provide insights on improving monitor placement. there exist several public route monitoring systems, such as route views and ripe, which have been deployed to help understand and monitor the internet routing system. these monitoring systems operate by gathering real time bgp updates and periodic bgp table snapshots from various isp backbones and network locations to discover dynamic changes of the global internet routing system. various research studies have been conducted relying on these data, including network topology discovery, as relationship inference, as level path prediction, bgp root cause analysis, and several routing anomaly detection schemes. most of them process the routing updates from the route monitoring system to study the dynamic routing behavior. permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. or commercial advantage and that copies bear this notice and the full citation on the rst page. to copy otherwise, to republish, to post on servers or to redistribute to lists, requires prior speci. these studies relying on bgp routing data usually assume that data from the route monitoring systems is reasonably representative of the global internet. however, no existing work has studied the limitations of route monitoring systems and the visibility constraint of different deployment scenarios. for example, recent work using these data to detect malicious routing activities, such as address hijacking could potentially suffer from evasion attacks similar to those affecting traf. the accuracy of such anomaly detection schemes depend heavily on the coverage of the route monitoring system. the limitation of the route monitor system is critical for any system relying on bgp data from multiple vantage points. it is usually impossible to obtain routing data in real time from every network due to the scalability issue and privacy concern. obtaining one feed from one as often provides a restricted view given there are many routers in an as, each with a potentially different view of routing dynamics. additional bgp feeds are useful for detecting routing anomalies, traf. but adding an additional feed usually requires interacting with a particular isp to set up the monitoring session. therefore, an urgent question is to understand the generality and representativeness of the given monitor system, and to understand how to select monitor locations to maximize the overall effectiveness of the route monitoring system. some existing work studied the limitation of existing monitor placement and monitor placement algorithms in terms of topology discovery. in this work, we study the impact of monitor network location constraints on various research work in the internet routing community. we are the rst to examine the visibility constraints imposed by the deployment of route monitors, impacting a diverse set of applications. to understand the difference among current deployment settings, we analyze three deployment scenarios: all tier isps only, route views and ripe setup, and a setup combining many public and private vantage points. we further study four simple schemes of network monitor selection and the resulting impact on multiple metrics based on the applications using the data. our analysis shows that current public monitors already provide good coverage in various applications we study. in section # we introduce the methodology of our study, followed by a short discussion comparing three deployment scenarios in section #. we study in detail several different monitor selection schemes in section # and conclude in section #.