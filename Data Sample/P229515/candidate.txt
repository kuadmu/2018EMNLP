the popularity of location based social networks provide us with a new platform to understand users preferences based on their location histories. finally, the topranked locations are returned as the recommendations for the user. in this paper, we present a location based and preference aware recommender system that offers a particular user a set of venues within a geospatial range with the consideration of both: user preferences, which are automatically learned from her location history and social opinions, which are mined from the location histories of the local experts. this recommender system can facilitate people travel not only near their living areas but also to a city that is new to them. as a user can only visit a limited number of locations, the user locations matrix is very sparse, leading to a big challenge to traditional collaborative filtering based location recommender systems. the problem becomes even more challenging when people travel to a new city. to this end, we propose a novel location recommender system, which consists of two main parts: offline modeling and online recommendation. the offline modeling part models each individual personal preferences with a weighted category hierarchy and infers the expertise of each user in a city with respect to different category of locations according to their location histories using an iterative learning model. the online recommendation part selects candidate local experts in a geospatial range that matches the user preferences using a preference aware candidate selection algorithm and then infers a score of the candidate locations based on the opinions of the selected local experts. we evaluated our system with a large scale real dataset collected from foursquare. the results confirm that our method offers more effective recommendations than baselines, while having a good efficiency of providing location recommendations. providing personalized point of interest recommendation has become a major issue with the rapid emergence of location based social networks. unlike traditional recommendation approaches, the lbsns application domain comes with significant geographical and temporal dimensions. moreover most of traditional recommendation algorithms fail to cope with the specific challenges implied by these two dimensions. fusing geographical and temporal influences for better recommendation accuracy in lbsns remains unexplored, as far as we know. we depict how matrix factorization can serve poi recommendation, and propose a novel attempt to integrate both geographical and temporal influences into matrix factorization. specifically we present geomf td, an extension of geographical matrix factorization with temporal dependencies. our experiments on a real dataset shows up to \ benefit on recommendation precision. most previous research on location recommendation services in location based social networks makes recommendations without considering where the targeted user is currently located. such services may recommend a place near her hometown even if the user is traveling out of town. in this paper, we study the issues in making location recommendations for out of town users by taking into account user preference, social influence and geographical proximity. accordingly, we propose a collaborative recommendation framework, called user preference, proximity and social based collaborative filtering, to make location recommendation for mobile users in lbsns. we validate our ideas by comprehensive experiments using real datasets collected from foursquare and gowalla. by comparing baseline algorithms and conventional collaborative filtering approach, we show that ups cf exhibits the best performance. additionally, we find that preference derived from similar users is important for in town users while social influence becomes more important for out of town users. permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. or commercial advantage and that copies bear this notice and the full citation on the rst page. as a recommendation is made by considering locations visited by these similar users, the recommended locations could be very far away and not reasonable. the remainder of the paper is organized as follows. due to the rapid development of web, social networking and mobile technologies, location based social networks, such as foursquare, facebook places and gowalla, have emerged in recent years. they allow users to connect with friends, explore places, share their gregory ference is now. copyrights for components of this work owned by others than the author must be honored. di erent from conventional social networking services that connect people merely in the cyber world, lbsns bring people together via cyber connections with other people and physical interactions with locations, eg, a user may check in to a location indicating she has visited the location. figure #: graph representation of users locations in a lbsn to encourage mobile users to explore new locations, the location recommendation service is an essential function to lbsns. the goal is to recommend a list of new locations that a targeted user may be interested in. some state of the art research proposes to incorporate social and geographical in uence into collaborative ltering techniques when making location recommendations. however, they do not consider the current location of a mobile user. thus, regardless of where the user is located, these systems will recommend the same locations, which could possibly be far away from the usercurrent standing location. for example, consider a target user that lives in new york, ny, usa and travels out of town to san francisco, ca for a vacation. based on the core idea of collaborative ltering, similar users of the target user are chosen to provide clues for making a recommendation. due to the geographical locality of human mobility, most of these similar users likely live in the new york area because they have visited many locations that the target user has also visited. additionally, collaborative ltering may recommend the same locations, no matter where the user is currently located in the world. while some systems lter penalize far away locations, they do not consider the social aspects that in uence a user in an lbsn. in this locations here refers to places or points of interests. paper, we study the issues in making location recommendations for out of town users by taking into account user preference, social connections and geographical proximity. in order to investigate what is important for location recommendation, we analyze datasets collected from foursquare and gowalla and have the following ndings. users tend to travel to places that are nearby to their home locations, which shows that users will tend to not travel to a place which is far away. the recommendation performance of user based collaborative ltering degrades for out of town places. based upon these ndings, we propose a collaborative recommendation framework called user preference, proximity and social based collaborative filtering to facilitate location recommendation for mobile users in lbsns. this framework, built upon collaborative ltering, has two simple but important features: it lters locations that are too far away from the current location of the user; and ii it integrates similar users and social connections into the collaborative ltering algorithm. this framework allows us to investigate the di erent roles of similar users and social connections in location recommendation when the user is in town or out of town. the contributions of this paper are summarized as follows. this work investigates the issues in employing collaborative ltering to make location recommendation for mobile users in lbsns, with di erentiation of in town and out of town users. we propose a new recommendation framework, ups cf, that considers user preference, social connections and geographical proximity. through extensive experimentation with real datasets, we validate our ideas and show that ups cf outperforms other baseline algorithms and collaborative ltering variants. we show that friends are more in uential than similar users when the target user is farther away from home. in section #, we review some background and relevant works. in section #, we show how social friends, similar users and geographical proximity are important factors for location recommendation in lbsns. in section #, we present our location recommendation algorithm and in section #, we report our ndings in an experimental study. lastly, in section #, we conclude this study and point out future directions. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior speci. location based social networks have attracted an inordinate number of users and greatly enriched the urban experience in recent years. the availability of spatial, temporal and social information in online lbsns offers an unprecedented opportunity to study various aspects of human behavior, and enable a variety of location based services such as location recommendation. previous work studied spatial and social influences on location recommendation in lbsns. due to the strong correlations between a user check in time and the corresponding check in location, recommender systems designed for location recommendation inevitably need to consider temporal effects. in this paper, we introduce a novel location recommendation framework, based on the temporal properties of user movement observed from a real world lbsn dataset. the experimental results exhibit the significance of temporal patterns in explaining user behavior, and demonstrate their power to improve location recommendation performance. or commercial advantage and that copies bear this notice and the full citation on the rst page. the rapid growth of location based social networks has attracted billions of users, promoting our urban experience to a new stage. typical location based social networking sites allow a user to check in at a location of interest with her smartphone, which informs her friends, along with creating the opportunity to make new friends http: foursquare com http: www facebook com about location permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. copyrights for components of this work owned by others than acm must be honored. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior speci. lbsn users and advance location based marketing, location recommendation on lb sns has become an essential task, aiming to recommend new pois to a user according to his personal preferences and facilitate his exploration of new areas of the city. location based social networks present unprecedented large scale check in data to describe a usermobile behavior in spatial, temporal, and social aspects. in previous work researchers explored users personal static check in preferences through geographical check ins for location recommendation. inspired by social in uence theories that social friends tend to have similar check in behavior, researches started to investigate the explicit social friendships on lbsns and leverage their power for improving location recommendation services. among existing work, the temporal patterns of a usercheck in actions have not been explored in depth. as suggested in, human geographical movement exhibits signi cant temporal patterns on lbsns and is highly relevant to the location property, while the daily pattern is one of the most fundamental patterns that re ects a usermobile behavior. for example, a user may regularly arrive to the. ce around am, go to a restaurant for lunch at pm, and watch movies at night around pm. therefore, investigating the features embedded in daily patterns enables us to better understand human mobile behavior, providing a potential opportunity to design more advanced location recommender systems on lbsns. previous work reports that a userpreferences change continuously over time, indicating two temporal properties of a userdaily check in preferences: non uniformness: a user exhibits distinct check in preferences at di erent hours of the day; and consecutiveness: a user tends to have more similar checkin preferences in consecutive hours than in non consecutive hours. in section # we validate these properties experimentally on a realworld dataset. figure # plots an illustrative example of a useraggregated check in activities on his top most visited locations over hours on a real world lbsn. each cell represents the total number of check in activities happened at a speci. location during the corresponding hour, colored from black to white. the usercheck in behavior presents a different check in location distribution at each hour, which changes continually over time. the non uniformness and consecutiveness properties suggest strong correlations between a usercheck in time and the corresponding check in preferences. however, these properties have not been exploited for location recommendation on lbsns. in this paper, we aim to leverage them for location recommendation. to the best of our knowledge, this is the rst work of modeling temporal ef figure #: daily check in activities on lbsn fects on location based social networks for location recommendation. the contributions of this paper are summarized below: we propose a location recommendation framework with temporal. we introduce four temporal aggregation strategies to integrate a usercheck in preferences of di erent temporal states. ects for location recommendation; the results exhibit its good recommendation performance, and demonstrate the advantage of considering time dependent check in preferences over static check in preferences. the remainder of this paper is organized as follows. we rst give a brief review of some related work in section #, then introduce a basic location recommendation model and discuss the modeling of temporal properties in section #. next we introduce our location recommendation framework lrt with temporal. ects in terms of temporal regularization and temporal aggregation in section #, followed by the discussion of experimental design and results on a real world lbsn dataset in section #. we conclude this work with future work in section #. the interaction of these entities is the key to answer questions such as who will post a message where and on what topic in this paper, we address the problem of profiling mobile users by modeling their activities, ie, we explore topic modeling considering the spatial and textual aspects of user posts, and predict future user locations. we propose the first st model to capture the correlation between users movements and between user interests and the function of locations. we employ the sparse coding technique which greatly speeds up the learning process. we perform experiments on two real life data sets from twitter and yelp. through comprehensive experiments, we demonstrate that our proposed model consistently improves the average precision, for location recommendation by at least and against existing state of the art recommendation algorithms and geographical topic models. mobile networks enable users to post on social media services from anywhere. the activities of mobile users involve three major entities: user, post, and location. with the rapid growth of mobile network users, the way users consume web is changing substantially. mobile permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profor commercial advantage and that copies bear this notice and the full citation on therst page. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior specifpermission and or a fee. martin ester school of computing science simon fraser university burnaby, bc, canada ester cs sfu ca networks enable users to post on social media services from anywhere. this new phenomenon led to the emergence of a new line of research to mine the behavior of social media users taking into account the spatial aspects of their engagement with online social media. the activities of mobile users can typically be represented as follows: a user appears at a certain location, and leaves a post which is likely semantically related to the user and or the location. these activities involve three major entities: user, post, and location. the interaction of these entities is the key to answer questions such as who will post a message where and on what topic in this paper, we address the problem of pro ling mobile users by modeling their activities, ie, we explore topic modeling considering the spatial and textual aspects of user posts, and predict future user locations. several works in the literature have addressed some of the above aspects. in recommender systems, have proposed probabilistic matrix factorization models mining latent user and location preferences to predict user locations, but they totally ignore one of the key components: user posts. another line of works has focused on user posts and proposed topic models to analyze geographical topics. proposed a geographical topic model to capture language patterns of di erent regions and di erent users. note that the users distributions over regions are assumed to be independent from each other. for example, many students from new york university live in the same neighborhood near the campus, and their movement trajectories correlate to each other. they may go to the same restaurants, co ee shops and grocery stores. therefore, we argue that considering the movements of di erent users independently as in is not the best way, and that we can predict a usermovement more accurately taking into account the movements of similar users. ects user movement not at the syntactic level of dimensional coordinates but at the semantic level of places with a certain function. existing spatial topic models with dimensional coordinates do not distinguish the following two scenarios: two users appear in the same location, like a hockey themed bar, and two users appear in two di erent locations that are adjacent to each other, where one is a hockey themed bar and the other one is a facial salon. two users in the rst scenario share the same interest, while two users have totally di erent interests in the second scenario. as a result, without considering the fact that user movements are in uenced not only by the coordinates of a location but also by its function, the predictive ability of the model will be greatly reduced. motivated by the above observations, this paper explores the following two questions: how are user movements correlated to each other. ect user movement at the semantic level of locations we propose a spatial topic model, called st, that takes the correlation of users movements, and the correlation of user movement and user interest into account. as in existing models, a post is represented as an unordered collection of words associated with user and location, which are all considered as observed random variables. di erent from existing works, a location in this paper is de ned as a place with a semantic functionality and with its coordinates. a set of latent random variables is also de ned, ie, regions and topics are latent, and each post is assigned to a region and a topic. we assume that each location is assigned to one and only one region, and its coordinates are generated by a dimensional gaussian distribution. for example, in new york city, regions could be areas that corresponded to community districts, such as manhattan, brooklyn, and queens etc. we develop a mcem method to learn the latent random variables and parameters that maximize the likelihood of the observed random variables, and the sparse coding technique is used to improve the. we perform experiments on two real life data sets from twitter and yelp. all posts in the data sets are annotated with corresponding users and locations. ectiveness of our proposed model and of state of the art models in terms of accuracy of location prediction, ie, given a post and its author, we recommend toplocations to the user. the major contributions of this paper are as follows: we propose the rst spatial topic model to capture the correlation between users movements and between user interests and the function of locations. we employ the sparse coding technique which greatly speeds up the learning process. through comprehensive experiments, we demonstrate that our proposed model consistently improves the average precision, for location recommendation by at least and compared to existing state of the art recommendation algorithms and geographical topic models. copyrights for components of this work owned by others than acm must be honored. we observe that user movements sometimes correlate if two users have similar lifestyle or living routine. this idea underlies the paradigm of collaborative ltering. intuitively, male users who are interested in sports often go to sport bars and watch games, while female users often go to facial salons. di erent from existing models, in order to generate a location of a post by a particular user, the model considers the userinterest and the locations of similar users. using the widely adopted latent factor model for rating prediction, in our proposed solution, we use two kinds of latent factors to model a business: one for its intrinsic characteristics and the other for its extrinsic characteristics. the latter encodes the neighborhood influence of this business to its geographical neighbors. the prediction error is further reduced by incorporating influences from business category and review content. rating prediction is to predict the preference rating of a user to an item that she has not rated before. using the business review data from yelp, in this paper, we study business rating prediction. a business here can be a restaurant, a shopping mall or other kind of businesses. different from most other types of items that have been studied in various recommender systems, a business physically exists at a geographical location, and most businesses have geographical neighbors within walking distance. when a user visits a business, there is a good chance that she walks by its neighbors. through data analysis, we observe that there exists weak positive correlation between a business ratings and its neighbors ratings, regardless of the categories of businesses. based on this observation, we assume that a user rating to a business is determined by both the intrinsic characteristics of the business and the extrinsic characteristics of its geographical neighbors. in our experiments, we show that by incorporating geographical neighborhood influences, much lower prediction error is achieved than the state of the art models including biased mf, svd, and social mf. recommender systems have attracted signi cant attention from both academia and industry since the last decade. various recom permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. or commercial advantage and that copies bear this notice and the full citation on the rst page. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior speci. mender systems have been developed to facilitate the matching between consumers with appropriate products or services. the prevalence of gps enabled devices in the past few years further extends the landscape of recommender systems in location based social networks, exempli ed by foursquare and gowalla. rating prediction, on the other hand, is to predict the preference rating of a user to a product or service that she has not rated before. at rst glance, rating prediction of business is the same as prediction of userrating to any other kind of items, with the only di erence that the item here refers to a business. ect a userview about a business and subsequently. for example, the hygiene standard of a region might affect userrating to many restaurants located in that region. together with in uences from other factors including user reviews, business category, and business popularity, we show that the proposed model outperforms state of the art baselines including biased mf, svd and social mf, measured by both mean absolute error and root mean square error. to the best of our knowledge, this is the rst study exploiting geographical neighborhood in uence in business rating prediction. we note that geographical in uence has been considered in poi recommendation and poi prediction. to the best of our knowledge, this is the rst study that models geographical neighborhood in uence into business rating prediction. we further show that the geographical distance between a user and a business adversely. copyrights for components of this work owned by others than the author must be honored. example items include songs, movies from content providers as well as books fromcommerce websites. recently, recommender systems have also been applied to social network platforms for people recommendation, eg, recommending friends to a user or recommending who to follow. depending on the application, di erent recommendation problems have been de ned and studied. the topitem recommendation and rating prediction are two most widely studied categories of recommendation problems. on the one hand, topitem recommendation tasks aim to recommend a user a list of items that she may be interested in. for example, in lbsn, poi recommendation aims to recommend unvisited pois to users. here poi stands for point of interest, referring to a focused geographic entity such as district and street, or a speci. the products or services with high predicted ratings are recommended to users. in this study, we are interested in the business rating prediction problem with business review data from yelp. yelp is a business review site and has attracted million reviews to local businesses since year#. example businesses in yelp include restaurants, shopping malls, beauty spas, etc. the website reports that it had an average of approximately million monthly unique visitors in the third quarter of year#. a yelp user or yelper can share her experience with a business by posting a review of the business and also a rating from to stars. our task is therefore to predict how many stars a user would give to a business that she has yet reviewed. the key di erence, between a business and other kind of items that have been studied in literature, is that a business physically exists at a speci. more importantly, most businesses are not geographically isolated from others. that is, when a user visits a business, there is a good chance that she walks by its neighbors if they are located within walking distance. ect userreview and rating to the http: www yelp com about business. on the other hand, a region distinguishes itself from other regions and becomes attractive to visitors often because there are a few good businesses co located in the region. for business rating prediction, an interesting question here is: is there any correlation between a businessrating and the rating of its geographical neighbors to answer the question above, we conducted data analysis on yelpbusiness rating data. we observe that there does exist weak positive correlation between the rating of a business and the rating of its neighbors, regardless of the category of the business. based on this observation, we incorporate geographical neighborhood in uence into our business rating prediction model which is based on the widely adopted latent factor model realized by matrix factorization. however, we argue that both poi recommendation and poi prediction are di erent research problems from business rating prediction. to summarize, the main contributions arise from this study are as follows: we conduct data analysis and observe that there exists weak positive correlation between a businessaverage rating and the average rating of its neighbors, regardless of the categories of businesses. this is an important observation that could be useful for not only business rating prediction, but also related studies, eg, poi recommendation and sentiment analysis of business reviews. we directly model the in uence of geographical neighborhood into business rating prediction using matrix factorization. speci cally, for each business, we use two di erent latent factors to represent its intrinsic and extrinsic characteristics respectively. the in uences from geographical neighbors of a business are then modeled as the linear combination of the latent factors for the extrinsic characteristics of its neighbors. in our recommender system, we have also considered other factors including businessreview, category, and popularity. ectiveness of incorporating in uence of geographical neighborhood and other factors in business rating prediction and compared the prediction accuracy of the proposed model with an array of strong baseline models. ects business rating prediction, although this is an important and. the rest of this paper is organized as follows. we review the related work on rating prediction, poi recommendation and poi prediction in section #. the data analysis is reported in section #. the details of the proposed business rating prediction model is presented in section #, followed by experimental evaluation in section #. the method uses our new topic model, called geo topic model, that can jointly estimate both the user interests and activity area hosting the user home, office and other personal places. by explicitly modeling geographical features of locations and users, the user interests in other features of locations, which we call latent topics, can be inferred effectively. the topic interests estimated by our model lead to high accuracy in predicting visit behavior as driven by personal interests, make possible the generation of recommendations when the user is in an unfamiliar area, and enable the recommender system to suggest an interpretable representation of the user profile that can be customized by the user. we also show that our model can estimate latent features of locations such as art, nature and atmosphere as latent topics, and describe each user preference based on them. this paper proposes a method that analyzes the location log data of multiple users to recommend locations to be visited. experiments are conducted using real location logs of landmark and restaurant visits to evaluate the recommendation performance of the proposed method in terms of the accuracy of predicting visit selections. in recent years, social media has become ubiquitous and important for social networking and user generated content sharing. mining and modeling the visit behavior contained in this tremendous volume of location log data is an important task, because it will provide people with ef cient ways to develop the most satisfying plan of action. we de ne a location as a uniquely identi ed speci. our concept is based on understanding the processes that underlie a userdecision about where and what to visit in the future; the location that the user will visit depends on userdaily life range and usertopic interest. we have two criteria for designing a method to recommend locations. our approach is motivated by the success of using topic models to analyze human behavior log data. a topic model is a hierarchical bayesian model, in which a user is modeled as a mixture of topics, and a topic is modeled as a probability distribution over locations. the estimated topic, therefore, groups nearby locations, and most of the topics are used to describe the userspatial area of activity. providing an interpretable representation of the user pro le is very useful for understanding the original user information and reformulating the pro le, resulting in improved recommendation performance. existing collaborative ltering methods can make use of the travel histories of a group of similar users or a set of similar locations to generate location recommendations. our key idea is to model the userinterests separately from location accessibility. furthermore, we use annotation data of each location to construct a meaningful representation of latent features. thus our proposed model can generate an interpretable representation of each user pro le; it can be presented alongside location recommendations and customized by the user if necessary. our proposed model can yield impressive results when recommending interesting locations in two scenarios: recommending locations in the vicinity of the userdaily life areas and recommending locations when the user is in less familiar areas. recommendations for the userdaily life generated by our model are easy to access from the userhome, of ce, and other personal places, and suit the userinterests. even when the user visits a new place, this method can generate recommendations from the usertopic interests learned from the characteristics found in the userlocation log. we also analyze the content of estimated latent topics using annotation data of locations and nd that our model can lucidly describe each userinterests in terms of latent features of locations such as art, nature, construction, popularity and atmosphere. in summary, the major contributions of this paper include: geo topic model: learns the useractivity area and personal interests in the latent features of locations simultaneously; a recommendation method that presents easy to access and interesting locations for a user in daily life and a traveler in an unfamiliar territory; a method of discovering latent features of landmarks restaurants from the actual logs of visited landmarks restaurants and an interpretable description of the userinterest based on latent features. section # de nes our research problem and presents our proposed model and recommendation methods. section # uses actual location logs to con rm the effectiveness of the proposed model, and section # concludes this paper. in this paper, we propose a method for recommending new locations that are potentially interesting to users based on a new topic model, called geo topic model. first, recommending locations that match the userinterests is important. for example, if the user is interested in the arts, we would expect the recommender system to emphasize locations associated with art such as art museums and picture galleries. however, when we use existing topic models to analyze visit behavior based on location log data, we are unable to discover the users interests in the features of locations such as art and nature. in the tourism and food domains, the userchoice of items is largely in uenced by her his geographical coordinates, and locations in the userimmediate neighborhood are likely to be chosen. thus existing topic models tend to recommend easily accessible but uninteresting locations to the user. second, augmenting location recommendations with feedback is important. when a user is not satis ed with the rst suggestions, she he would like to review the estimated user pro le in order to understand why and how the recommendations were made, and customize it to receive better recommendations. the main disadvantage of the method is that the learnt latent space is not easy to interpret. the user of a recommender system based on existing collaborative ltering methods can not easily understand why and how the recommendations were made. with these criteria in mind, we develop a machine learning algorithm for recommending geographical locations. by modeling userspatial area of activity based on geographical features of visited locations, the userinterests in other latent features of locations can be inferred effectively. the latent topics estimated from our model lead to high accuracy in predicting the visit behavior as driven by personal interests. we also introduce a recommendation method customized for a user in the mobile environment who wants to nd locations to suit her immediate surroundings; the recommended locations are easy to access from the usercurrent position, and match the userinterests. we show the utility of our model by generating recommendations in two areas: daily life and those yet to be visited. in the tourism and food domains, more and more people are sharing their experiences on photo sharing sites, social networking services, travel communities, and restaurant review sites. we demonstrate the effectiveness of the proposed model using real life location logs of landmark and restaurant visits. this paper is organized as follows: the next section describes related works. since the user location matrix created based on gps data is huge, there are two major problems with these methods. to tackle these two problems, we propose the collaborative location recommendation framework for location recommendation. moreover, clr employs a dynamic clustering algorithm cadc to cluster the trajectory data into groups of similar users, similar activities and similar locations efficiently by supporting incremental update of the groups when new gps trajectory data arrives. gps data tracked on mobile devices contains rich information about human activities and preferences. in this paper, gps data is used in location based services to provide collaborative location recommendations. we observe that most existing lbss provide location recommendations by clustering the user location matrix. first, the number of similar locations that need to be considered in computing the recommendations can be numerous. as a result, the identification of truly relevant locations from numerous candidates is challenging. second, the clustering process on large matrix is time consuming. thus, when new gps data arrives, complete re clustering of the whole matrix is infeasible. by considering activities and different user classes in the recommendation process, clr is capable of generating more precise and refined recommendations to the users compared to the existing methods. we evaluate clr with a real world gps dataset, and confirm that the clr framework provides more accurate location recommendations compared to the existing methods. to tackle this problem, we propose the collaborative location recommendation framework for location recommendation. cluster different types of similar entities into coherent clusters of similar users, similar activities, and similar locations. experimental results con rm that recommendations from travelers are the most accurate among the three classes of users. the lf iuf ranking scheme is inspired by the well known tf idf scheme in information retrieval. we conduct an evaluation on the accuracy of the recommendations using a real world gps dataset. experimental results con rm that our approach provides more accurate recommendations comparing to the existing methods based on clustering and collaborative ltering. we devise a new relevance ranking scheme, lf iuf, for recommendation ranking of the locations. one of the major functions of a location based service is to recommend interesting locations to the users. most existing lbss recommend all points of interest that are near the users. however, the number of pois that are close to the usercurrent position can be numerous. thus, it is dif cult for a user to pick the most relevant suggestions from the large number of recommendations. in order to provide more accurate location suggestions according to the users interests, many existing lbss, provide location recommendations by rst clustering the user location matrix, which represents the locations visited by each user, and then making location recommendations based on the user and location clusters. however, a major problem with these methods is that the user location matrix created based on gps data is huge, so the number of recommendations is still very large and the problem of selecting the truly relevant locations remains challenging. clr collects users gps trajectory data to discover a set of points of interest as candidate locations. instead of merely considering users and locations represented in a user location matrix, we introduce the community location model, which incorporates activities in addition to users and locations. clm captures the relations between the three important entities, namely, users, activities and locations, in gps trajectory data with a user activity location tripartite data structure, which we call clm graph for simplicity. we argue that activities are important because most users visit locations with the intention to perform some activities. a novelty of clm is its ability to derive from gps trajectories users temporal preferences through their activities. clm explores the unique properties among users, activities, and locations to make effective location recommendations. we observe that locations exhibit spatial properties as they contain geographical information; activities exhibit temporal spatial properties as they represent temporal sequences of visited locations; and users exhibit long term spatial properties as different users tend to visit different locations according to their long term habits and geographical limits. we argue that, by capturing temporal spatial information in user activities, the proposed clm is more effective in discovering similar locations comparing to existing techniques that are based on the user location matrix. in clr, a co clustering algorithm cadc is employed to cluster the clm graph in order to obtain high quality location recommendations. there are a couple of advantages of applying cadc on the clm graph. first, by exploring the relations between users, activities and locations modeled in clm, cadc can iteratively figure #: the general process ow of clr. entities in a cluster can be used to discover re ned subclusters for making precise recommendations. moreover, when new gps trajectory data arrives, cadc can incrementally update the clusters using two separate phases, namely, the agglomerative phase and divisive phase, without performing the clustering all over again. while cadc can effectively cluster similar entities together, we observe that the number of similar entities in the same cluster is still too large for making precise recommendations. in order to obtain more precise location recommendations, we introduce two additional steps. first, we propose an in situ recommendation re nement method to re ne the recommendations for a particular activity performed by a speci. second, we introduce behavioral re nement, which classi es users into three classes, namely, pattern users, normal users, and travelers, according to the sequences of locations that they visited in their activities, and lter out recommendations from different classes of users. in addition to ef cient clustering and recommendation re nement, an important issue in clr is to de ne an effective ranking function to rank the recommendations according to their relevance. in this paper, we propose a relevance ranking scheme, called lf iuf, to rank the location recommendations. basically, the interestingness of a location increases proportionally to the number of visits, but is offset by the number of users who have visited the location. the idea is motivated by the observation that a location visited by many users may not be always an interesting location recommendation. as discussed, the proposed clr framework consists of several components, including cadc, clm, in situ and behavioral re nement methods, and the lf iuf ranking scheme. figure # shows the components and the general processing ow in the clr framework. the main contributions of this paper are summarized below: unlike methods based on user location matrix, we propose the collaborative location model, which incorporates a new entity type, namely, activity, to exploit the relations between activities, users and locations. activities bring rich temporalspatial information into clm to facilitate effective co clustering. to avoid clustering the large trajectory dataset all over again when new gps data arrives, we adopt a co clustering method, cadc, which not only discovers similar objects by exploring their similarity ties, but also allows ef cient incremental clustering in response to new incoming gps trajectory data. we propose an in situ recommendation re nement method to re ne the recommendations corresponding to a location in a particular activity issued by a speci. we also introduce behavioral re nement to identify three classes of users, namely, pattern users, normal users and and travelers, according to the sequence of locations that users visited in their activities, and study the recommendation effectiveness of these three classes of users. we implement clr on the google android platform and evaluate the effectiveness of the recommendations using a real world gps dataset. the experimental results con rm that clr provides more accurate recommendations compared to the existing methods. point of interest recommendation has become an important means to help people discover attractive locations. however, extreme sparsity of user poi matrices creates a severe challenge. to cope with this challenge, viewing mobility records on location based social networks as implicit feedback for poi recommendation, we first propose to exploit weighted matrix factorization for this task since it usually serves collaborative filtering with implicit feedback better. besides, researchers have recently discovered a spatial clustering phenomenon in human mobility behavior on the lbsns, ie, individual visiting locations tend to cluster together, and also demonstrated its effectiveness in poi recommendation, thus we incorporate it into the factorization model. particularly, we augment users and pois latent factors in the factorization model with activity area vectors of users and influence area vectors of pois, respectively. based on such an augmented model, we not only capture the spatial clustering phenomenon in terms of two dimensional kernel density estimation, but we also explain why the introduction of such a phenomenon into matrix factorization helps to deal with the challenge from matrix sparsity. we then evaluate the proposed algorithm on a large scale lbsn dataset. the results indicate that weighted matrix factorization is superior to other forms of factorization models and that incorporating the spatial clustering phenomenon into matrix factorization improves recommendation performance. with the popularity of smart mobile devices and the diversi cation of positioning technologies, it has become easier for people to acquire real time information regarding their locations. this development has triggered the advent of location based social networks, such as foursquare, jiepang, facebook place and so on. this emergence has not only led to location based socializing becoming a new form of social interaction, but has also helped people speed up familiarization of the surroundings. to achieve the latter goal, point of interest recommendation has become one important means. recently, poi recommendation has become a popular research topic due to easy access of large scale mobility records and inclusion of social network information. one of the most important problems in poi recommendation is how to deal with a severe challenge stemming from extreme sparsity of user poi matrices. to this end, viewing mobility records on the lbsns, ie, check ins, as implicit feedback for poi recommendation, we rst propose to exploit weighted matrix factorization for this task because it usually serves collaborative ltering with implicit feedback better than the other approaches. in this algorithm, users and pois are mapped onto a joint latent space by approximating a user poi rating matrix in a weighted way, such that a userpreference for a poi is modeled as inner product between them in that space. the reasons that check ins can be considered as implicit feedback for poi recommendation lies in the following three aspects: rst, checkin datasets just include the locations where users have been and therefore they likely prefer. in other words, they just provides positive examples. second, the visit frequencies of a user to her visiting locations re ect her con dences of being fond of them. the visiting patterns of higher frequency indicate the preferences of higher con dence. third, locations where a user has never visited are either really unattractive or undiscovered but potentially appealing. however, these two cases are usually di cult to di erentiate from each other if no extra information is provided. fortunately, due to inclusion of geographical information of pois, some researchers have recently discovered a spatial clustering phenomenon in human mobility behavior on the lbsns, ie, individual visiting locations tend to cluster together, and leveraged it to assist poi recommendation. for example, ye et al characterized it by a power law distribution on the distance between any pair of visited locations. instead of making the power law distributed assumption, zhang et al directly performed kernel density estimation to this distribution. to avoid the cost in computing the distance between paired locations, in, the authors modeled the spatial clustering phe nomenon in terms of geo clustering and tried to estimate individual spatial distribution. actually, by modeling the userspatial clustering phenomenon, it becomes possible to partially distinguish unattractive locations from undiscovered but potentially appealing ones. in particular, it is much more likely that unvisited pois near a frequently visited location are really unattractive and this likelihood depends on the visit frequency to that location. this is because if a user often visits a certain poi but has never patronized surrounding pois, it is highly unlikely for her to visit them in the future. for the sake of joint geographical modeling and matrix factorization, we augment users and pois latent factors of the factorization model with non negative activity area vectors of users and non negative in uence area vectors of pois, as shown in figure #. these augmenting vectors consist of a set of grids with the same xed size. each entry in a useractivity area vector represents the possibility of this user showing up in the corresponding grid while each entry in a poiin uence vector indicates the degree of in uence that this poi has on the corresponding grid. the reason for such an explicit augmentation with geographical information is that there is still no evidence showing that the latent space has included geographical information. in this way, a userpreference for a poi is modeled as inner product between them in the augmented space and thus includes both the interest of the user from the latent space and her preference for the location of the poi. if a userpreference for the location of a poi is non zero, the activity areas of the user intersect with the in uence areas of the poi so that this poi is reachable from the activity areas of the user. in other words, it is possible for the attractiveness of the poi to cross the gap arising from the distance. more importantly, it is possible to exploit such a representation of users preference to partially distinguish unattractive locations from undiscovered ones. letgo back to the previous example, where a user often visited a poi, but has never patronized pois nearby. using such a representation, the user has similar location preference for the pois around. however, since this user has never visited nearby pois, from the perspective of approximation, such a representation requires inner product in the latent space to. therefore, we have introduced more potentially unattractive locations into matrix factorization. thus, it explains why the incorporation of spatial clustering phenomenon into the factorization model can help to deal with the challenge stemming from the user poi matrix sparsity. when only considering augmenting vectors in the proposed model and assuming that in uence areas of pois are xed in advance, the proposed model is reduced to a nonnegative weighted least square problem. supposing that in uence on a grid from a poi is determined by the density at the gridcenter of the two dimensional normal distribution centered at this poi, the reduced model encompasses twodimensional kernel density estimation on individual visiting poil poi figure #: the augmented model for weighted matrix factorization, where the dimension of latent space isand the number of grid areas is. in particular, the estimated density at a locationwith respect to a user equals to the averaging density at the locationof the normal distributions centered at each of her visiting locations, or inversely, it equals to the averaging density at each of her visiting locations of the normal distribution centered at the location. when mapping pois onto grids and constituting users activity area vectors with grids and their visited frequency, the estimated density is in proportion to inner product between the augmenting vectors. thus, two dimensional kernel density estimation is a special case of the reduced model so that our model captures the spatial clustering phenomenon from the perspective of kernel density estimation. however, di erent from kde, the advantage of the proposed model lies in its consistent objective goal with weighted matrix factorization. therefore, the modeling of the spatial clustering phenomenon is seamlessly incorporated into matrix factorization. to summarize, in this paper, we have made the following contributions to poi recommendation. according to the analysis to mobility records from a location based social network for poi recommendation, these mobility records are considered as implicit feedback for recommendation systems. therefore, we propose to leverage weighted matrix factorization to conduct poi recommendation. due to the existence of accurate geographical locations of pois, we propose augmenting users and pois latent factors with activity area vectors of users and in uence area vectors of pois. based on such an augmented model, we can not only capture the spatial clustering phenomenon from the aspect of twodimensional kernel density estimation, but we are also able to explain why the modeling of the spatial clustering phenomenon can help to cope with the challenge of recommendation arising from the user poi matrix sparsity. moreover, since its objective goal is consistent with weighted matrix factorization, the modeling of the spatial clustering phenomenon is seamlessly incorporated into matrix factorization. we evaluate the proposed algorithm on a large scale location based social network dataset. the results not only show the superiority of weighted matrix factorization on poi recommendation to other forms for factorization models, but they also indicate that incorporating the spatial clustering phenomenon into matrix factorization improves recommendation performance. due to its complexity and its connection to location based social networks, the decision process of a user choose a poi is complex and can be influenced by various factors, such as user preferences, geographical influences, and user mobility behaviors. while there are some studies on poi recommendations, it lacks of integrated analysis of the joint effect of multiple factors. to this end, in this paper, we propose a novel geographical probabilistic factor analysis framework which strategically takes various factors into consideration. also, the user mobility behaviors can be effectively exploited in the recommendation model. finally, experimental results on real world lbsns data show that the proposed recommendation method outperforms state of the art latent factor models with a significant margin. the problem of point of interest recommendation is to provide personalized recommendations of places of interests, such as restaurants, for mobile users. specifically, this framework allows to capture the geographical influences on a user check in behavior. moreover, the recommendation model can effectively make use of user check in count data as implicity user feedback for modeling user preferences. recent years have witnessed the increased development and popularity of location based social network services, such as foursquare, gowalla, and facebook places. copyrights for components of this work owned by others than acm must be honored. lbsns allow users to explore point of interest, such as restaurants and shopping malls, for better services by sharing their check in experiences and opinions on the pois which they have checked in. indeed, the task of poi recommendation is to provide personalized recommendations of places of interests to mobile users. it plays an important role in providing better location based services in location based social networks. in fact, both lbsn users and poi owners can bene. for mobile users, they can identify favorite pois and have better user experiences by the right poi recommendations. also, for poi owners, they could exploit poi recommendation for acquiring more target customers. two pois with similar or the same semantic topics can have di erent popularities if they are located in di erent regions. in lbsns, a user may check in pois at di erent regions. for example, a lbsn user may travel to di erent cities. dynamic user mobility imposes huge challenges on poi recommendations. in the study of poi recommendations, the explicit user ratings are usually not available. indeed, traditional recommender systems usually assume that the user and item data are independent and identically distributed. rst law of geography and the law of demand, the propensity of a user for a poi is inversely proportional to the distance between the user and the poi, which is similar to the probability of purchasing an item is inversely proportional to the cost. another unique characteristic of poi recommendations is that user check in count data follow a power law distribution. this is di erent from the ratingdata in traditional recommender systems. in other words, a user can visit a poi only once and another poi hundreds of times. since we do not have explicit user rates for pois, we can only make use of implicit user behavior data in the check in records for poi recommendations. all the above demands a reconsideration of the recommendation model. while there are some studies on poi recommendations, it lacks of integrated analysis of the joint. ect of the above factors, such as user preferences, geographical in uences, and user mobility behaviors. therefore, in this paper, we propose a geographical probabilistic factor analysis framework which can strategically takes various factors into consideration. this framework allows to capture the geographicalin uences on a usercheck in behaviors,ectivelymodel the user mobility patterns, and deal with the skewed distribution of check in count data. this can re ect the rst law of geography; that is, similar pois are more related than distant pois. also, we use a multinomial distribution over latent regions to model user mobility behaviors over di erent activity regions. these latent regions re ect the activityareas for allthe users through a collective in uence. moreover, a latent model is developed to capture user preferences. this model takes geographical in uence, regional popularity and user mobility into consideration, and can. ectively handle the skewed data distribution of poi count data. finally, experimental results on real world lbsns and poidata show thatthe proposedpoirecommendation method outperforms state of the art probabilistic latent factor models with a signi cant margin in terms of toprecommendation. permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. or commercial advantage and that copies bear this notice and the full citation on the rst page. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior speci. there are several unique characteristics of lbsns which distinguish poi recommendations from traditional recommendation tasks. everything is related to everything else, but near things are more related than distant thing. this indicates that geographically proximate pois are more likely to share similar characteristics. also, the probability of a user for a poi is inversely proportional to geographic distance. the recommender system has to infer user preferences from implicit user feedback in terms of user check in frequency data. in fact, the decision process of a user choose a poi is complex and can be in uenced by many factors. in economics, utility is an index of preferences over some sets of items and services when a user makes purchase decisions. in other words, a user may prefer a far away poi than a nearby one for better satisfaction. in fact, the probability of a user purchasing a product is largely. ected by the wordof mouth about the product. finally, the lbsn users have dynamic mobilitybehaviors, which impose the challenges on the modeling of check in decision. speci cally, a gaussian distribution is used to represent a poi over a sampled region. also, we provide a location marketing segmentation study by comparing the latent regions identi ed by our model with those derived from traditional marketing segmentation methods. location based social networks offer researchers rich data to study people online activities and mobility patterns. one important application of such studies is to provide personalized point of interest recommendations to enhance user experience in lbsns. previous solutions directly predict users preference on locations but fail to provide insights about users preference transitions among locations. in this work, we propose a novel category aware poi recommendation model, which exploits the transition patterns of users preference over location categories to improve location recommendation accuracy. our approach consists of two stages: preference transition prediction, and category aware poi recommendation. matrix factorization is employed to predict a user preference transitions over categories and then her preference on locations in the corresponding categories. real data based experiments demonstrate that our approach outperforms the state of the art poi recommendation models by at least in terms of recall. by aggregating the check in data of millions of users, the lbsn has become a promising platform for studying users online activities and mobility patterns. a lot of applications can be built on the basis of such studies, among which recommending personalized pois to individual users is of particular interest, and has recently received a lot of research attention. for example, ye et al and cheng et al employed collaborative ltering to recommend pois, taking into account geographical and social in uence. however, most existing approaches directly predict a userpreference on a location but fail to deeply investigate the essence of transitions of a userpreference on locations. failing to handle this important issue leads to inaccurate poi recommendation, since it is very challenging to accurately predict the next location from a huge candidate pool, and in particular, when input information is sparse, which is very common in lbsns. in order to improve the accuracy of poi recommendation, we investigate the patterns of users preference transitions over location categories. in lbsns, pois are typically organized by a hierarchical category tree. ers a level category hierarchy where top level consists of night life, food, etc, and lower level consists of bar, pub, japanese food, co ee, etc. intuitively, such category information indicates the semantic meaning of a location, so a usercheck in at a given location re ects her preference on the corresponding category. following previous work, we assume users next check in locations depend on their current locations. by studying patterns of users preference transitions over location categories, we are able to infer the categories of their next check in locations. categories, poi recommendations can be more accurate compared to traditional solutions where no category information is considered. theoretically, if a user has su cient historical check in data, her preference transitions can be reliably predicted. however, in a real world lbsn, users check in data is often sparse. furthermore, even if a user has enough check in data, she often presented new preference transitions. such issues make traditional solutions ine ective for preference transition prediction. therefore, we apply collaborative ltering to learn a usertransition patterns by leveraging other similar users transition patterns. similar users are clustered based on their check in frequency in di erent categories, taking into account temporal. for each cluster, matrix factorization is used to predict a userpreference transitions. once the top most likely categories of a usernext check in are predicted, we apply another matrix factorization to predict a userpreference on locations in the categories. by studying check in data from a real lbsn, we found that the displacement from a user current location to the next one follows power law distribution. we thus combine such geographical in uence and users preference on locations to make the top poi recommendations in each category, producing top pois for a target user given her current check in information. the contributions of this work are as follows: to have a better understanding of a userpreference transitions, we propose the concept of story to structure her check in activities. in a story, two consecutive check in activities happened within a prede ned time interval, thus are better correlated with each other. due to data sparsity of individual users, we propose to cluster similar users for accurate poi recommendation, taking into account both category information and temporal. for each user cluster, we apply mf to predict the possible categories of a usernext checkin location, given the category of her current location. once the possible categories of next check in locations are inferred, we again apply mf to predict a userpreference on the locations in the corresponding categories, considering geographical in uence. we evaluate the performance of the proposed poi recommendation method on real data collected from gowalla. experimental results show that our approach signi cantly outperforms the state of the art solutions by at least in terms of recall. geographical characteristics derived from the historical check in data have been reported effective in improving location recommendation accuracy. however, previous studies mainly exploit geographical characteristics from a user perspective, via modeling the geographical distribution of each individual user check ins. in this paper, we are interested in exploiting geographical characteristics from a location perspective, by modeling the geographical neighborhood of a location. the neighborhood is modeled at two levels: the instance level neighborhood defined by a few nearest neighbors of the location, and the region level neighborhood for the geographical region where the location exists. we propose a novel recommendation approach, namelynstance re gioneighborhoodatrixactorization, which exploits two levels of geographical neighborhood characteristics: a instance level characteristics, ie, nearest neighboring locations tend to share more similar user preferences; andregion level characteristics, ie, locations in the same geographical region may share similar user preferences. in irenmf, the two levels of geographical characteristics are naturally incorporated into the learning of latent features of users and locations, so that irenmf predicts users preferences on locations more accurately. extensive experiments on the real data collected from gowalla, a popular lbsn, demonstrate the effectiveness and advantages of our approach. in recent years, we have witnessed the rapid growth and increasing popularity of location based social networks, eg, this work was performed while this author was a research fellow at nanyang technological university, singapore. or commercial advantage and that copies bear this notice and the full citation on the rst page. copyrights for components of this work owned by others than the author must be honored. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior speci. brightkite, foursquare and gowalla, where users explore their surrounding places and share life experiences via check ins. the available check in data in lbsns contain rich knowledge about users interests, and thus are bene cial to a wide range of applications such as location recommendation, friend recommendation, and activity recommendation. as an important application in lbsns, the personalized location recommender systems can help users explore new locations to enrich their experiences. on the other hand, plrs can also facilitate third party developers to provide more relevant services at the right locations. for example, foursquare, a well known lbsn that has over million users and billion check ins, has launched its location recommendation engine since march year# the primary idea of plrs is to predict a userpreferences on unvisited locations. among existing plrs developed for lbsns, the approaches established on collaborative ltering technique are most widely used to model users preferences, according to the historical interactions between users and locations. for instance, social opinions from users online social friends or local experts in a new city have been considered for location recommendation. in contrast to social information, geographical information has been found to play a much more important role in the location recommendation task. prior work that employs geographical information for location recommendation mainly explores geographical characteristics of check in data from user perspective. based on the empirical observation that users tend to check in at nearby locations, the geographical distances between users and locations are considered for location recommendation tasks, using an inverse proportional rule in. to better describe users preferences on locations, different methods have been proposed to model users check in behaviors in lbsns. for example, in, a power law probabilistic model is used to describe the power law distribution of a usercheckins. to summarize, existing plrs only exploit the geographical characteristics from user perspective, via modeling the geographical distribution speci. to the best of our knowledge, geographical characteristics from location perspective have not been exploited for location recom http: engineering foursquare com year# building arecommendation engine foursquare style mendation. this kind of characteristics are independent from individual users and should have potential bene ts to location recommendation. motivated by this, in this paper, we propose to study geographical characteristics from location perspective, with an emphasis on the geographical neighborhood. through our empirical analysis, we found that nearest neighboring locations tend to share more common visitors. this observation indicates that, in general, a user shares similar preferences on nearest neighboring locations. in our method, this pattern is used as the instance level geographical neighborhood characteristics. speci cally, by introducing a similarity measure, the relationship underlying a userpreferences on a few nearest neighboring locations is captured and utilized to characterize her preference on a target location. in addition, our study on check in data also shows that locations in a geographical region may share similar user preferences. each geographical region is usually associated with a speci. such geographical regions contain additional prior knowledge about the interactions between users and locations. therefore, we use the geographical region structure as the region level geographical neighborhood characteristics. speci cally, a group lasso penalty is employed to integrate the geographical region structure within the check in data into the learning of latent factors of users and locations. to summarize, the major contributions made in this paper are as follows: we empirically analyze geographical characteristics from location perspective using historical check in data collected from gowalla. two levels of geographical neighborhood characteristics have been studied. we propose a novel location recommendation framework, ie, instance region neighborhood matrix factorization, to incorporate aforementioned geographical neighborhood characteristics for improving location recommendation accuracy. in particular, to solve the optimization problem in irenmf, we propose an alternating optimization strategy, in which an accelerated proximal gradient method is used to learn the latent factors of locations, considering the geographical region structure of the check in data. we extensively evaluate irenmf on the datasets collected from gowalla. experimental results show that: compared to the baseline matrix factorization model without utilizing geographical characteristics, our methods that use either instance level or region level geographical neighborhood characteristics signi cantly improves recommendation accuracy; the improvement is on average by and respectively, in terms of precision metric. utilizing both two levels of geographical neighborhood characteristics, irenmf substantially outperforms two state of the art location recommendation methods, which consider geographical characteristics derived from user perspective. the rest of this paper is organized as follows. section # introduces our empirical analysis of check in data and provides some background about matrix factorization. next, section # presents the details of irenmf and describes the optimization solution to irenmf. then, in section #, we report the experimental results conducted on realworld datasets, which demonstrate that the geographical characteristics derived from location perspective can signi cantly improve location recommendation accuracy. finally, section # draws the conclusion of this study. permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. therefore, plrs have drawn great research attention from both academia and industry in recent years. to improve location recommendation accuracy, auxiliary information such as social information and geographical information, has also been exploited. the approach in utilizes a multi center gaussian model to study users multi center check in behavior. section # reviews the most relevant work about this study. to design our recommendation algorithms we study the properties of two real lbsns, brightkite and gowalla, and analyze the relation between users and visited locations. this paper studies the problem of recommending new venues to users who participate in location based social networks. as an increasingly larger number of users partake in lbsns, the recommendation problem in this setting has attracted significant attention in research and in practical applications. the detailed information about past user behavior that is traced by the lbsn differentiates the problem significantly from its traditional settings. the spatial nature in the past user behavior and also the information about the user social interaction with other users, provide a richer background to build a more accurate and expressive recommendation model. although there have been extensive studies on recommender systems working with user item ratings, gps trajectories, and other types of data, there are very few approaches that exploit the unique properties of the lbsn user check in data. in this paper, we propose algorithms that create recommendations based on four factors: a past user behavior, the location of each venue, the social relationships among the users, and the similarity between users. the proposed algorithms outperform traditional recommendation algorithms and other approaches that try to exploit lbsn information. an experimental evaluation using data from these lbsns shows that the exploitation of the additional geographical and social information allows our proposed techniques to outperform the current state of the art. these two heterogeneous data sources both describe users preference of venues. however, in current research work, only users check in behavior is considered in users location preference model, users tips on venues are seldom investigated yet. moreover, while existing work mainly considers social influence in recommendation, we argue that considering venue similarity can further improve the recommendation performance. in this research, we ameliorate location recommendation by enhancing not only the user location preference model but also recommendation algorithm. first, we propose a hybrid user location preference model by combining the preference extracted from check ins and text based tips which are processed using sentiment analysis techniques. second, we develop a location based social matrix factorization algorithm that takes both user social influence and venue similarity influence into account in location recommendation. using two datasets extracted from the location based social networks foursquare, experiment results demonstrate that the proposed hybrid preference model can better characterize user preference by maintaining the preference consistency, and the proposed algorithm outperforms the state of the art methods. although online recommendation systems such as recommendation of movies or music have been systematically studied in the past decade, location recommendation in location based social networks is not well investigated yet. in lbsns, users can check in and leave tips commenting on a venue. with the rapid growth of online information, more and more users need high quality personalized services for the purpose of information retrieval. typically, given a set of users preference, such as preference pro le or ratings of items, recommendation systems try to predict users preference for unrated items. it has been widely studied in both academia and industry. with the recent booming of location sharing services such as foursquare, location recommendation is becoming an emerging research topic. in location sharing services, a user can check in at a venue and post a check in message at the same time, expressing how she felt when visiting the place. besides, they can also leave tips to comment on a venue. di erent from the classical recommendation systems with explicit rating records which re ect users preference, location recommendation usually utilizes userbehavior, ie, check in, to model users preference with regard to a venue. nevertheless, merely using check in data has two shortcomings. first, check in data of a user may not be su cient to re ect her preference. compared to web based rating services which capture users preference on items, check ins only represent users habitual behaviors. however, those less checked venues may not be necessarily less favored by users. second, checkin frequency is directly considered as the degree of users preference in location recommendation, the negative feedback in the comments made in each venue is not taken into account, which may introduce biases to the user preference measure. besides user preference model, recommendation algorithm should also be improved to handle both interuser and inter venue relationships. the state of the art location recommendation approaches only consider how user social network can in uence recommendation results. but in fact, location recommendation needs to consider more factors such as geographical constraint, venue category and reviews, etc. in this paper, aiming at solving the two aforementioned problems in location recommendation, we rstly propose a novel user preference model with extra information besides check in and then extend matrix factorization model in classical social recommendation to capture both social and intervenue in uence. https: foursquare com since venue is used to represent a location in foursquare, we dondi erentiate the two terms throughout this paper. first, we consider both check ins and comments of venues in location recommendation. unlike check in messages which tend to express the real time personal feeling, tips of a venue are more like customer reviews. for example, for an italian restaurant, user may post a check in message like happy with my buddies here. and leave a tip like good place in center new york, went there last sunday night and had great spaghetti with reasonable price. buthad a very long waiting time, almost one hour just for appetizer furthermore, according to the post, about two thirds of foursquare users post tips on venues. such information can then be used for personalized venue recommendation. in this paper, we use text based sentiment analysis techniques to extract onesentiment in tips and then convert it as a preference measure. second, venues in location recommendation can construct a similarity network according to their geo distance, categories, reviews, etc. similar to user social network, we believe that venue similarity can also in uence recommendation performance. therefore, we introduce a location based social matrix factorization model to capture the in uence on recommendation from both user social network and venue similarity network perspectives. the remainder of this paper is organized as follows. survey the related work in three related domains. section # describes the problem of both data model and approach. in section #, we conduct a series of experiments using data collected from foursquare for evaluation. conclusion and future work is presented in section #. recommendation systems are popular systems that leverage various techniques to suggest information items that users are likely to be interested in. intuitively, users prefer those venues with high check in frequencies. we also propose a fusion framework to get a uni ed preference model from both check ins and tips. section # and detail the proposed preference model and algorithm, respectively. in this paper, we aim to provide a point of interests recommendation service for the rapid growing location based social networks, eg, foursquare, whrrl, etc. our idea is to explore user preference, social influence and geographical influence for poi recommendations. in addition to deriving user preference based on user based collaborative filtering and exploring social influence from friends, we put a special emphasis on geographical influence due to the spatial clustering phenomenon exhibited in user check in activities of lbsns. we argue that the geographical influence among pois plays an important role in user check in behaviors and model it by power law distribution. accordingly, we develop a collaborative recommendation algorithm based on geographical influence based on naive bayesian. furthermore, we propose a unified poi recommendation framework, which fuses user preference to a poi with social influence and geographical influence. finally, we conduct a comprehensive performance evaluation over two large scale datasets collected from foursquare and whrrl. experimental results with these real datasets show that the unified collaborative recommendation approach significantly outperforms a wide spectrum of alternative recommendation approaches. with the rapid development of mobile devices, wireless networks and web technology, a number of locationbased social networking services, eg, loopt, brightkite, foursquare and whrrl, have emerged in recent years. these lbsns allow users to establish cyber links to their friends or other users, and share tips and experiences of their visits to plentiful point of interests, eg, restaurants, stores, cinema theaters, etc. in lbsns, a poi recommendation service, aiming at recommending new pois to users in order to help them explore new places and know their cities better, is an essential function that has received a lot of research momentum recently. friends link user check in activity map poi figure #: graph representation of user user friendship and user location check in activity in a lbsn indeed, facilitating poi recommendations in lbsns is a promising and interesting research problem because valuable information such as the cyber connections among users as well as the physical interactions between users and locations have been captured in the systems. nevertheless, these information have not been fully explored in prior research studies relevant to poi recommendations. have extracted visited locations from gps trajectory logs of mobile users for location recommendations. however, their studies consider neither the social links between users nor the interactions between users and locations in the recommendation process. in this paper, we aim to exploit the unique geographical implications em www loopt com www brightkite com www foursquare com www whrrl com these services are often referred as location based social networks and thus abbreviated as lbsns in the paper. bedded in users interactions with locations, in addition to applying the social in uence from users friends, for poi recommendations in lbsns. users and pois are two essential types of entities in lb sns. as illustrated in figure #, users in an lbsn, denoted as, are interconnected via social links to form a user social network. moreover, pois, denoted as, are connected with users via their check in activities, which generally re ects the users tastes on various pois. finally, as also logically illustrated in the gure, the pois, geocoded by, are constrained geographically. to make recommendations of pois to users, obviously the records of previous user check in activities are very useful. with the availability of such information in lbsns, an intuitive idea for supporting poi recommendations is to employ the conventional collaborative ltering techniques by treating pois as the items in many successful cf based recommender systems. the basic argument for this idea is that users tastes can be deduced by other users who exhibit similar visiting behaviors to pois in previous check in activities. thus, user based or itembased collaborative ltering techniques may be applicable to poi recommendations. additionally, the social network of users, which is handily available in the lbsn, can be explored to enhance performance of poi recommendations. recent studies have argued that social friends tend to share common interests and thus can be used in the process of collaborative ltering for making recommendations. while the ideas above aim to explore the essential information available in lbsns, ie, the user location interactivities and user user social links, we argue that the geographical in uence naturally existing in the activities of users and their geographical proximities cannot be ignored. according to toblerfirst law of geography everything is related to everything else, but near things are more related than distant things. thus, a user intuitively tends to visit nearby pois. there are two major implications that can be derived from this intuition for poi recommendations: people tend to visit pois close to their homes or. ces; and people may be interested in exploring nearby pois of a poi that they are in favor of, even if it is far away from home, eg, a user may explore some restaurants and shops around time square when she goes there for a broadway show. due to the geographical nature of the lbsns, we believe the geographical in uence between users and pois as well as that amongst pois are as important as the social in uence amongst users, which as indicated earlier may play a positive role for supporting poi recommendations in lbsns. in short, we are interested in studying the impact of geographical in uence and social in uence on poi recommendations in lbsns. our approach for supporting poi recommendation service in lbsns is to develop. ective collaborative recommendation techniques that discover pois of users interests by incorporating the three complementary factors: user preference of pois; ii social in uence; and iii geographical in uence. notice that users implicit preferences of pois can be derived from their check in activities on pois. by considering twousers whohavechecked intoalot of common pois as similar users, we may discover the implicit preference of a user through the previous check in activities of her similar users. since and shares many commonly visited pois, they may be considered as similar users who are assumed to share similar check in behaviors, ie, preference of pois. as a result, is a good candidate for recommendation to user since has visited this poi before. on the other hand, social in uence of friends can be incorporated in the recommendation process. for example, when considering as a recommendations candidate for, the social in uence of on may contribute to the decision making. finally, the geographical in uence of pois on nearby pois can be considered. as shown in the example, since has visited and before, their nearby pois and may be considered positively due to the geographical in uence. as discussed earlier, the conventional item recommendation techniques based on user preference and social in uence seem to be applicable for poi recommendation. ectiveness on poi recommendations in lbsns have not been studied. most importantly, the idea of incorporating the geographical in uence between pois, which is refreshing and promising for poi recommendation, has not been investigated previously. in this paper, we examine the geographical clustering phenomenon of user check in activities in lbsns and propose a power law probabilistic model to capture geographical in uence among pois. accordingly, we realize the targeted collaborative poi recommendation service for lbsns by incorporating the geographical in uence of pois via bayesian theory. finally, we propose a uni ed location recommendation framework to fuse user preference to pois along with the social in uence among users and the geographical in uence among pois. in summary, the contributions we made in this research work are four fold. we study the problem of supporting poi recommendation in location based social networking systems, where pois are uniquely di erent from other recommended items in conventional recommender systems because of the fact that physical interactions are required between users and pois. hence, we investigate the geographical in uence between pois and propose to incorporate geographical in uence along with user preference and social in uence in the collaborative recommendation techniques we develop for poi recommendations in lbsns. we develop a novel idea to capture the geographical in uence by investigating the geographical clustering phenomenon of user check in activities in lbsns. we propose to employ a power law probabilistic model to capture the geographical in uence among pois, and realize our collaborative poi recommendations based on geographical in uence via naive bayesian method. we propose a uni ed recommendation framework for poi recommendations by fusing user preference, social in uence and geographical in uence to devise a checkin probability prediction model for a given user to visit apoi. finally, we evaluate the proposed recommendation technique over large scale datasets we collected from two well known lbsns, ie, foursquare and whrrl. experimental results show that our proposed collaborative recommendation technique exhibits superior poi recommendation performance against other approaches. important ndings of our evaluation are summarized below. geographical in uence shows a more signi cant impact on the. ectiveness of poi recommendations in lbsns than social in uence, improving the recommendation performance by at least against social in uence. random walk and restart may not be suitable for poi recommendation in lbsns. based on our analysis over the real data and the experimental results, we nd that friends still re ect signi cantly di erent preferences and social tie cannot re ect the similarity of check in behavior among users. item based collaborative ltering do not provide results comparable to user based collaborative ltering, because many pois, in the current state of lbsns, only show a few user check ins. thus item similarity is not as accurate as user similarity. the rest of this paper is organized as follows. in section #, we provide some background on conventional recommendation techniques according to userown preference and social in uence and review related works in the literature. in section #, we describe the location recommendation process according to geographical in uence. in section #, we propose a location recommendation framework, which uni es all three factors together. in section #, we perform an empirical study on the di erent location recommendation algorithms upon two large scale datasets crawled from foursquare and whrrl, respectively. finally, in section #, we conclude the paper. newly emerging location based and event based social network services provide us with a new platform to understand users preferences based on their activity history. a user can only visit a limited number of venues events and most of them are within a limited distance range, so the user item matrix is very sparse, which creates a big challenge to the traditional collaborative filtering based recommender systems. the problem becomes even more challenging when people travel to a new city where they have no activity information. in this article, we propose lcars, a location content aware recommender system that offers a particular user a set of venues or events by giving consideration to both personal interest and local preference. this recommender system can facilitate people travel not only near the area in which they live, but also in a city that is new to them. specifically, lcars consists of two components: offline modeling and online recommendation. the offline modeling part, called lca lda, is designed to learn the interest of each individual user and the local preference of each individual city by capturing item cooccurrence patterns and exploiting item contents. the online recommendation part takes a querying user along with a querying city as input, and automatically combines the learned interest of the querying user and the local preference of the querying city to produce the toprecommendations. to speed up the online process, a scalable query processing technique is developed by extending both the threshold algorithm and ta approximation algorithm. we evaluate the performance of our recommender system on two real datasets, that is, doubanevent and foursquare, and one large scale synthetic dataset. the results show the superiority of lcars in recommending spatial items for users, especially when traveling to new cities, in terms of both effectiveness and efficiency. besides, the experimental analysis results also demonstrate the excellent interpretability of lcars. newly emerging event based social network services, such as meetup, plancast and doubanevent have provided convenient online platforms for users to create, spread, track and attend social events which are going to be held in some physical locations. on these web services, users may propose social events, ranging from informal get togethers to formal activities by specifying when, where and what the event is. after the created event is available to the public, other users may express their intent to join event by replying yes, no or maybe online. meanwhile, the advances in locationacquisition and wireless communication technologies enable users to add a location dimension to traditional networks, fostering a growth of location based social networking services, such as foursquare and gowalla which allow users to check in at spatial venues via mobile devices. by answering these two questions, we can satisfy the personalized information needs for people in their daily routines and trip planning. for simplicity, we use the notion of spatial items to denote both venues and events in a uni ed way, so that we can de ne our problem as follows: given a querying userwith a querying location lu such as a city, ndinteresting spatial items within lu, that match the preference of. however, inferring user preferences for spatial items is very challenging by exploring users activity history in an ebsn or lbsn. first, a user can only visit a limited number of physical venues and attend a limited number of social events. this leads to a sparse user item matrix for most existing location based recommender systems, which directly use collaborative lteringbased methods over spatial items. second, the observation of travel locality makes the task more challenging if a user travels to a new place where he she has no activity history. the observation of travel locality on ebsns and lbsns shows that users tend to travel a limited distance when visiting venues and attending events. in the analysis of foursquare data, we observe that of users travel miles or less and of users travel miles or less. another investigation shows that the activity records generated by users in their non home cities are very few and only take up of the activity records they left in their home cities. this observation of travel locality is quite common in the real world, aggravating the data sparsity problem with personalized spatial item recommendations. in this case, solely using a cf based method is not feasible any more, especially when coping with the new city problem, because a querying user usually does not have enough activity history of spatial items in a city that is new to him her. let us assume, for example, that querying useris a shopaholic and often visits shopping mall in his her home city; is a popular local shopping mall in city lv that is new to. intuitively, a good recommender system should recommendtowhen he she travels in lv. however, the pure cf based methods fail to do so. are few common users betweenand according to the property of travel locality, resulting in the low similarity between the two items user vectors. for the user based cf, it is most likely that all thenearest neighbors of userlive in the same city as, and that few of them have visitedaccording to the property of travel locality. to this end, we propose a location content aware recommender system that exploits both the location and content information of spatial items to alleviate the data sparsity problem, especially the new city problem. as is shown in figure #, lcars consists of two main parts: of ine modeling and online recommendation. the of ine model, lca lda, is designed to model user preferences to spatial items by simultaneously considering the following two factors in a uni ed manner. user interest: music lovers may be more interested in concerts while shopaholics would pay more attention to shopping malls. local preference: when users visit a city, especially a city that is new to them, they are more likely to see local attractions and attend events that are popular in the city. thus, the activity histories left by other people when they traveled in the querying city are valuable resources for making a recommendation, especially when people travel to an unfamiliar area where they have little knowledge about the neighborhood. lca lda can automatically learn both user interest and local preference from the user activity history. exploiting local preference can address the issue of data sparsity to some extent, especially the new city problem. to further alleviate the data sparsity problem, lca lda exploits the content information of spatial items to link content similar spatial items together. it is worth mentioning that lca lda can also capture the item cooccurrence patterns to link relevant items together, just like item based collaborative ltering methods. thus, lca lda not only has the ability to link spatial items together by their common users, just like the collaborative ltering based methods, but also possesses the capability of linking items together which do not have any overlap of users by their contents. so lca lda is able to facilitate peopletravel not only near their home regions but also to cities that are new to them. to our best knowledge, ideas for unifying the in uence of local preferences, collaborative ltering and content based recommendation are unexplored and very challenging. yin et al given a querying userwith a querying city lu, the online recommendation part computes a ranking score for each spatial itemwithin lu by automatically combinings interest and the local preference of lu, which are learned of ine by lca lda. to speed up the process of online recommendation, we propose a scalable query processing technique for toprecommendations which separates the of ine scoring computation from online scoring computation to minimize the query time. speci cally, we partition all spatial items into locations at a certain granularity such as cities. for each location, as is shown in figure #, we pre computelists of items according to thelatent topics learned by of ine model lca lda. in each list lz, items are sorted based on their generative probabilities with respect to the corresponding topic. at query time, we access items from thesorted lists within the querying city lu and compute topitems by running the ta algorithm. the algorithm has the nice property of terminating early without scanning all items. speci cally, it terminates when the ranking score of theth item in the result list is higher than the threshold score. this ta based scheme allows us to ef ciently return the toprecommendations by examining the minimum number of items. in practice, the querying user may be satis ed with an approximation toplist to get a faster query response. approximation to the toprecommendations for a ranking function to be a ranked list ofitems such that for eachamong theseitems and eachnot among theseitems, while needs to hold in the exact toprecommendation. thus, to provide an approximated toprecommendation with a faster online speed, we design a ta approximation algorithm based on the ta scheme. furthermore, the ta approximation algorithm enables an interactive process where at all times lcars can show the querying user its current view of the toprecommendations along with a guarantee of. at any time, the querying user can decide whether he she is satis ed with the recommendation results and stop the algorithm. to sum up, we focus on the problem of spatial item recommendation in this article, especially the spatial item recommendation to users who travel out of town. note that we presented our preliminary study of spatial item recommendation in. in this article, we extended with an in depth investigation and performance analysis. speci cally, this article makes the following additional contributions: first, we provide a more comprehensive analysis and review of related work. second, we present the detailed inference procedure of our lca lda model, and provide extensive analysis and discussion about our designed ta based online algorithm. third, based on the ta scheme, we design a new ta approximation algorithm to provide approximated topanswers online, which enriches our spatial item recommender system lcars by enabling an interactive process. fourth, we conduct a more extensive performance analysis and case study, using two publicly available real life datasets and one large scale synthetic dataset. the primary contributions of our research are summarized as follows. we argue that both local preference and item content information are important for modeling user preference and handling the data sparsity problem, and propose lca lda, a novel location content aware probabilistic generative model that quanti es and incorporates both local preference and item content information in the spatial item recommendation process. we design a scalable query processing technique to improve the recommendation ef ciency, enabling an online recommendation scenario. symbol, description the set of users, spatial items, locations, content words vl the set of spatial items located in locationk the number of topics du the pro le of uservui the spatial item of ith record in user pro le du. the interest of user, expressed by a multinomial distribution over topics the local preference of location, expressed by a multinomial distribution over topics fz a multinomial distribution over spatial items speci. to topicf a multinomial distribution over content words speci. to topiczui the topic assigned to spatial item vui lui the location of spatial item vui lu the querying location of the querying usercui a content word describing spatial item vui cui the set of content words describing spatial item vui sui if spatial item vui is generated by. or lui, dirichlet priors to multinomial distributions fz, a dirichlet priors to multinomial distributions, the mixing weight speci. to user; the parameter for sampling the binary variable. we design a ta approximation algorithm to provide an approximated toprecommendation, enabling an interactive process where lcars can show the querying user its progressive view of the toprecommendations along with a guarantee of. we conduct extensive experiments to evaluate the performance of our recommender system on two large scale real datasets. the results show the superiority of our proposals in recommending spatial items for users, especially when traveling to new cities, in terms of both effectiveness and ef ciency. besides, the empirical analysis results also show the excellent interpretability of our lcars. the remainder of the article is organized as follows. section # details the of ine modeling part of our recommender system lcars. section # presents the online recommendation part of lcars. we report the experimental results in section #. section # reviews the related work and we conclude the article in section #. newly emerging location based and event based social network services provide us with a new platform to understand users preferences based on their activity history. a user can only visit a limited number of venues events and most of them are within a limited distance range, so the user item matrix is very sparse, which creates a big challenge for traditional collaborative filtering based recommender systems. the problem becomes more challenging when people travel to a new city where they have no activity history. in this paper, we propose lcars, a location content aware recommender system that offers a particular user a set of venues or events by giving consideration to both personal interest and local preference. this recommender system can facilitate people travel not only near the area in which they live, but also in a city that is new to them. specifically, lcars consists of two components: offline modeling and online recommendation. the offline modeling part, called lca lda, is designed to learn the interest of each individual user and the local preference of each individual city by capturing item co occurrence patterns and exploiting item contents. the online recommendation part automatically combines the learnt interest of the querying user and the local preference of the querying city to produce the toprecommendations. to speed up this online process, a scalable query processing technique is developed by extending the classic threshold algorithm. we evaluate the performance of our recommender system on two large scale real data sets, doubanevent and foursquare. the results show the superiority of lcars in recommending spatial items for users, especially when traveling to new cities, in terms of both effectiveness and efficiency. newly emerging event based social network services, such as meetup and doubanevent, provide online platforms for users to establish social events which will be held in physical places. given a created social event, users may express their intent to join by replying yes, no or maybe. meanwhile, the advances in location acquisition and wireless communication technologies enable users to add a location dimension to traditional social networks, fostering the growth of location based social networking services, such as foursquare and gowalla which allow users to check in at spatial venues and rate their visit via mobile devices. by answering these two questions, we can satisfy the personalized information needs for many users in their daily routines and trip planning. for simplicity, we propose the notion of spatial items to denote both venues and events in a uni ed way, so that we can de ne our problem as follows: given a querying userwith a querying city lu, ndinteresting spatial items within lu, that match the preference of. however, inferring user preferences for spatial items is very challenging by using users activity history in an ebsn or lbsn. first, a user can only visit a limited number of physical venues and attend a limited number of social events. this leads to a sparse user item matrix for most existing location based recommender systems, which directly use collaborative ltering based methods over spatial items. second, the observation of travel locality makes the task more challenging considering that a user travels to a new place where he she does not have any activity history. the observation of travel locality made on ebsns and lbsns shows that users tend to travel a limited distance when visiting venues and attending events. an investigation shows that the activity records generated by users in their non home cities are very few and only take up of the activity records they left in their home cities. this observation of travel locality is quite common in the real world, aggravating the data sparsity problem with personalized spatial item recommendations. in this case, solely using a cf based method is not feasible any more, especially when coping with the new city problem, be lca lda user user local profile db interest model preference figure #: the architecture framework of lcars cause a querying user usually does not have enough activity history of spatial items in a city that is new to him her. let us assume, for example, that querying useris a shopaholic and often visits shopping mallin his her home city; is a popular local shopping mall in city lv that is new to. intuitively, a good recommender system should recommendtowhen he she travels to lv. however, the pure cf based methods fail to do so. for the item based cf, there are few common users betweenandaccording to the property of travel locality, resulting in the low similarity between the two items user vectors. for the user based cf, it is most likely that all thenearest neighbors of userlive in the same city as, and that few of them have visitedaccording to the property of travel locality. to this end, we propose a location content aware recommender system that exploits both the location and content information of spatial items to alleviate the data sparsity problem, especially the new city problem. as is shown in figure #, lcars consists of two main parts: of ine modeling and online recommendation. the of ine model, lca lda, is designed to model user preferences to spatial items by simultaneously considering the following two factors in a uni ed manner. user interest: music lovers may be more interested in concerts while shopaholics would pay more attention to shopping malls. local preference: when users visit a city, especially a city that is new to them, they are more likely to see local attractions and attend events that are popular in the city. thus, the preferences of local people are a valuable resource for making a recommendation, especially when people travel to an unfamiliar area where they have little knowledge about the neighborhood. lca lda can automatically learn both user interest and local preference from the user activity history. exploiting local preference can address the issue of data sparsity to some extent. to further alleviate the data sparsity problem, lca lda exploits the content information of spatial items to link content similar spatial items together, facilitating peopletravel not only near their home regions but also to cities that are new to them. it is worth mentioning that lca lda can also capture the item co occurrence patterns to link relevant items together, just like item based collaborative ltering methods. to our best knowledge, ideas for unifying the in uence of local preferences, collaborative ltering and content based recommendation are unexplored and very challenging. given a querying userwith a querying city lu, the online recommendation part computes a ranking score for each spatial itemwithin lu by automatically combinings interest and the local preference of lu, which are learned of inebylca lda tospeed up the process of online recommendation, we propose a scalable query processing technique for toprecommendations which separates the of ine scoring computation from online scoring computation to minimize the query time. speci cally, we partition all spatial items into locations at a given level such as cities. for each location, as is shown in figure #, we storelists of spatial items that fall into the location and each list is sorted by the items of ine score in the corresponding dimension. at query time, we retrieve all spatial items within lu, and then extend the threshold algorithm to compute the topspatial items by combining the score of each candidate item fromscorers. the primary contributions of our research are summarized as follows. we argue that local preference and item content information are important for modeling user preference and handling the data sparsity problem, and propose lca lda, a novel location content aware probabilistic generative model that quanti es and incorporates both local preference and item content information in the spatial item recommendation process. we design a scalable query processing technique to improve the recommendation ef ciency, enabling an online recommendation scenario. we conduct extensive experiments to evaluate the performance of our recommender system on two large scale real data sets. the results show the superiority of our proposals in recommending spatial items for users, especially when traveling to new cities, in terms of both effectiveness and ef ciency. the remainder of the paper is organized as follows. section # details the location content aware recommender system lcars. we report the experimental results in section #. section # reviews the related work and we conclude the paper in section #. in recent years, research into the mining of user check in behavior for point of interest recommendations has attracted a lot of attention. existing studies on this topic mainly treat such recommendations in a traditional manner that is, they treat pois as items and check ins as ratings. however, users usually visit a place for reasons other than to simply say that they have visited. in this article, we propose an approach referred to as urban poi walk, which takes into account a user social triggered intentions, preference triggered intentions, and popularity triggered intentions, to estimate the probability of a user checking in to a poi. the core idea of upoi walk involves building a hits based random walk on the normalized check in network, thus supporting the prediction of poi properties related to each user preferences. to achieve this goal, we define several user poi graphs to capture the key properties of the check in behavior motivated by user intentions. in our upoi walk approach, we propose a new kind of random walk model dynamic hits based random walk which comprehensively considers the relevance between pois and users from different aspects. on the basis of similitude, we make an online recommendation as to the poi the user intends to visit. to the best of our knowledge, this is the first work on urban poi recommendations that considers user check in behavior motivated by si, prei, and popi in location based social network data. through comprehensive experimental evaluations on two real datasets, the proposed upoi walk is shown to deliver excellent performance. many urban applications, such as navigational planning services, urban planning, and location based advertisement, have been developed for the rapidly growing location based services market. to improve the quality of smart urban living, it is bene cial that these lbss can recommend to their users points of interest in which they may be interested. thus, effective and ef cient urban poi recommendation techniques are desirable. given a set of pois, which is predetermined via a location based social network, the recommendation technique identi es the list of pois that a user is most likely to visit. intuitively, to model the relevance between the users and the pois, we can construct a user poi matrix in which rows denote the users and columns denote the pois. each entry in this user poi matrix denotes a relevance score, showing the probability that the user will visit the poi. therefore, as shown in figure #, we can see poi recommendations given some user query as a ranking over the rows of the matrix. intuitively, each entry in the user poi matrix could be estimated by users check ins. however, users typically only check in to a small portion of all pois. consequently, we need to calculate a predicted score for the pois that a user has not visited. to address the calculation of these predicted scores for the user poi pairs, random walk approaches have shown an excellent performance. using the random walk approach to predict scores for the user poi pairs, a weighted graph is required. generally, the weights associated with each edge of the graph should re ect the intention of the user to visit the poi. on the basis of our observations, we categorize users intentions into three classes: social triggered intentions: these intentions refer to the relationship between pois and a usersocial circle, and re ect the frequency with which the usersocial circle visits the poi. for example, as shown in figure #, we could recommend a chinese restaurant to user, because his or her friends often check in to such restaurants. preference triggered intentions: these intentions refer to the relationship be tween the semantic labels of the poi and a userpreferences, and re ect how often the user visits pois with a speci. as shown in figure #, usertends to check in to pois in the coffee category. therefore, we may recommend other pois in this category. popularity triggered intentions: these intentions refer to the relationship between pois and their number of check ins, and re ect the general phenomenon whereby people like to visit popular places. for example, as shown in figure #, most users go to chinese restaurants for a meal. we thus recommend chinese restaurants to other users. corresponding to these three types of intention, users check ins can be viewed as the context of the behavior that is motivated by the aforementioned intentions. in other words, check ins may be triggered by multiple intentions, inclusive of si, prei, and popi. however, most existing techniques for recommending pois are primarily focused on analyzing si for enhancing collaborative ltering based models. to extract the check in behavior motivated by si, existing methods usually extract social based features from lbsn data. due to the social binding of a usersocial circle, these recommendations tend to recommend the pois that usually have been visited by the userfriends. for example, as shown in figure #, users a andhave both visited coffee shops, implying that their preferences in restaurants are very similar. thus, it is more reasonable to recommend a pizza parlor than a chinese restaurant to user. inference recommendation models would recommend a chinese restaurant to user. considering that these existing models do not address users preferences from semantic tags of visited pois, we therefore exploit users preferences from semantic tags of visited pois to recommend the pois of lbsns in an urban area. several works have addressed the check in behavior motivated by prei. as mentioned earlier, semantic label plays a crucial role for representing users preference intention in urban poi recommendation. unfortunately, these works only consider the prede ned category of the poi as a rough semantic label while disregarding the user generated annotation of the poi. although we can also map users current positions to some poi database or road network to understand the poi tags given by users, this process does not work well in an urban area. this is because pois in an urban area are very crowded, which means we cannot accurately tag a location just by determining users positions. figure # shows that there are two totally different types of restaurant in the same building. fortunately, we can view the lbsn of each user as a sensor for detecting semantic poi tags, thus improving poi recommendation in an urban area. moreover, the check in behavior motivated by popi has still not been taken into consideration in the representation of user behavior. as mentioned earlier, users generally visit only a small portion of all pois. this leads to the features extracted from the si and prei behavior being ineffective for recommending pois that the user and his or her social circle never visit. on the basis of the observations prompted by the preceding examples, we propose urban poi walk. this is a new approach to urban poi recommendation that mines urban users check in behavior based on three kinds of intentions. as shown in equation, given a set of usersandasetofpois, the problem of poi recommendation can be formulated as the prediction of relevance scores that is, the degree of interest for a given user poi pair: where. hence, poi recommendation in lbsns can be addressed as the problem of numerical value prediction. although numerical value prediction techniques have been developed for many applications, such as demographic prediction, bio life cycle analysis, and the prediction of natural phenomena, they have not yet been explored in the context of urban computing. in addition, the question of extracting signi cant features to support poi recommendations based on heterogeneous check in intentions is also a critical and challenging issue. in building a numerical value prediction model, the fundamental issue is handling the heterogeneous features extracted from the heterogeneous data. as mentioned earlier, random walk approaches display an excellent performance in calculating predicted scores for the user poi pairs. however, existing works do not address such heterogeneous features, prefer ring instead a straightforward aggregation of the extracted features, such as by linear combination. this leads to some features dominating over others. to address the problem mentioned previously, we explore the movements of users triggered by si, prei, and popi, and seek several descriptive features to explain the relevance of user poi pairs. in contrast to conventional poi recommendation techniques, which are based solely on the check in behavior motivated by si, we also utilize the check in behavior motivated by prei and popi to recommend pois for lbsn users. our upoi walk method follows the hits based random walk approach. this comprises an of ine relevance learning module and an online toprelevant poi search. to learn the relevance of each user poi pair, the relevance learning module explores all social, personal preference, and popularity aspects of the poi check ins being captured in the lbsn dataset. the relevance learning module includes three main steps. first, feature extraction involves the extraction of signi cant features of user poi pairs in the forms of si, prei, and popi. second, user poi graph construction involves the construction of weighted bipartite graphs based on the extracted features. the main idea underlying the hits based random walk approach is to predict the relevance of a user poi pair in terms of the userability to reach the poi; thus, the upg plays a crucial role in the random walk model. finally, dynamic hits based random walk involves calculation of the relevance of each user poi pair by performing a hits based random walk with dynamic selection of the constructed upg. in the online recommendation module, the relevance between the properties of the poi and the userpreference can be used to rank the recommendation list of pois. after checking their coordinates, we obtain all quali ed pois for a particular user. this research makes a number of signi cant contributions, which are summarized as follows: we formulate the problem of poi recommendation in an urban area as the problem of relevance score prediction. this problem has not previously been explored in the research community. we propose upoi walk, a new approach for urban poi recommendation, by mining urban users check in behavior. the proposed upoi walk learns a random walk to estimate the relevance score of each user poi pair. upoi walk simultaneously explores three intentions of user check in behavior, namely si, prei, and popi, by exploiting lbsn data to extract descriptive features. we propose an extension to the hits based random walk model dynamic hitsbased random walk for estimating the relevance between pois and users. our proposed model can deal with the heterogeneous feature problem well by building several weighted complete bipartite graphs. we use two real datasets to evaluate the performance of upoi walk in a series of experiments. one is obtained from gowalla, and the other is from everytrail. the results show that upoi walk delivers superior performance over other recommendation techniques in terms of the popular normalized discounted cumulative gain and mean absolute error measures. the rest of this article is organized as follows. review the related work in section # and provide an overview our urban poi recommendation approach, upoi walk, in section #. the proposed dynamic hits based random walk model is detailed in section #. finally, we present the evaluation result of our empirical performance study in section # and then discuss our conclusions and future work in section #. in section #, the details of our proposed features are described. the availability of user check in data in large volume from the rapid growing location based social networks enables many important location aware services to users. point of interest recommendation is one of such services, which is to recommend places where users have not visited before. several techniques have been recently proposed for the recommendation service. however, no existing work has considered the temporal information for poi recommendations in lbsns. we believe that time plays an important role in poi recommendations because most users tend to visit different places at different time in a day, \eg visiting a restaurant at noon and visiting a bar at night. in this paper, we define a new problem, namely, the time aware poi recommendation, to recommend pois for a given user at a specified time in a day. to solve the problem, we develop a collaborative recommendation model that is able to incorporate temporal information. moreover, based on the observation that users tend to visit nearby pois, we further enhance the recommendation model by considering geographical information. our experimental results on two real world datasets show that the proposed approach outperforms the state of the art poi recommendation methods substantially. the availability of user check in data in large volume from the rapid growing location based social networks enables a number of important location aware services. point of interest recommendation is one of such services, which is to recommend pois that users have not visited before. it has been observed that: users tend to visit nearby places, and users tend to visit different places in different time slots, and in the same time slot, users tend to periodically visit the same places. for example, users usually visit a restaurant during lunch hours, and visit a pub at night. in this paper, we focus on the problem of time aware poi recommendation, which aims at recommending a list of pois for a user to visit at a given time. to exploit both geographical and temporal influences in time aware poi recommendation, we propose the geographical temporal influences aware graph to model check in records, geographical influence and temporal influence. for effective and efficient recommendation based on gtag, we develop a preference propagation algorithm named breadth first preference propagation. the algorithm follows a relaxed breath first search strategy, and returns recommendation results within at most propagation steps. our experimental results on two real world datasets show that the proposed graph based approach outperforms state of the art poi recommendation methods substantially. location based social networks, such as foursquare and facebook places, have become increasingly popular recently. they provide a platform for millions of users to share their geographical locations and experiences through check ins. each check permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. figure #: an example check in in represents a uservisit to a point of interest, such as a restaurant, a sightseeing site, etc, at a speci. figure # gives an example check in: a user named anon. as of january year#, foursquare accumulated over billion check ins made by million users. the availability of user check in data in large volume. ers the opportunity to design appealing services to facilitate users travels and social interactions. poi recommendation is one of such services, which aims at recommending pois to users who have not visited them before. note that, it is common to have thousands of pois even in a small city, and a user may have visited only a small portion of them. poi recommendation can help both residents and visitors to explore new interesting places in a city. on the other hand, poi recommendation certainly bene ts the business owners of pois for attracting more customers. in this paper, we focus on the problem of time aware poi recommendation, which is to recommend pois for a target user to visit at a speci. the recommendation results are time aware due to the observation that a user tends to go to di erent places at di erent time slots. for example, a person is more likely to go to a pub rather than a restaurant at midnight. from historical check in records obtained from foursquare or other sources, two observations have been made in existing studies related to poi recommendation. first, many users tend to visit nearby places. we refer to this observation as the geographical in uence on users daily activities. second, many users tend to visit di erent places at di erent time slots and periodically visit the same places in the same time slot. for example, users usually go to work places in the morning and have dinner at restaurants in the early evening. we refer to this observation as the temporal in uence on users daily activities. the geographical in uence suggests that the chance of a user visiting a poi will be higher if this poi is closer to the userpreviously visited pois. in other words, a poi recommendation algorithm should consider geographical in uence and rank such pois higher. on the other hand, the temporal in uence suggests that a poi recommendation algorithm shall consider user mobility pattern and recommend the right types of places based on the time a user plans to visit. for example, when we recommend pois for a user to visit during lunch hour, a restaurant should be given a higher priority than a pub. to exploit both geographical and temporal in uences for timeaware poi recommendation, we propose a graph based approach. in our approach, a graph named geographical temporal in uences aware graph is constructed using all users check in records. gtag consists of three types of nodes and two types of links. each user is represented by a user node that connects to a set of session nodes of the user, each of which represents a time slot. a session node of a user is connected to a poi node if the user of the session node visits the poi in the corresponding time slot. a pair of edges form a check in link, which represents a check in record of the user. two poi nodes are connected through a poi link if they are located geographically near each other. hence, gtag embeds both the temporal and geographical information from the check in records. introducing the session nodes for each user will make the data more sparse, which is a challenge for recommendation. to alleviate the data sparsity problem, we propose to compute the importance of each session, and the sessions close to the target session are assigned larger weights, since the behaviors of a user in two close time slots are similar. ectiveness,ciency is also an important consideration in designing recommendation algorithms, for the number of candidate items being always very large. cient recommendation algorithm named breadth rst preference propagation. the algorithm follows a relaxed breath rst search strategy, and returns recommendation results within propagation steps. in our experiments on two real world datasets, the proposed gtag with bpp signi cantly outperforms state of the art algorithms including the random walk based algorithms. to summarize, the main contributions of this paper are three fold: we propose the geographical temporal in uences aware graph for time aware poi recommendation, which encodes both geographical and temporal information of user check in records. cient breadth rst preference propagation algorithm for time aware recommendation on gtag exploiting both geographical and temporal in uences. we conduct extensive experiments to evaluate the proposed method on two publicly available lbsn datasets collected from foursquare and gowalla, respectively. experimental results show that our proposed method outperforms state ofthe art methods for time aware poi recommendation. the rest of the paper is organized as follows: we review previous work in section #, and report the datasets and the observations on temporal in uence in section #. in sections and, we introduce the gtag and the recommendation algorithm bpp, respectively. the experimental results are presented in section #. finally, we conclude this paper in section #. to copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior speci. or commercial advantage and that copies bear this notice and the full citation on the rst page. copyrights for components of this work owned by others than acm must be honored. utilizing the structured properties of the gtag, we propose an. with the rapidly growing location based social networks, personalized geo social recommendation becomes an important feature for lbsns. personalized geo social recommendation not only helps users explore new places but also makes lbsns more prevalent to users. in lbsns, aside from user preference and social influence, geographical influence has also been intensively exploited in the process of location recommendation based on the fact that geographical proximity significantly affects users check in behaviors. although geographical influence on users should be personalized, current studies only model the geographical influence on all users check in behaviors in a universal way. in this paper, we propose a new framework called igslr to exploit personalized social and geographical influence on location recommendation. igslr uses a kernel density estimation approach to personalize the geographical influence on users check in behaviors as individual distributions rather than a universal distribution for all users. furthermore, user preference, social influence, and personalized geographical influence are integrated into a unified geo social recommendation framework. we conduct a comprehensive performance evaluation for igslr using two large scale real data sets collected from foursquare and gowalla which are two of the most popular lbsns. experimental results show that igslr provides significantly superior location recommendation compared to other state of the art geo social recommendation techniques. providing location recommendations becomes an important feature for location based social networks, since it helps users explore new places and makes lbsns more prevalent to users. in lbsns, geographical influence and social influence have been intensively used in location recommendations based on the facts that geographical proximity of locations significantly affects users check in behaviors and social friends often have common interests. although human movement exhibits sequential patterns, most current studies on location recommendations do not consider any sequential influence of locations on users check in behaviors. in this paper, we propose a new approach called lore to exploit sequential influence on location recommendations. first, lore incrementally mines sequential patterns from location sequences and represents the sequential patterns as a dynamic location location transition graph. lore then predicts the probability of a user visiting a location by additive markov chain with tg. finally, lore fuses sequential influence with geographical influence and social influence into a unified recommendation framework; in particular the geographical influence is modeled as two dimensional check in probability distributions rather than one dimensional distance probability distributions in existing works. we conduct a comprehensive performance evaluation for lore using two large scale real data sets collected from foursquare and gowalla. experimental results show that lore achieves significantly superior location recommendations compared to other state of the art recommendation techniques. you are not familiar with the places and neighborhoods. you want to know all about the exciting sights, food outlets, and cultural venues that the locals frequent, in particular those that suit your personal interests. even though there exist many mapping, local search, and travel assistance sites, they mostly provide popular and famous listings such as statue of liberty and eiffel tower, which are well known places but may not suit your personal needs or interests. therefore, there is a gap between what tourists want and what dominant tourism resources are providing. in this work, we seek to provide a solution to bridge this gap by exploiting the rich user generated location contents in location based social networks in order to offer tourists the most relevant and personalized local venue recommendations. in particular, we first propose a novel bayesian approach to extract the social dimensions of people at different geographical regions to capture their latent local interests. we next mine the local interest communities in each geographical region. we then represent each local community using aggregated behaviors of community members. finally, we correlate communities across different regions and generate venue recommendations to tourists via cross region community matching. we have sampled a representative subset of check ins from foursquare and experimentally verified the effectiveness of our proposed approaches. when we travel to new places, in addition to sightseeing, we are often interested in exploring local cultures that match our personal interests, such as sampling local cuisines, understanding local customs, and visiting shops selling local special items. however, there exists a large gap between what we want and what we are provided by the this work was supported by the nus tsinghua extreme search project under grant number and the a star project geographical information retrieval via spatial annotation of web media. authors addresses: zhao, digipen institute of technology singapore, pixel building one north, central exchange green, singapore year#; email: zhaoyiliang gmail com; nie, wang, and. permission to make digital or hard copies of part or all of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro. or commercial advantage and that copies show this notice on the rst page or initial screen of a display along with the full citation. copyrights for components of this work owned by others than acm must be honored. to copy otherwise, to republish, to post on servers, to redistribute to lists, or to use any component of this work in other works requires prior speci. permissions may be requested from publications dept, acm, inc, penn plaza, suite, new york, ny year# usa, fax, or permissions acm org. year# acm year# year# art doi: http: dx doi org year#. global distribution of sampled foursquare venues visited from august to november year#. colors represent the popularity of venues: red, number of check ins; green, number of check ins; and blue, number of check ins. dominant tourism resources, such as wikitravel and lonely planet, and of cial tourism boards of certain countries, such as yoursingapore and australiatravel the gap is caused by two main reasons. first, these sites mainly provide information of famous attractions or popular local landmarks instead of locally interesting places. however, many tourists may want to experience local cultures that match their interests in terms of local food, events, and shops. these locally interesting places or activities may not be famous enough to be included in these tourism resources. second, the dominant tourism resources generate user independent contents, while in reality, people usually have drastically different personal preferences. for example, people who love shopping may want to visit more popular local shops; food lovers are more interested in sampling different kinds of local foods, such as the local foods in the shilin night market in taipei; and people who enjoy nightlife will be happier to be recommended local bars and pubs. on the other hand, rich location data at the ne grained level is now available from the recently emerging location based social networks, such as foursquare and gowalla. lbsns are becoming more and more popular thanks to the recent availability of open mobile platforms, which make lbsns much more accessible to mobile users. these lbsns are able to provide suf cient resources to bridge the aforementioned gap. first, they allow users to voluntarily annotate the real world with check ins, which indicate the speci. times that the users were at particular locations. figure # shows the sampled distribution of foursquare venues visited during august to november year#. the high density check in distribution in such a short period reveals the worldwide active participation of foursquare users. data, in which users may check in at nearly the same geographical coordinates but at very different venues. for example, users can check in at a cinema or a restaurant of the same shopping mall where both venues share the same geographical coordinates. in contrast, cell phone data provides coarse location accuracy and cannot differentiate between users presences across different oors in the same building. a check in is a userstatus message in an lbsn with the purpose of letting his or her friends and or public know his or her current location. user venue matrix participation of foursquare users and the ne grained venue annotations make personalized recommendation of locally interesting venues possible. collaborative ltering based approaches seem to be plausible solutions to this problem, demonstrated by their great successes in commercial applications, such as amazon, net ix, tivo, ebay, and research on point of interest recommendations. these approaches, including user based cf and item based cf, automatically generate recommended items of a user using known preferences of other users or known preferences of other items. however, cf based algorithms, being memory or model based, require suf cient overlaps among users in terms of items rated so that the correspondences among users or items can be readily identi ed. in lbsns, however, users usually visit venues that are within short geographical distances from their homes. it is thus hard if not impossible to correlate users if they visit very different sets of venues with little or no overlaps. letconsider the user venue matrix shown in table, where users never visited venues and users never visited venues. if we were to use traditional cf techniques, the ratings marked with in table ii would be hard to be estimated. in addition, most cf algorithms are static models in which relations are assumed to be xed at different times. however, users visiting behaviors often evolve over time and exhibit strong temporal patterns, such as daily weekly patterns, and demonstrate a periodic property. for example, people perform more check ins at restaurants during meal times and visit shops mostly during weekends and weekday evenings. hence, an effective way to incorporate the temporal information is also required. in this work, we aim to provide tourists with personalized location recommendations leveraging rich user generated location contents from lbsns. speci cally, we identify locally interesting venues to be those frequently visited by local people but obscure to most foreigners. we make use of these digital footprints to un derstand collective local user behaviors and then provide venue recommendations to. overall framework of locally interesting venue recommendations to tourists. it includes four components: social dimensions extraction, local interest communities detection, community pro ling and representation, and recommendations generation via cross region community matching. venues of the same color are similar venues and dotted arrows indicate users foreign visits to be recommended. tourists from a global understanding via cross region communities matching. figure # shows the overall framework, which consists of four components. to tackle the sparseness problem and handle time dependent varied behaviors, we propose to rst extract users latent social dimensions to capture users preferences ac cording to their local check ins at different times, social relations, and similarities among the visited venues. social dimensions re ect users latent drivers of their social behaviors, and each dimension represents a plausible interest community among users. to accomplish this subtask, we propose a novel framework named bayesian probabilistic tensor factorization with social and location regularization that puts users visiting behaviors, social relations, and venue similarities into a uni ed framework. we next mine local interest communities in each geographical region using adaptive af nity propagation. we then represent each local community using global properties, such as venue categories and time of visits according to aggregated behaviors of community members. finally, we correlate communities at different geographical regions to generate personalized recommendations of locally interesting venues to tourists. by conducting experiments on a representative real world dataset, we demonstrate that our proposed scheme is effective in generating personalized recommendations of locally interesting venues to tourists. with the effective extraction of users latent social dimensions, further applications such as targeted advertising, content placement and caching, and more relevant information diffusion can be built upon with more accurate preference matches. the main contributions of this work are summarized as follows: to the best of our knowledge, this is the rst work that targets personalized recommendations of locally interesting venues to tourists. we propose a novel uni ed framework to effectively extract users latent social dimensions. the framework considers users temporal visiting behaviors, social ties, and venue similarities simultaneously. we develop a novel idea to match users local preferences across geographical regions using aggregated behaviors via global properties. the rest of the article is organized as follows. sections and detail the social dimensions extraction and the recommendations generation, respectively. finally, section # gives the conclusions and future work.